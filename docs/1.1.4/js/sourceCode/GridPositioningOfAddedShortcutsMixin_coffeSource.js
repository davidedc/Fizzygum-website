// Generated by CoffeeScript 1.12.7
window.GridPositioningOfAddedShortcutsMixin_coffeSource = '# REQUIRES globalFunctions\n\n\nGridPositioningOfAddedShortcutsMixin =\n  # class properties here:\n  # none\n\n  # instance properties to follow:\n  onceAddedClassProperties: (fromClass) ->\n    @addInstanceProperties fromClass,\n\n      numberOfIconsOnDesktop: 0\n      laysIconsHorizontallyInGrid: true\n      iconsLayingInGridWrapCount: 3\n      iconsPaddingFromContainerEdges: 5\n\n      add: (aMorph, position, layoutSpec, beingDropped) ->\n        # TODO can\'t handle default parameters in mixins\n        if !position?\n          position = nil\n        if !layoutSpec?\n          layoutSpec = LayoutSpec.ATTACHEDAS_FREEFLOATING\n\n        super\n        # If the user drops an icon, it\'s more natural to just position it\n        # where it is. Conversely, if an icon is just "created" somewhere,\n        # then automatic grid positioning is better.\n        if !beingDropped and (aMorph instanceof WidgetHolderWithCaptionWdgt) and !(aMorph instanceof BasementOpenerWdgt)\n          if @laysIconsHorizontallyInGrid\n            xPos = @numberOfIconsOnDesktop % @iconsLayingInGridWrapCount\n            yPos = Math.floor @numberOfIconsOnDesktop / @iconsLayingInGridWrapCount\n          else\n            xPos = Math.floor @numberOfIconsOnDesktop / @iconsLayingInGridWrapCount\n            yPos = @numberOfIconsOnDesktop % @iconsLayingInGridWrapCount\n          aMorph.fullRawMoveTo (@position().add new Point xPos * 85, yPos * 85).add @iconsPaddingFromContainerEdges\n          @numberOfIconsOnDesktop++\n';
