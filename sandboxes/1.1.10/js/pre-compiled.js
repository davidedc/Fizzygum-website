window.preCompiled=!0,window.TreeNode=function(t=nil,e=[]){this.parent=t,this.children=e,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TreeNode,"name",{value:"TreeNode"}),window.TreeNode.__super__=Object.prototype,window.TreeNode.prototype.parent=nil,window.TreeNode.prototype.children=nil,window.TreeNode.prototype.rootCache=nil,window.TreeNode.prototype.rootCacheChecker=nil,window.TreeNode.prototype.checkFirstParentClippingAtBoundsCache=nil,window.TreeNode.prototype.cachedFirstParentClippingAtBounds=nil,window.TreeNode.prototype.gcSessionIdMark=0,window.TreeNode.prototype.gcReferenceExaminedSessionIdMark=0,window.TreeNode.prototype.toString=function(){return"a TreeNode["+(null!=this.children?this.children.length:"-")+"]"},window.TreeNode.prototype.addChild=function(t,e=nil){return WorldMorph.numberOfAddsAndRemoves++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),null==e?this.children.push(t):this.children.splice(e,0,t),t.parent=this},window.TreeNode.prototype.moveAsLastChild=function(){var t,e;if(null!=this.parent&&-1!==(e=this.parent.children.indexOf(this))&&e!==this.parent.children.length-1)return this.parent.children.splice(e,1),this.parent.children.push(this),"function"==typeof(t=this.parent).childMovedInFrontOfOthers?t.childMovedInFrontOfOthers(this):void 0},window.TreeNode.prototype.removeChild=function(t){return WorldMorph.numberOfAddsAndRemoves++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),this.children.remove(t),t.parent=nil},window.TreeNode.prototype.markReferenceAsVisited=function(t){return this.gcReferenceExaminedSessionIdMark=t},window.TreeNode.prototype.wasReferenceVisited=function(t){return this.gcReferenceExaminedSessionIdMark===t},window.TreeNode.prototype.markItAndItsParentsAsReachable=function(t){if(this.gcSessionId=t,null!=this.parent){if(this.parent.gcSessionId===t)return;if(this.isDirectlyInBasement())return;return this.parent.markItAndItsParentsAsReachable(t)}},window.TreeNode.prototype.isOrphan=function(){var t;return(t=this.root())!==world&&t!==world.hand},window.TreeNode.prototype.isDirectlyInBasement=function(){var t,e;return(null!=(t=this.parent)&&null!=(e=t.parent)?e.parent:void 0)instanceof BasementWdgt},window.TreeNode.prototype.isInBasement=function(){return 1===this.allParentsBottomToTopSuchThat((function(t){return t instanceof BasementWdgt})).length},window.TreeNode.prototype.isInBasementButReachable=function(t){return this.gcSessionId===t||(this.parent.gcSessionId===t||!(this.parent instanceof BasementWdgt)&&this.parent.isInBasementButReachable(t))},window.TreeNode.prototype.SLOWroot=function(){return null!=this.parent?this.parent.SLOWroot():this},window.TreeNode.prototype.root=function(){var t,e;return this.rootCacheChecker===WorldMorph.numberOfAddsAndRemoves||(e=this,null!=this.parent&&(e=this.parent.root()),this.rootCacheChecker=WorldMorph.numberOfAddsAndRemoves,this.rootCache=e),t=this.rootCache,world.doubleCheckCachedMethodsResults&&t!==this.SLOWroot()&&alert("root is broken"),t},window.TreeNode.prototype.pathOfChildrenPositionsRelativeToWorld=function(t){return null==t&&(t={actualPath:[],lengthOfChildrenArrays:[]}),null!=this.parent?(t.actualPath.push(this.parent.children.indexOf(this)),t.lengthOfChildrenArrays.push(this.parent.children.length),this.parent.pathOfChildrenPositionsRelativeToWorld(t)):this===world?(t.actualPath.reverse(),t.lengthOfChildrenArrays.reverse(),t):nil},window.TreeNode.prototype.allChildrenBottomToTop=function(){var t;return t=[this],this.children.forEach((function(e){return t=t.concat(e.allChildrenBottomToTop())})),t},window.TreeNode.prototype.allChildrenTopToBottomSuchThat=function(t){var e,n,o,i;for(e=[],i=n=this.children.length-1;n>=0;i=n+=-1)o=this.children[i],e=e.concat(o.allChildrenTopToBottomSuchThat(t));return t.call(nil,this)&&e.push(this),e},window.TreeNode.prototype.forAllChildrenBottomToTop=function(t){if(t.call(nil,this),this.children.length)return this.children.forEach((function(e){return e.forAllChildrenBottomToTop(t)}))},window.TreeNode.prototype.allParentsBottomToTop=function(){var t;return null!=this.parent?((t=this.parent.allParentsBottomToTop()).push(this),t):[this]},window.TreeNode.prototype.allParentsTopToBottom=function(){return this.allParentsBottomToTop().reverse()},window.TreeNode.prototype.allParentsBottomToTopSuchThat=function(t){var e;return e=[],null!=this.parent&&(e=this.parent.allParentsBottomToTopSuchThat(t)),t.call(nil,this)&&e.push(this),e},window.TreeNode.prototype.allParentsTopToBottomSuchThat=function(t){var e;return e=[],t.call(nil,this)&&(e=[this]),null!=this.parent&&(e=e.concat(this.parent.allParentsTopToBottomSuchThat(t))),e},window.TreeNode.prototype.isAncestorOf=function(t){var e;if(null==t&&"undefined"!=typeof Automator&&null!==Automator&&(console.log("failed to find morph in test: "+world.automator.name),console.log("trying to find item with text label: "+world.automator.player.getCommandBeingPlayed().textLabelOfClickedItem),console.log("...you can likely fix the test by correcting the label above in the test")),t===this)return!0;for(e=t;null!=e.parent;)if((e=e.parent)===this)return!0;return!1},window.TreeNode.prototype.amITheFirstSibling=function(){return this.parent.children[0]===this},window.TreeNode.prototype.amITheLastSibling=function(){return this.parent.children[this.parent.children.length-1]===this},window.TreeNode.prototype.positionAmongSiblings=function(){var t,e,n,o;for(o=0,t=0,e=(n=this.parent.children).length;t<e;t++){if(n[t]===this)return o;o++}},window.TreeNode.prototype.siblingBeforeMeIsA=function(t){return!this.amITheFirstSibling()&&this.parent.children[this.positionAmongSiblings()-1]instanceof t},window.TreeNode.prototype.siblingAfterMeIsA=function(t){return!this.amITheLastSibling()&&this.parent.children[this.positionAmongSiblings()+1]instanceof t},window.TreeNode.prototype.howManySiblingsBeforeMeSuchThat=function(t){var e,n,o,i,r;for(r=0,n=0,o=(i=this.parent.children).length;n<o;n++){if((e=i[n])===this)return r;t.call(nil,e)&&r++}return r},window.TreeNode.prototype.lastSiblingBeforeMeSuchThat=function(t){var e,n,o,i,r,s;for(s=0,o=nil,n=0,i=(r=this.parent.children).length;n<i&&(e=r[n])!==this;n++)t.call(nil,e)&&(o=s),s++;return null!=o?this.parent.children[o]:nil},window.TreeNode.prototype.firstSiblingAfterMeSuchThat=function(t){var e,n,o,i,r;for(r=!1,n=0,o=(i=this.parent.children).length;n<o;n++){if(e=i[n],r&&t.call(nil,e))return e;e===this&&(r=!0)}return nil},window.TreeNode.prototype.childrenNotHandlesNorCarets=function(t=this){return t.children.filter((function(t){return!(t instanceof HandleMorph||t instanceof CaretMorph)}))},window.TreeNode.prototype.nthChildSuchThat=function(t,e){var n,o,i,r,s;for(r=0,n=0,o=(i=this.children).length;n<o;n++)if(s=i[n],e.call(nil,s)&&++r===t)return s;return nil},window.TreeNode.prototype.firstChildSuchThat=function(t){return this.nthChildSuchThat(1,t)},window.TreeNode.prototype.SLOWfirstParentClippingAtBounds=function(t=this){return null!=t.parent?t.parent.clipsAtRectangularBounds?t.parent:t.parent.SLOWfirstParentClippingAtBounds():nil},window.TreeNode.prototype.firstParentClippingAtBounds=function(t=this){var e;return this.checkFirstParentClippingAtBoundsCache===WorldMorph.numberOfAddsAndRemoves&&world.doubleCheckCachedMethodsResults&&this.cachedFirstParentClippingAtBounds!==this.SLOWfirstParentClippingAtBounds(t)&&alert("firstParentClippingAtBounds is broken (cached)"),e=null!=t.parent?t.parent.clipsAtRectangularBounds?t.parent:t.parent.firstParentClippingAtBounds():nil,world.doubleCheckCachedMethodsResults&&e!==this.SLOWfirstParentClippingAtBounds(t)&&alert("firstParentClippingAtBounds is broken (uncached)"),this.checkFirstParentClippingAtBoundsCache=WorldMorph.numberOfAddsAndRemoves,this.cachedFirstParentClippingAtBounds=e},window.TreeNode.prototype.parentThatIsA=function(...t){var e,n,o;for(n=0,o=t.length;n<o;n++)if(this instanceof(e=t[n]))return[this,e];return this.parent?this.parent.parentThatIsA(...t):nil},window.TreeNode.prototype.topWdgtSuchThat=function(t){var e,n,o;if(0===this.children.length)return t.call(nil,this)?this:nil;for(o=n=this.children.length-1;n>=0;o=n+=-1)if(null!=(e=this.children[o].topWdgtSuchThat(t)))return e;return t.call(nil,this)?this:nil},window.TreeNode.prototype.topmostChildSuchThat=function(t){var e,n,o;for(o=e=this.children.length-1;e>=0;o=e+=-1)if(n=this.children[o],t.call(nil,n))return n;return nil},window.TreeNode.prototype.collectAllChildrenBottomToTopSuchThat=function(t){var e;return e=[],t.call(nil,this)&&(e=[this]),this.children.forEach((function(n){return e=e.concat(n.collectAllChildrenBottomToTopSuchThat(t))})),e},window.TreeNode.instances=new Set,"function"==typeof window.TreeNode.initStaticConstsAfterClassDefinition&&window.TreeNode.initStaticConstsAfterClassDefinition();var DeepCopierMixin,indexOf=[].indexOf,HighlightableMixin,ControllerMixin,BackBufferMixin,UpperRightInternalHaloMixin,ClippingAtRectangularBoundsMixin,GridPositioningOfAddedShortcutsMixin,KeepIconicDesktopSystemLinksBackMixin,CreateShortcutOfDroppedItemsMixin,WidgetCreatorAndSmartPlacerOnClickMixin,KeepsRatioWhenInVerticalStackMixin,ChildrenStainerMixin,ParentStainerMixin;DeepCopierMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{deepCopy:function(t,e,n,o){var i,r,s,a;if((r=e.indexOf(this))>=0)return t?"$"+r:n[r];if(this instanceof Widget&&indexOf.call(o,this)<0)return t?"$EXTERNAL"+this.uniqueIDString():this;for(a in s=e.length,e.push(this),i=this.createPristineObjOfSameTypeAsThisOne(t),n.push(i),this)this.hasOwnProperty(a)&&(null==this[a]?i[a]=nil:"object"==typeof this[a]?null!=this[a].rebuildDerivedValue?i[a]=nil:(null==this[a].deepCopy&&(console.dir(this),console.log(a)),i[a]=this[a].deepCopy(t,e,n,o)):"instanceNumericID"!==a&&(i[a]=this[a]));return t?"$"+s:(i.rebuildDerivedValues(this),null!=this.alignCopiedMorphToBrokenInfoDataStructures&&this.alignCopiedMorphToBrokenInfoDataStructures(i),null!=this.alignCopiedMorphToSteppingStructures&&this.alignCopiedMorphToSteppingStructures(i),null!=this.alignCopiedMorphToReferenceTracker&&this.alignCopiedMorphToReferenceTracker(i),"function"==typeof i.justBeenCopied&&i.justBeenCopied(),i)},rebuildDerivedValues:function(t){var e,n,o;for(e in o=[],this)this.hasOwnProperty(e)&&null!=(null!=(n=t[e])?n.rebuildDerivedValue:void 0)?o.push(t[e].rebuildDerivedValue(this,e)):o.push(void 0);return o},createPristineObjOfSameTypeAsThisOne:function(t){var e;return"object"==typeof this?("function"==typeof(e=Object.create(this.constructor.prototype)).registerThisInstance&&e.registerThisInstance(),t&&(e.className=this.constructor.name),null!=e.assignUniqueID&&e.assignUniqueID(),e):this}})}},window.Color=function(t=0,e=0,n=0,o=1){this._r=t,this._g=e,this._b=n,this._a=o,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Color,"name",{value:"Color"}),window.Color.__super__=Object.prototype,window.Color.augmentWith(window.DeepCopierMixin,"Color"),window.Color.prototype._r=nil,window.Color.prototype._g=nil,window.Color.prototype._b=nil,window.Color.prototype._a=nil,window.Color.prototype.bluerBy=function(t){return new this.constructor(this._r,this._g,this._b+t,this._a)},window.Color.prototype.toString=function(){return"rgba("+Math.round(this._r)+","+Math.round(this._g)+","+Math.round(this._b)+","+this._a+")"},window.Color.prototype.equals=function(t){return this===t||t&&this._r===t._r&&this._g===t._g&&this._b===t._b&&this._a===t._a},window.Color._literalsData=[["ALICEBLUE",240,248,255],["ANTIQUEWHITE",250,235,215],["AQUA",0,255,255],["AQUAMARINE",127,255,212],["AZURE",240,255,255],["BEIGE",245,245,220],["BISQUE",255,228,196],["BLACK",0,0,0],["BLANCHEDALMOND",255,235,205],["BLUE",0,0,255],["BLUEVIOLET",138,43,226],["BROWN",165,42,42],["BURLYWOOD",222,184,135],["CADETBLUE",95,158,160],["CHARTREUSE",127,255,0],["CHOCOLATE",210,105,30],["CORAL",255,127,80],["CORNFLOWERBLUE",100,149,237],["CORNSILK",255,248,220],["CRIMSON",220,20,60],["CYAN",0,255,255],["DARKBLUE",0,0,139],["DARKCYAN",0,139,139],["DARKGOLDENROD",184,134,11],["DARKGRAY",169,169,169],["DARKGREY",169,169,169],["DARKGREEN",0,100,0],["DARKKHAKI",189,183,107],["DARKMAGENTA",139,0,139],["DARKOLIVEGREEN",85,107,47],["DARKORANGE",255,140,0],["DARKORCHID",153,50,204],["DARKRED",139,0,0],["DARKSALMON",233,150,122],["DARKSEAGREEN",143,188,143],["DARKSLATEBLUE",72,61,139],["DARKSLATEGRAY",47,79,79],["DARKSLATEGREY",47,79,79],["DARKTURQUOISE",0,206,209],["DARKVIOLET",148,0,211],["DEEPPINK",255,20,147],["DEEPSKYBLUE",0,191,255],["DIMGRAY",105,105,105],["DIMGREY",105,105,105],["DODGERBLUE",30,144,255],["FIREBRICK",178,34,34],["FLORALWHITE",255,250,240],["FORESTGREEN",34,139,34],["FUCHSIA",255,0,255],["GAINSBORO",220,220,220],["GHOSTWHITE",248,248,255],["GOLD",255,215,0],["GOLDENROD",218,165,32],["GRAY",128,128,128],["GREY",128,128,128],["GREEN",0,128,0],["GREENYELLOW",173,255,47],["HONEYDEW",240,255,240],["HOTPINK",255,105,180],["INDIANRED",205,92,92],["INDIGO",75,0,130],["IVORY",255,255,240],["KHAKI",240,230,140],["LAVENDER",230,230,250],["LAVENDERBLUSH",255,240,245],["LAWNGREEN",124,252,0],["LEMONCHIFFON",255,250,205],["LIGHTBLUE",173,216,230],["LIGHTCORAL",240,128,128],["LIGHTCYAN",224,255,255],["LIGHTGOLDENRODYELLOW",250,250,210],["LIGHTGREY",211,211,211],["LIGHTGRAY",211,211,211],["LIGHTGREEN",144,238,144],["LIGHTPINK",255,182,193],["LIGHTSALMON",255,160,122],["LIGHTSEAGREEN",32,178,170],["LIGHTSKYBLUE",135,206,250],["LIGHTSLATEGRAY",119,136,153],["LIGHTSLATEGREY",119,136,153],["LIGHTSTEELBLUE",176,196,222],["LIGHTYELLOW",255,255,224],["LIME",0,255,0],["LIMEGREEN",50,205,50],["LINEN",250,240,230],["MINTCREAM",245,255,250],["MISTYROSE",255,228,225],["MOCCASIN",255,228,181],["NAVAJOWHITE",255,222,173],["NAVY",0,0,128],["OLDLACE",253,245,230],["OLIVE",128,128,0],["OLIVEDRAB",107,142,35],["ORANGE",255,165,0],["ORANGERED",255,69,0],["ORCHID",218,112,214],["PALEGOLDENROD",238,232,170],["PALEGREEN",152,251,152],["PALETURQUOISE",175,238,238],["PALEVIOLETRED",216,112,147],["PAPAYAWHIP",255,239,213],["PEACHPUFF",255,218,185],["PERU",205,133,63],["PINK",255,192,203],["PLUM",221,160,221],["POWDERBLUE",176,224,230],["PURPLE",128,0,128],["RED",255,0,0],["ROSYBROWN",188,143,143],["ROYALBLUE",65,105,225],["SADDLEBROWN",139,69,19],["SALMON",250,128,114],["SANDYBROWN",244,164,96],["SEAGREEN",46,139,87],["SEASHELL",255,245,238],["SIENNA",160,82,45],["SILVER",192,192,192],["SKYBLUE",135,206,235],["SLATEBLUE",106,90,205],["SLATEGRAY",112,128,144],["SLATEGREY",112,128,144],["SNOW",255,250,250],["SPRINGGREEN",0,255,127],["STEELBLUE",70,130,180],["TAN",210,180,140],["TEAL",0,128,128],["THISTLE",216,191,216],["TOMATO",255,99,71],["TURQUOISE",64,224,208],["VIOLET",238,130,238],["WHEAT",245,222,179],["WHITE",255,255,255],["WHITESMOKE",245,245,245],["YELLOW",255,255,0],["YELLOWGREEN",154,205,50]],window.Color.AVAILABLE_LITERALS_NAMES=[],window.Color.initStaticConstsAfterClassDefinition=function(){var t,e,n,o;for(e=0,n=(o=this._literalsData).length;e<n;e++)this[(t=o[e])[0]]=new this(t[1],t[2],t[3]),this.AVAILABLE_LITERALS_NAMES.push(t[0]);return this._literalsData=null,this.TRANSPARENT=new this(0,0,0,0),this.AVAILABLE_LITERALS_NAMES.push("TRANSPARENT"),this.ANGLECOLOR="angleColor"},window.Color.instances=new Set,"function"==typeof window.Color.initStaticConstsAfterClassDefinition&&window.Color.initStaticConstsAfterClassDefinition(),window.LayoutSpec=function(){window.LayoutSpec.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LayoutSpec,"name",{value:"LayoutSpec"}),window.LayoutSpec.__super__=Object.prototype,window.LayoutSpec.ATTACHEDAS_FREEFLOATING=1e5,window.LayoutSpec.ATTACHEDAS_INSET=100001,window.LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT=100002,window.LayoutSpec.ATTACHEDAS_WINDOW_CONTENT=100003,window.LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED=100004,window.LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_STRETCH=100005,window.LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_TOP=100006,window.LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_CENTER=100007,window.LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_BOTTOM=100008,window.LayoutSpec.SPREADABILITY_HANDLES=1,window.LayoutSpec.SPREADABILITY_NONE=10,window.LayoutSpec.SPREADABILITY_LOW=100,window.LayoutSpec.SPREADABILITY_MEDIUM=1e3,window.LayoutSpec.SPREADABILITY_SPACERS=1e8,window.LayoutSpec.instances=new Set,"function"==typeof window.LayoutSpec.initStaticConstsAfterClassDefinition&&window.LayoutSpec.initStaticConstsAfterClassDefinition(),window.Widget=function(){var t,e;Widget.__super__.constructor.call(this),this.assignUniqueID(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&(t=world.automator.tagsCollectedWhileRecordingTest,e=this.constructor.name,indexOf.call(t,e)<0&&t.push(this.constructor.name)),this.bounds=Rectangle.EMPTY,this.minimumExtent=new Point(5,5),this.silentRawSetBounds(new Rectangle(0,0,50,40)),this.lastTime=Date.now(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Widget,"name",{value:"Widget"}),window.Widget.__super__=window.TreeNode.prototype,window.Widget=extend(window.Widget,window.TreeNode),window.Widget.augmentWith(window.DeepCopierMixin,"Widget"),window.Widget.prototype.instanceNumericID=0,window.Widget.prototype.appearance=nil,window.Widget.prototype.dragsDropsAndEditingEnabled=!0,window.Widget.prototype.propertyUpTheChain=[1,2,3],window.Widget.prototype.morphMethod=function(){return 3.14},window.Widget.prototype.isMorph=!0,window.Widget.prototype.bounds=nil,window.Widget.prototype.minimumExtent=nil,window.Widget.prototype.color=new Color(80,80,80),window.Widget.prototype.strokeColor=nil,window.Widget.prototype.texture=nil,window.Widget.prototype.cachedTexture=nil,window.Widget.prototype.lastTime=nil,window.Widget.prototype.desiredExtent=nil,window.Widget.prototype.desiredPosition=nil,window.Widget.prototype.alpha=1,window.Widget.prototype.paddingTop=0,window.Widget.prototype.paddingBottom=0,window.Widget.prototype.paddingLeft=0,window.Widget.prototype.paddingRight=0,window.Widget.prototype.backgroundColor=nil,window.Widget.prototype.backgroundTransparency=1,window.Widget.prototype.isVisible=!0,window.Widget.prototype.collapsed=!1,window.Widget.prototype.isTemplate=!1,window.Widget.prototype._acceptsDrops=!1,window.Widget.prototype.noticesTransparentClick=!1,window.Widget.prototype.fps=0,window.Widget.prototype.isLockingToPanels=!1,window.Widget.prototype.defaultRejectDrags=!1,window.Widget.prototype.overridingContextMenu=nil,window.Widget.prototype.takesOverAndCoalescesChildrensMenus=!1,window.Widget.prototype.shadowBlur=10,window.Widget.prototype.onNextStep=nil,window.Widget.prototype.clickOutsideMeOrAnyOfMeChildrenCallback=[nil],window.Widget.prototype.textDescription=nil,window.Widget.prototype.geometryOrPositionPossiblyChanged=!1,window.Widget.prototype.clippedBoundsWhenLastPainted=nil,window.Widget.prototype.fullGeometryOrPositionPossiblyChanged=!1,window.Widget.prototype.fullClippedBoundsWhenLastPainted=nil,window.Widget.prototype.cachedFullBounds=nil,window.Widget.prototype.childrenBoundsUpdatedAt=-1,window.Widget.prototype.cachedFullClippedBounds=nil,window.Widget.prototype.checkFullClippedBoundsCache=nil,window.Widget.prototype.visibleBasedOnIsVisiblePropertyCache=nil,window.Widget.prototype.checkVisibleBasedOnIsVisiblePropertyCache="",window.Widget.prototype.clippedThroughBoundsCache=nil,window.Widget.prototype.checkClippedThroughBoundsCache="",window.Widget.prototype.clipThroughCache=nil,window.Widget.prototype.checkClipThroughCache=nil,window.Widget.prototype.srcBrokenRect=nil,window.Widget.prototype.dstBrokenRect=nil,window.Widget.prototype.layoutIsValid=!0,window.Widget.prototype.layoutSpec=LayoutSpec.ATTACHEDAS_FREEFLOATING,window.Widget.prototype.layoutSpecDetails=nil,window.Widget.prototype._showsAdders=!1,window.Widget.prototype.highlighted=!1,window.Widget.prototype.wdgtThisWdgtIsHighlighting=nil,window.Widget.prototype.destroyed=!1,window.Widget.prototype.shadowInfo=nil,window.Widget.prototype.userMovedThisFromComputedPosition=!1,window.Widget.prototype.positionFractionalInHoldingPanel=nil,window.Widget.prototype.wasPositionedSlightlyOutsidePanel=!1,window.Widget.prototype.connectionsCalculationToken=0,window.Widget.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.THIS_ONE_I_HAVE_NOW,PreferredSize.THIS_ONE_I_HAVE_NOW,1)},window.Widget.prototype.initialiseDefaultVerticalStackLayoutSpec=function(){if(!(this.layoutSpecDetails instanceof VerticalStackLayoutSpec))return this.layoutSpecDetails=new VerticalStackLayoutSpec(1)},window.Widget.prototype.mouseClickRight=function(){return world.hand.openContextMenuAtPointer(this)},window.Widget.prototype.getTextDescription=function(){return null!=this.textDescription?this.textDescription+""+this.constructor.name.replace("Wdgt","")+" (adhoc description of morph)":this.constructor.name.replace("Wdgt","")+" (class name)"},window.Widget.prototype.identifyViaTextLabel=function(){var t,e,n,o;return e=this.getTextDescription(),n=(t=world.allChildrenTopToBottomSuchThat((function(t){return t.getTextDescription()===e}))).indexOf(this),o=t.length,[e,n,o]},window.Widget.prototype.uniqueIDString=function(){return this.morphClassString()+"#"+this.instanceNumericID},window.Widget.prototype.morphClassString=function(){return this.constructor.name||this.constructor.toString().split(" ")[1].split("(")[0]},window.Widget.prototype.assignUniqueID=function(){return this.constructor.instancesCounter++,this.constructor.lastBuiltInstanceNumericID++,this.instanceNumericID=this.constructor.lastBuiltInstanceNumericID},window.Widget.prototype.startCountdownForBubbleHelp=function(t){return ToolTipWdgt.createInAWhileIfHandStillContainedInMorph(this,t)},window.Widget.prototype.registerThisInstance=function(){var t,e;for(t=this.constructor,e=[];null!=t.instances;)t.instances.add(this),e.push(t=t.__super__.constructor);return e},window.Widget.prototype.unregisterThisInstance=function(){var t,e;for(t=this.constructor,e=[];null!=t.instances;)t.instances.delete(this),e.push(t=t.__super__.constructor);return e},window.Widget.prototype.isTransparentAt=function(t){var e;return null!=(e=this.appearance)?e.isTransparentAt(t):void 0},window.Widget.prototype.paintHighlight=function(t,e,n,o,i){var r;return null!=(r=this.appearance)?r.paintHighlight(t,e,n,o,i):void 0},window.Widget.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o;return null!=(o=this.appearance)?o.paintIntoAreaOrBlitFromBackBuffer(t,e,n):void 0},window.Widget.prototype.paintStroke=function(t,e){if(null!=this.appearance&&null!=this.appearance.paintStroke)return this.appearance.paintStroke(t,e)},window.Widget.prototype.addShapeSpecificMenuItems=function(t){var e;return null!=(null!=(e=this.appearance)?e.addShapeSpecificMenuItems:void 0)?this.appearance.addShapeSpecificMenuItems(t):t},window.Widget.prototype.addShapeSpecificNumericalSetters=function(t,e){var n;return null==t&&(t=[],e=[]),null!=(null!=(n=this.appearance)?n.addShapeSpecificNumericalSetters:void 0)&&([t,e]=this.appearance.addShapeSpecificNumericalSetters(t,e)),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.Widget.prototype.toString=function(){return"a ","undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.hidingOfMorphsNumberIDInLabels?"a "+this.morphClassString():"a "+this.uniqueIDString()},window.Widget.prototype.close=function(){var t;if(this instanceof WindowWdgt||null==this.parent||!(this.parent instanceof WindowWdgt))return world.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.delete(this),null!=(t=this.parent)&&"function"==typeof t.childBeingClosed&&t.childBeingClosed(this),null!=world.basementWdgt?world.basementWdgt.scrollPanel.contents.addInPseudoRandomPosition(this):world.inform("There is no\nbasement to go in!");this.parent.close()},window.Widget.prototype.closeFromContainerWindow=function(t){return t.close()},window.Widget.prototype.destroy=function(){var t,e,n,o;return null!=(n=this.parent)&&"function"==typeof n.childBeingDestroyed&&n.childBeingDestroyed(this),this.unregisterThisInstance(),world.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.delete(this),this.destroyed=!0,null!=(o=this.parent)&&o.invalidateLayout(),this.breakNumberOfRawMovesAndResizesCaches(),WorldMorph.numberOfAddsAndRemoves++,world.steppingWdgts.delete(this),null!=world.caret&&this.isAncestorOf(world.caret.target)&&world.stopEditing(),this.onClickOutsideMeOrAnyOfMyChildren(nil),null!=this.parent&&(e=this.parent,null!=(t=this.firstParentOwningMyShadow())?t.fullChanged():this.fullChanged(),e.removeChild(this),null!=e.childRemoved&&e.childRemoved(this)),0!==this.children.length&&(this.children=[]),nil},window.Widget.prototype.fullDestroy=function(){for(WorldMorph.numberOfAddsAndRemoves++;0!==this.children.length;)this.children[0].fullDestroy();return this.destroy(),nil},window.Widget.prototype.closeChildren=function(){for(WorldMorph.numberOfAddsAndRemoves++;0!==this.children.length;)this.children[0].close();return nil},window.Widget.prototype.fullDestroyChildren=function(){if(0!==this.children.length){for(WorldMorph.numberOfAddsAndRemoves++;0!==this.children.length;)this.children[0].fullDestroy();return nil}},window.Widget.prototype.setLayoutSpec=function(t){var e;if(this.layoutSpec!==t)return this.layoutSpec=t,null!=(e=this.firstChildSuchThat((function(t){return t instanceof HandleMorph})))?e.updateVisibilityAndPosition():void 0},window.Widget.prototype.step=noOperation,window.Widget.prototype.left=function(){return this.bounds.left()},window.Widget.prototype.right=function(){return this.bounds.right()},window.Widget.prototype.top=function(){return this.bounds.top()},window.Widget.prototype.bottom=function(){return this.bounds.bottom()},window.Widget.prototype.center=function(){return this.bounds.center()},window.Widget.prototype.bottomCenter=function(){return this.bounds.bottomCenter()},window.Widget.prototype.bottomLeft=function(){return this.bounds.bottomLeft()},window.Widget.prototype.bottomRight=function(){return this.bounds.bottomRight()},window.Widget.prototype.boundingBox=function(){return this.bounds},window.Widget.prototype.leftTight=function(){return this.bounds.left()+this.paddingLeft},window.Widget.prototype.rightTight=function(){return this.bounds.right()-this.paddingRight},window.Widget.prototype.topTight=function(){return this.bounds.top()+this.paddingTop},window.Widget.prototype.bottomTight=function(){return this.bounds.bottom()-this.paddingBottom},window.Widget.prototype.bottomCenterTight=function(){return this.bounds.bottomCenter().subtract(new Point(0,this.paddingBottom))},window.Widget.prototype.bottomLeftTight=function(){return this.bounds.bottomLeft().add(new Point(this.paddingLeft,-this.paddingBottom))},window.Widget.prototype.bottomRightTight=function(){return this.bounds.bottomRight().subtract(new Point(this.paddingRight,this.paddingBottom))},window.Widget.prototype.boundingBoxTight=function(){return new Rectangle(this.leftTight(),this.topTight(),this.rightTight(),this.bottomTight())},window.Widget.prototype.rawResizeToWithoutSpacing=function(){},window.Widget.prototype.rawSetWidthSizeHeightAccordingly=function(t){if(this.rawSetWidth(t),this.implementsDeferredLayout())return this.invalidateLayout()},window.Widget.prototype.rawSetBounds=function(t){if(!this.bounds.equals(t))return this.bounds.origin.equals(t.origin)||(this.bounds=this.bounds.translateTo(t.origin),this.breakNumberOfRawMovesAndResizesCaches(),this.changed()),this.rawSetExtent(t.extent())},window.Widget.prototype.setBounds=function(t,e=nil){var n,o;if(this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING);else if(t=t.round(),n=new Point(t.width(),t.height()),this.extent().equals(n)||(this.desiredExtent=n,this.invalidateLayout()),o=t.origin.copy(),!this.position().equals(o))return this.desiredPosition=o,this.invalidateLayout()},window.Widget.prototype.silentRawSetBounds=function(t){if(!this.bounds.equals(t))return this.bounds.origin.equals(t.origin)||(this.bounds=this.bounds.translateTo(t.origin),this.breakNumberOfRawMovesAndResizesCaches()),this.silentRawSetExtent(t.extent())},window.Widget.prototype.leftCenter=function(){return this.bounds.leftCenter()},window.Widget.prototype.rightCenter=function(){return this.bounds.rightCenter()},window.Widget.prototype.topCenter=function(){return this.bounds.topCenter()},window.Widget.prototype.topLeft=function(){return this.bounds.origin},window.Widget.prototype.topRight=function(){return this.bounds.topRight()},window.Widget.prototype.position=function(){return this.bounds.origin},window.Widget.prototype.positionFractionalInMorph=function(t){var e,n;return[e,n]=this.positionPixelsInMorph(t),[e/t.width(),n/t.height()]},window.Widget.prototype.extentFractionalInMorph=function(t){var e,n;return n=this.width(),e=this.height(),[n/t.width(),e/t.height()]},window.Widget.prototype.positionPixelsInMorph=function(t){var e;return[(e=this.position().toLocalCoordinatesOf(t)).x,e.y]},window.Widget.prototype.extent=function(){return this.bounds.extent()},window.Widget.prototype.width=function(){return this.bounds.width()},window.Widget.prototype.widthWithoutSpacing=function(){return this.width()},window.Widget.prototype.height=function(){return this.bounds.height()},window.Widget.prototype.leftCenterTight=function(){return this.bounds.leftCenter().add(new Point(this.paddingLeft,0))},window.Widget.prototype.rightCenterTight=function(){return this.bounds.rightCenter().subtract(new Point(this.paddingRight,0))},window.Widget.prototype.topCenterTight=function(){return this.bounds.topCenter().add(new Point(0,this.paddingTop))},window.Widget.prototype.topLeftTight=function(){return this.bounds.origin.add(new Point(this.paddingLeft,this.paddingTop))},window.Widget.prototype.topRightTight=function(){return this.bounds.topRight.add(new Point(-this.paddingRight,this.paddingTop))},window.Widget.prototype.positionTight=function(){return this.bounds.origin.add(new Point(this.paddingLeft,this.paddingTop))},window.Widget.prototype.extentTight=function(){return this.bounds.extent().subtract(new Point-(this.paddingLeft+this.paddingRight),-(this.paddingTop+this.paddingBottom))},window.Widget.prototype.widthTight=function(){return this.bounds.width()-(this.paddingLeft+this.paddingRight)},window.Widget.prototype.heightTight=function(){return this.bounds.height()-(this.paddingTop+this.paddingBottom)},window.Widget.prototype.plausibleTargetAndDestinationMorphs=function(t){var e;return e=[],!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()||t.isAncestorOf(this)||!this.areBoundsIntersecting(t)||this.anyParentPopUpMarkedForClosure()||(e=[this]),this.children.forEach((function(n){return e=e.concat(n.plausibleTargetAndDestinationMorphs(t))})),e},window.Widget.prototype.surelyNotShowingUpOnScreenBasedOnVisibilityCollapseAndOrphanage=function(){return!this.isVisible||(!!this.isOrphan()||(!this.visibleBasedOnIsVisibleProperty()||!!this.isCollapsed()))},window.Widget.prototype.SLOWvisibleBasedOnIsVisibleProperty=function(){return!!this.isVisible&&(null==this.parent||this.parent.SLOWvisibleBasedOnIsVisibleProperty())},window.Widget.prototype.visibleBasedOnIsVisibleProperty=function(){var t;return this.isVisible?null==this.parent?t=!0:(this.checkVisibleBasedOnIsVisiblePropertyCache===WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges||(this.checkVisibleBasedOnIsVisiblePropertyCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges,this.visibleBasedOnIsVisiblePropertyCache=this.parent.visibleBasedOnIsVisibleProperty()),t=this.visibleBasedOnIsVisiblePropertyCache):(this.checkVisibleBasedOnIsVisiblePropertyCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges,this.visibleBasedOnIsVisiblePropertyCache=!1,t=this.visibleBasedOnIsVisiblePropertyCache),world.doubleCheckCachedMethodsResults&&t!==this.SLOWvisibleBasedOnIsVisibleProperty()&&alert("visibleBasedOnIsVisibleProperty is broken"),t},window.Widget.prototype.invalidateFullBoundsCache=function(){var t;if(null!=this.cachedFullBounds)return this.cachedFullBounds=nil,null!=(null!=(t=this.parent)?t.cachedFullBounds:void 0)?this.parent.invalidateFullBoundsCache(this):void 0},window.Widget.prototype.invalidateFullClippedBoundsCache=function(){var t;if(null!=this.checkFullClippedBoundsCache)return this.checkFullClippedBoundsCache=nil,null!=(null!=(t=this.parent)?t.checkFullClippedBoundsCache:void 0)?this.parent.invalidateFullClippedBoundsCache(this):void 0},window.Widget.prototype.SLOWfullBounds=function(){var t;return t=this.bounds,this.children.forEach((function(e){if(e.visibleBasedOnIsVisibleProperty()&&!e.isCollapsed())return t=t.merge(e.SLOWfullBounds())})),t},window.Widget.prototype.SLOWfullClippedBounds=function(){var t;return this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?Rectangle.EMPTY:(t=this.clippedThroughBounds(),this.children.forEach((function(e){if(e.visibleBasedOnIsVisibleProperty()&&!e.isCollapsed())return t=t.merge(e.SLOWfullClippedBounds())})),t)},window.Widget.prototype.subMorphsMergedFullBounds=function(){var t;return t=nil,this.children.length&&(t=this.children[0].bounds,this.children.forEach((function(e){if(!(e instanceof HandleMorph||e instanceof CaretMorph))return t=e.implementsDeferredLayout()?t.merge(e.bounds):t.merge(e.fullBounds())}))),t},window.Widget.prototype.fullBounds=function(){var t;return null!=this.cachedFullBounds?(world.doubleCheckCachedMethodsResults&&(this.cachedFullBounds.equals(this.SLOWfullBounds())||alert("fullBounds is broken (cached)")),this.cachedFullBounds):(t=this.bounds,this.children.forEach((function(e){if(e.visibleBasedOnIsVisibleProperty()&&!e.isCollapsed())return t=t.merge(e.fullBounds())})),world.doubleCheckCachedMethodsResults&&(t.equals(this.SLOWfullBounds())||alert("fullBounds is broken (uncached)")),this.cachedFullBounds=t)},window.Widget.prototype.fullClippedBounds=function(){var t;if(this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed())t=Rectangle.EMPTY;else{if(this.checkFullClippedBoundsCache===WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes)return world.doubleCheckCachedMethodsResults&&(this.cachedFullClippedBounds.equals(this.SLOWfullClippedBounds())||alert("fullClippedBounds is broken")),this.cachedFullClippedBounds;t=this.clippedThroughBounds(),this.children.forEach((function(e){if(e.visibleBasedOnIsVisibleProperty()&&!e.isCollapsed())return t=t.merge(e.fullClippedBounds())}))}return world.doubleCheckCachedMethodsResults&&(t.equals(this.SLOWfullClippedBounds())||alert("fullClippedBounds is broken")),this.checkFullClippedBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.cachedFullClippedBounds=t},window.Widget.prototype.clippedThroughBounds=function(){return this.checkClippedThroughBoundsCache===WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes?this.clippedThroughBoundsCache:this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?(this.checkClippedThroughBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clippedThroughBoundsCache=Rectangle.EMPTY,this.clippedThroughBoundsCache):(this.checkClippedThroughBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clippedThroughBoundsCache=this.boundingBox().intersect(this.clipThrough()),this.clippedThroughBoundsCache)},window.Widget.prototype.clipThrough=function(){var t,e;return Window,this.checkClipThroughCache===WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes?this.clipThroughCache:this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?(this.checkClipThroughCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clipThroughCache=Rectangle.EMPTY,this.clipThroughCache):(null==(t=this.firstParentClippingAtBounds())&&(t=world),e=t.clipThrough(),this.checkClipThroughCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clipsAtRectangularBounds?this.clipThroughCache=this.boundingBox().intersect(e):this.clipThroughCache=e,this.clipThroughCache)},window.Widget.prototype.fullRawMoveBy=function(t){if(!t.isZero())return this.breakNumberOfRawMovesAndResizesCaches(),this.fullChanged(),this.bounds=this.bounds.translateBy(t),this.amIDirectlyInsideNonTextWrappingScrollPanelWdgt()&&(this.parent.parent.adjustContentsBounds(),this.parent.parent.adjustScrollBars()),this.parent instanceof SimpleVerticalStackPanelWdgt&&this.parent.adjustContentsBounds(),this.children.forEach((function(e){return e.silentFullRawMoveBy(t)}))},window.Widget.prototype.silentFullRawMoveBy=function(t){return this.breakNumberOfRawMovesAndResizesCaches(),this.bounds=this.bounds.translateBy(t),this.children.forEach((function(e){return e.silentFullRawMoveBy(t)}))},window.Widget.prototype.breakNumberOfRawMovesAndResizesCaches=function(){if(this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),!(this instanceof ActivePointerWdgt&&0===this.children.length))return WorldMorph.numberOfRawMovesAndResizes++},window.Widget.prototype.fullRawMoveInDesktopToFractionalPosition=function(t){if(null==t&&(t=this.parent.bounds),this.positionFractionalInHoldingPanel[0]>0&&this.fullRawMoveTo(new Point(t.left()+t.width()*this.positionFractionalInHoldingPanel[0],this.top()).round()),this.positionFractionalInHoldingPanel[1]>0)return this.fullRawMoveTo(new Point(this.left(),t.top()+t.height()*this.positionFractionalInHoldingPanel[1]).round())},window.Widget.prototype.fullRawMoveInStretchablePanelToFractionalPosition=function(t){return null==t&&(t=this.parent.bounds),this.fullRawMoveTo(new Point(t.left()+t.width()*this.positionFractionalInHoldingPanel[0],t.top()+t.height()*this.positionFractionalInHoldingPanel[1]).round())},window.Widget.prototype.rawSetExtentToFractionalExtentInPaneUserHasSet=function(t){return null==t&&(t=this.parent.bounds),this.rawSetExtent(new Point(this.extentFractionalInHoldingPanel[0]*t.width(),this.extentFractionalInHoldingPanel[1]*t.height()))},window.Widget.prototype.fullRawMoveTo=function(t){var e;return t.debugIfFloats(),(e=t.toLocalCoordinatesOf(this)).isZero()||(this.breakNumberOfRawMovesAndResizesCaches(),this.fullRawMoveBy(e)),this.bounds.debugIfFloats()},window.Widget.prototype.fullMoveTo=function(t,e=nil){var n,o,i;if(this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING);else if(t=t.round(),o=Math.max(t.x,0),i=Math.max(t.y,0),n=new Point(o,i),!this.position().equals(n)&&(this.desiredPosition=n,this.invalidateLayout(),null!=e&&null!=this.parent&&e instanceof HandleMorph))return this.rememberFractionalPositionInHoldingPanel()},window.Widget.prototype.rememberFractionalPositionInHoldingPanel=function(){return this.positionFractionalInHoldingPanel=this.positionFractionalInMorph(this.parent)},window.Widget.prototype.rememberFractionalExtentInHoldingPanel=function(){return this.extentFractionalInHoldingPanel=this.extentFractionalInMorph(this.parent)},window.Widget.prototype.rememberFractionalSituationInHoldingPanel=function(){return this.rememberFractionalPositionInHoldingPanel(),this.rememberFractionalExtentInHoldingPanel(),this.wasPositionedSlightlyOutsidePanel=!this.parent.bounds.containsRectangle(this.bounds)},window.Widget.prototype.silentFullRawMoveTo=function(t){var e;if(this.breakNumberOfRawMovesAndResizesCaches(),0!==(e=t.toLocalCoordinatesOf(this)).x||0!==e.y)return this.silentFullRawMoveBy(e)},window.Widget.prototype.fullRawMoveLeftSideTo=function(t){return this.fullRawMoveTo(new Point(t,this.top()))},window.Widget.prototype.fullRawMoveRightSideTo=function(t){return this.fullRawMoveTo(new Point(t-this.width(),this.top()))},window.Widget.prototype.fullRawMoveTopSideTo=function(t){return this.fullRawMoveTo(new Point(this.left(),t))},window.Widget.prototype.fullRawMoveBottomSideTo=function(t){return this.fullRawMoveTo(new Point(this.left(),t-this.height()))},window.Widget.prototype.fullRawMoveCenterTo=function(t){return this.fullRawMoveTo(t.subtract(this.extent().floorDivideBy(2)))},window.Widget.prototype.fullRawMoveToSideOf=function(t){return this.fullRawMoveTo(t.topRight().add(new Point(10,-Math.round((this.height()-t.height())/2)))),this.fullRawMoveWithin(this.parent)},window.Widget.prototype.fullRawMoveFullCenterTo=function(t){return this.fullRawMoveTo(t.subtract(this.fullBounds().extent().floorDivideBy(2)))},window.Widget.prototype.fullRawMoveWithin=function(t){var e,n,o,i,r;null!=this.desiredExtent?(o=this.desiredExtent,this.desiredExtent=nil):o=this.extent(),null!=this.desiredPosition?(o=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(o),this.desiredPosition=nil):o=new Rectangle(this.position()).setBoundsWidthAndHeight(o),this.rawSetBounds(o),(i=o.right()-t.right())>0&&(this.fullRawMoveBy(new Point(-i,0)),o=this.bounds),(n=o.left()-t.left())<0&&(this.fullRawMoveBy(new Point(-n,0)),o=this.bounds),(e=o.bottom()-t.bottom())>0&&(this.fullRawMoveBy(new Point(0,-e)),o=this.bounds),(r=o.top()-t.top())<0&&(this.fullRawMoveBy(new Point(0,-r)),o=this.bounds)},window.Widget.prototype.notifyChildrenThatParentHasReLayouted=function(){var t,e,n,o,i;for(i=[],e=0,n=(o=this.children.slice()).length;e<n;e++)t=o[e],i.push(t.parentHasReLayouted());return i},window.Widget.prototype.parentHasReLayouted=function(){return this.notifyChildrenThatParentHasReLayouted()},window.Widget.prototype.layoutInset=function(t=nil){if(null!=this.insetMorph&&this.insetMorph!==t)return this.insetMorph.fullRawMoveTo(this.insetPosition()),this.insetMorph.rawSetExtent(this.insetSpaceExtent(),this)},window.Widget.prototype.layoutSubmorphs=function(t=nil){var e,n,o,i,r;for(this.layoutInset(t),r=[],n=0,o=(i=this.children.slice()).length;n<o;n++)t!==(e=i[n])?r.push(e.parentHasReLayouted()):r.push(void 0);return r},window.Widget.prototype.childChangedExtent=function(t){if(this.insetMorph===t)return this.rawSetExtent(this.extentBasedOnInsetExtent(t),t)},window.Widget.prototype.getMinimumExtent=function(){return this.minimumExtent},window.Widget.prototype.setMinimumExtent=function(t){this.minimumExtent=t},window.Widget.prototype.rawSetExtent=function(t,e=nil){if(this!==e)return null==e&&(e=this),t.equals(this.extent())||(this.breakNumberOfRawMovesAndResizesCaches(),this.silentRawSetExtent(t),this.changed(),this.reLayout(),this.layoutSubmorphs(e),null==this.parent||this.parent===e)?void 0:this.parent.childChangedExtent(this)},window.Widget.prototype.setExtent=function(t,e=nil){var n,o,i;if(this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING);else if(t=t.round(),i=Math.max(t.x,0),o=Math.max(t.y,0),n=new Point(i,o),!this.extent().equals(n)&&(this.desiredExtent=n,this.invalidateLayout(),null!=e&&null!=this.parent&&e instanceof HandleMorph))return this.extentFractionalInHoldingPanel=this.extentFractionalInMorph(this.parent)},window.Widget.prototype.silentRawSetExtent=function(t){var e,n,o,i;if(t=t.round(),e=this.getMinimumExtent(),t.ge(e)||(t=t.max(e)),i=Math.max(t.x,0),o=Math.max(t.y,0),n=new Rectangle(this.bounds.origin,new Point(this.bounds.origin.x+i,this.bounds.origin.y+o)),!this.bounds.equals(n)&&(this.bounds=n,this.breakNumberOfRawMovesAndResizesCaches(),this.amIDirectlyInsideNonTextWrappingScrollPanelWdgt()&&(this.parent.parent.adjustContentsBounds(),this.parent.parent.adjustScrollBars()),this.parent instanceof SimpleVerticalStackPanelWdgt))return this.parent.adjustContentsBounds()},window.Widget.prototype.refreshScrollPanelWdgtOrVerticalStackIfIamInIt=function(){if(this.amIDirectlyInsideScrollPanelWdgt()&&(this.parent.parent.adjustContentsBounds(),this.parent.parent.adjustScrollBars()),this.parent instanceof SimpleVerticalStackPanelWdgt)return this.parent.adjustContentsBounds()},window.Widget.prototype.rawSetWidth=function(t){return this.breakNumberOfRawMovesAndResizesCaches(),this.rawSetExtent(new Point(t||0,this.height()))},window.Widget.prototype.setWidth=function(t){var e,n;if(this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING);else if(n=Math.max(t,0),e=new Point(n,this.height()),!this.extent().equals(e))return this.desiredExtent=e,this.invalidateLayout()},window.Widget.prototype.silentRawSetWidth=function(t){var e;return this.breakNumberOfRawMovesAndResizesCaches(),e=Math.max(Math.round(t||0),0),this.bounds=new Rectangle(this.bounds.origin,new Point(this.bounds.origin.x+e,this.bounds.corner.y))},window.Widget.prototype.rawSetHeight=function(t){return this.breakNumberOfRawMovesAndResizesCaches(),this.rawSetExtent(new Point(this.width(),t||0))},window.Widget.prototype.setHeight=function(t){var e,n;if(this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING);else if(n=Math.max(0,t),e=new Point(this.width(),n),!this.extent().equals(e))return this.desiredExtent=e,this.invalidateLayout()},window.Widget.prototype.silentRawSetHeight=function(t){var e;return this.breakNumberOfRawMovesAndResizesCaches(),e=Math.max(Math.round(t||0),0),this.bounds=new Rectangle(this.bounds.origin,new Point(this.bounds.corner.x,this.bounds.origin.y+e))},window.Widget.prototype.setColor=function(t,e,n,o){var i,r;if(o||n!==this.connectionsCalculationToken){if(this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,i=null!=(null!=e?e.getColor:void 0)?e.getColor():t){if(null!=(null!=(r=this.color)?r.equals:void 0)&&this.color.equals(i))return;this.color=i,this.changed()}return i}},window.Widget.prototype.setBackgroundColor=function(t,e,n,o){var i,r;if(o||n!==this.connectionsCalculationToken){if(this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,i=null!=(null!=e?e.getColor:void 0)?e.getColor():t){if(null!=(null!=(r=this.backgroundColor)?r.equals:void 0)&&this.backgroundColor.equals(i))return;this.backgroundColor=i,this.changed()}return i}},window.Widget.prototype.boundsContainPoint=function(t){return this.bounds.containsPoint(t)},window.Widget.prototype.areBoundsIntersecting=function(t){return this.bounds.isIntersecting(t.bounds)},window.Widget.prototype.calculateKeyValues=function(t,e){var n,o,i,r,s,a,l,d,h;return(o=e.intersect(this.bounds).round()).isNotEmpty()&&(r=this.position().neg(),a=(l=o.translateBy(r).round()).left()*ceilPixelRatio,d=l.top()*ceilPixelRatio,n=o.left()*ceilPixelRatio,i=o.top()*ceilPixelRatio,h=Math.min(l.width()*ceilPixelRatio,this.width()*ceilPixelRatio-a),s=Math.min(l.height()*ceilPixelRatio,this.height()*ceilPixelRatio-d)),[o,a,d,n,i,h,s]},window.Widget.prototype.turnOnHighlight=function(){if(!this.highlighted)return this.highlighted=!0,world.morphsToBeHighlighted.add(this),this.changed()},window.Widget.prototype.turnOffHighlight=function(){if(this.highlighted)return this.highlighted=!1,world.morphsToBeHighlighted.delete(this),this.changed()},window.Widget.prototype.paintRectangle=function(t,e,n,o,i,r,s=nil,a=!1,l){if(null!=r)return a&&t.save(),t.fillStyle=r.toString(),null!=s&&(t.globalAlpha=(null!=l?l.alpha:1)*s),t.fillRect(Math.round(e),Math.round(n),Math.round(o),Math.round(i)),a?t.restore():void 0},window.Widget.prototype.preliminaryCheckNothingToDraw=function(t,e){return!this.isVisible||(!!t.isEmpty()||(!(e!==world.worldCanvasContext||!this.isOrphan())||(e===world.worldCanvasContext&&!this.visibleBasedOnIsVisibleProperty()||!(e!==world.worldCanvasContext||!this.isCollapsed()))))},window.Widget.prototype.recordDrawnAreaForNextBrokenRects=function(){if(this.childrenBoundsUpdatedAt<WorldMorph.frameCount)return this.childrenBoundsUpdatedAt=WorldMorph.frameCount,this.clippedBoundsWhenLastPainted=this.clippedThroughBounds(),this.fullClippedBoundsWhenLastPainted=this.fullClippedBounds()},window.Widget.prototype.fullPaintIntoAreaOrBlitFromBackBuffer=function(t,e,n){if(world.paintingWidget=this,null==n&&null!=this.shadowInfo&&this.fullPaintIntoAreaOrBlitFromBackBufferJustShadow(t,e,this.shadowInfo),!this.preliminaryCheckNothingToDraw(e,t))return t===world.worldCanvasContext&&this.recordDrawnAreaForNextBrokenRects(),this.fullPaintIntoAreaOrBlitFromBackBufferContentPotentiallyAsShadow(t,e,n)},window.Widget.prototype.fullPaintIntoAreaOrBlitFromBackBufferJustShadow=function(t,e,n){if(e=e.translateBy(-n.offset.x,-n.offset.y),!this.preliminaryCheckNothingToDraw(e,t))return t.save(),t.translate(n.offset.x*ceilPixelRatio,n.offset.y*ceilPixelRatio),this.fullPaintIntoAreaOrBlitFromBackBufferContentPotentiallyAsShadow(t,e,n),t.restore()},window.Widget.prototype.fullPaintIntoAreaOrBlitFromBackBufferContentPotentiallyAsShadow=function(t,e,n){return this.paintIntoAreaOrBlitFromBackBuffer(t,e,n),this.children.forEach((function(o){return o.fullPaintIntoAreaOrBlitFromBackBuffer(t,e,n)}))},window.Widget.prototype.silentHide=function(){if(this.isVisible)return this.isVisible=!1,WorldMorph.numberOfVisibilityFlagsChanges++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this)},window.Widget.prototype.hide=function(){var t;if(this.isVisible)return this.silentHide(),null!=(t=this.firstParentOwningMyShadow())?t.fullChanged():this.fullChanged()},window.Widget.prototype.show=function(){var t;if(!this.isVisible&&!0!==this.visibleBasedOnIsVisibleProperty())return this.isVisible=!0,WorldMorph.numberOfVisibilityFlagsChanges++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),null!=(t=this.firstParentOwningMyShadow())?t.fullChanged():this.fullChanged()},window.Widget.prototype.toggleVisibility=function(){return this.isVisible=!this.isVisible,WorldMorph.numberOfVisibilityFlagsChanges++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),this.fullChanged()},window.Widget.prototype.collapse=function(){var t,e;if(!this.collapsed)return null!=(t=this.parent)&&"function"==typeof t.childBeingCollapsed&&t.childBeingCollapsed(this),this.collapsed=!0,WorldMorph.numberOfCollapseFlagsChanges++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),this.invalidateLayout(),this.fullChanged(),null!=(e=this.parent)&&"function"==typeof e.childCollapsed?e.childCollapsed(this):void 0},window.Widget.prototype.unCollapse=function(){var t,e;if(this.collapsed&&this.isCollapsed())return null!=(t=this.parent)&&"function"==typeof t.childBeingUnCollapsed&&t.childBeingUnCollapsed(this),this.collapsed=!1,WorldMorph.numberOfCollapseFlagsChanges++,this.invalidateFullBoundsCache(this),this.invalidateFullClippedBoundsCache(this),this.invalidateLayout(),this.fullChanged(),null!=(e=this.parent)&&"function"==typeof e.childUnCollapsed?e.childUnCollapsed(this):void 0},window.Widget.prototype.isCollapsed=function(){return!!this.collapsed||null!=this.parent&&this.parent.isCollapsed()},window.Widget.prototype.removeFromTree=function(){var t;return null!=(t=this.parent)&&t.invalidateLayout(),this.breakNumberOfRawMovesAndResizesCaches(),WorldMorph.numberOfAddsAndRemoves++,this.parent.removeChild(this),this.fullChanged()},window.Widget.prototype.colloquialName=function(){return"generic widget"},window.Widget.prototype.representativeIcon=function(){return new WidgetIconWdgt},window.Widget.prototype.createPointerMorph=function(){var t,e;return e=this.positionAmongSiblings(),t=new PointerMorph(this),this.parent.add(t,e),t.fullMoveTo(this.position()),t.setExtent(new Point(150,20)),t.fullChanged(),this.removeFromTree()},window.Widget.prototype.createReference=function(t,e=world){var n,o,i,r,s;for(null!=t&&"string"!=typeof t&&(t=nil,e=world),n=0,o=(r=e.children).length;n<o;n++)if((s=r[n])instanceof IconicDesktopSystemShortcutWdgt&&s.target===this)return;return i=new IconicDesktopSystemDocumentShortcutWdgt(this,t),e.add(i),i.setExtent(new Point(75,75)),i.fullChanged(),this.bringToForeground()},window.Widget.prototype.createReferenceAndClose=function(t,e=world){return this.createReference(t,e),this.close()},window.Widget.prototype.fullImage=function(t,e=!1,n=!1){var o,i,r,s;return s=!1,e?(r=this.shadowInfo,this.shadowInfo=ShadowInfo.noShadow(),s=!0):n&&!this.hasShadow()&&(r=nil,this.shadowInfo=new ShadowInfo(new Point(4,4),.2),s=!0),null==t&&(t=this.fullBounds(),!e&&this.hasShadow()&&(t=t.growBy(this.shadowInfo.offset))),(o=(i=newCanvas(t.extent().scaleBy(ceilPixelRatio))).getContext("2d")).translate(-t.origin.x*ceilPixelRatio,-t.origin.y*ceilPixelRatio),this.fullPaintIntoAreaOrBlitFromBackBuffer(o,t),s&&(this.shadowInfo=r),i},window.Widget.prototype.addShadow=function(t=new Point(4,4),e=.2){return this.silentAddShadow(t,e),this.fullChanged()},window.Widget.prototype.silentAddShadow=function(t,e){return this.shadowInfo=new ShadowInfo(t,e)},window.Widget.prototype.hasShadow=function(){return null!=this.shadowInfo},window.Widget.prototype.removeShadow=function(){if(this.hasShadow())return this.shadowInfo=nil,this.fullChanged()},window.Widget.prototype.changed=function(){if(trackChanges[trackChanges.length-1]){if(this.isBeingFloatDragged())return void world.hand.fullChanged();this.geometryOrPositionPossiblyChanged||this.fullGeometryOrPositionPossiblyChanged||(window.morphsThatMaybeChangedGeometryOrPosition.push(this),this.geometryOrPositionPossiblyChanged=!0)}if(this.parent)return this.parent.childChanged(this)},window.Widget.prototype.hasMaybeChangedGeometryOrPosition=function(){return!(!this.fullGeometryOrPositionPossiblyChanged&&!this.geometryOrPositionPossiblyChanged)||null!=this.parent&&this.parent.hasMaybeChangedGeometryOrPosition()},window.Widget.prototype.fullChanged=function(){if(trackChanges[trackChanges.length-1]&&!this.fullGeometryOrPositionPossiblyChanged)return window.morphsThatMaybeChangedFullGeometryOrPosition.push(this),this.fullGeometryOrPositionPossiblyChanged=!0},window.Widget.prototype.childChanged=function(){if(this.parent)return this.parent.childChanged(this)},window.Widget.prototype.iHaveBeenAddedTo=function(t,e){return this.reLayout()},window.Widget.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o){if(t instanceof HighlighterMorph||t instanceof CaretMorph||(this===world?(t.addShadow(),t instanceof ToolTipWdgt||ToolTipWdgt.cancelAllScheduledToolTips()):t.removeShadow()),this.addRaw(...arguments),this===world)return t.rememberFractionalPositionInHoldingPanel()},window.Widget.prototype.addRaw=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o){var i,r,s;return t.isAncestorOf(this)?nil:(r=t.parent,null!=(s=t.parent)&&s.invalidateLayout(),null!=(i=t.firstParentOwningMyShadow())?i.fullChanged():t.fullChanged(),t.setLayoutSpec(n),n!==LayoutSpec.ATTACHEDAS_FREEFLOATING&&this.invalidateLayout(),t.fullChanged(),this.silentAdd(t,!0,e),t.iHaveBeenAddedTo(this,o),null!=(null!=r?r.childRemoved:void 0)&&r.childRemoved(this),null!=this.childAdded&&this.childAdded(t),t)},window.Widget.prototype.sourceChanged=function(){return"function"==typeof this.reLayout&&this.reLayout(),"function"==typeof this.changed?this.changed():void 0},window.Widget.prototype.reLayout=function(){},window.Widget.prototype.calculateAndUpdateExtent=function(){},window.Widget.prototype.silentAdd=function(t,e,n=nil){var o;if(null!=(o=t.parent)&&o.removeChild(t),null!=t.isPopUpMarkedForClosure&&(t.isPopUpMarkedForClosure=!1),this.addChild(t,n),!e)return t.calculateAndUpdateExtent()},window.Widget.prototype.duplicateMenuAction=function(){var t;return(t=this.fullCopy()).unlockFromPanels(),world.add(t),t.fullRawMoveTo(this.position().add(new Point(10,10))),t.rememberFractionalSituationInHoldingPanel()},window.Widget.prototype.duplicateMenuActionAndPickItUp=function(){var t;return null!=(t=this.fullCopy())?t.pickUp():void 0},window.Widget.prototype.alignCopiedMorphToBrokenInfoDataStructures=function(t){if(window.morphsThatMaybeChangedGeometryOrPosition.includes(this)&&!window.morphsThatMaybeChangedGeometryOrPosition.includes(t)&&window.morphsThatMaybeChangedGeometryOrPosition.push(t),window.morphsThatMaybeChangedFullGeometryOrPosition.includes(this)&&!window.morphsThatMaybeChangedFullGeometryOrPosition.includes(t))return window.morphsThatMaybeChangedFullGeometryOrPosition.push(t)},window.Widget.prototype.alignCopiedMorphToSteppingStructures=function(t){if(world.steppingWdgts.has(this))return world.steppingWdgts.add(t)},window.Widget.prototype.fullCopy=function(){var t;return this.destroyed?(this.inform("The item you are\ntrying to copy\nis dead!"),nil):(t=this.allChildrenBottomToTop(),this.deepCopy(!1,[],[],t))},window.Widget.prototype.injectProperty=function(t,e){return this.evaluateString("@"+t+" = "+e),isFunction(this[t])&&(this[t+"_source"]=e),this.sourceChanged()},window.Widget.prototype.injectProperties=function(t){var e,n,o;for(t=t.replace(/^[ \t]*$/gm,"\n"),t+="\n# end injected code",n=/^([a-zA-Z_$][0-9a-zA-Z_$]*)[ \t]*=[ \t]*([^]*?)(?=^[\w#$])/gm,o=[];null!=(e=n.exec(t));)e.index===n.lastIndex&&n.lastIndex++,o.push(this.injectProperty(e[1],e[2]));return o},window.Widget.prototype.grabsToParentWhenDragged=function(){return null!=this.parent&&(this.parent instanceof WorldMorph?this.isLockingToPanels:this.amIDirectlyInsideScrollPanelWdgt()?!(!this.parent.parent.canScrollByDraggingForeground||!this.parent.parent.anyScrollBarShowing())||this.isLockingToPanels:!(this.parent instanceof PanelWdgt)||this.isLockingToPanels)},window.Widget.prototype.rejectDrags=function(){return this.defaultRejectDrags},window.Widget.prototype.findFirstLooseMorph=function(){var t;if(this.rejectDrags())return nil;if(null!=this.nonFloatDragging)return this;if(!this.grabsToParentWhenDragged())return this;for(t=this;null!=t.parent;){if((t=t.parent).rejectDrags())return nil;if(null!=t.nonFloatDragging)return t;if(!t.grabsToParentWhenDragged())return t}return nil},window.Widget.prototype.findRootForGrab=function(){return this.findFirstLooseMorph()},window.Widget.prototype.amIDirectlyInsideScrollPanelWdgt=function(){return null!=this.parent&&(this.parent instanceof PanelWdgt||this.parent instanceof SimpleVerticalStackPanelWdgt)&&null!=this.parent.parent&&this.parent.parent instanceof ScrollPanelWdgt&&!(this.parent.parent instanceof ListMorph)},window.Widget.prototype.amIPanelOfScrollPanelWdgt=function(){return null!=this.parent&&this.parent instanceof ScrollPanelWdgt&&!(this.parent instanceof ListMorph)},window.Widget.prototype.amIDirectlyInsideNonTextWrappingScrollPanelWdgt=function(){return!(!this.amIDirectlyInsideScrollPanelWdgt()||this.parent.parent.isTextLineWrapping)},window.Widget.prototype.firstParentOwningMyShadow=function(){var t;if(this.hasShadow())return this;for(t=this;null!=t.parent;){if((t=t.parent).clipsAtRectangularBounds)return nil;if(t.hasShadow())return t}return nil},window.Widget.prototype.detachesWhenDragged=function(){return!0},window.Widget.prototype.isBeingFloatDragged=function(){return null!=world.hand&&(null==world.hand.nonFloatDraggedWdgt&&this.root()instanceof ActivePointerWdgt)},window.Widget.prototype.firstParentThatIsAPopUp=function(){return null==this.parent?this:this.parent.firstParentThatIsAPopUp()},window.Widget.prototype.anyParentPopUpMarkedForClosure=function(){return!!this.isPopUpMarkedForClosure||null!=this.parent&&this.parent.anyParentPopUpMarkedForClosure()},window.Widget.prototype.rootForFocus=function(){return null==this.parent||this.parent instanceof WorldMorph?this:this.parent.rootForFocus()},window.Widget.prototype.moveInFrontOfSiblings=function(){return this.moveAsLastChild(),this.fullChanged()},window.Widget.prototype.bringToForeground=function(){var t,e;return null!=(t=this.rootForFocus())&&t.moveAsLastChild(),null!=(e=this.rootForFocus())?e.fullChanged():void 0},window.Widget.prototype.propagateKillPopUps=function(){if(null!=this.parent)return this.parent.propagateKillPopUps()},window.Widget.prototype.mouseDownLeft=function(t){return this.bringToForeground(),this.escalateEvent("mouseDownLeft",t)},window.Widget.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){return this.escalateEvent("mouseClickLeft",t,e,n,o,i,r,s,a,l)},window.Widget.prototype.onClickOutsideMeOrAnyOfMyChildren=function(t,e,n,o){return null!=t?(this.clickOutsideMeOrAnyOfMeChildrenCallback=[t,e,n,o],world.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.add(this)):world.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.delete(this)},window.Widget.prototype.justDropped=function(t){return this.rememberFractionalSituationInHoldingPanel()},window.Widget.prototype.wantsDropOf=function(t){return this._acceptsDrops},window.Widget.prototype.enableDrops=function(){return this._acceptsDrops=!0},window.Widget.prototype.disableDrops=function(){return this._acceptsDrops=!1},window.Widget.prototype.pickUp=function(){var t;return null!=(t=this.parent)&&"function"==typeof t.childBeingPickedUp&&t.childBeingPickedUp(this),world.hand.grab(this),null!=this.desiredExtent?this.fullRawMoveTo(world.hand.position().subtract(this.desiredExtent.floorDivideBy(2))):this.fullRawMoveTo(world.hand.position().subtract(this.fullBounds().extent().floorDivideBy(2))),null!=t&&"function"==typeof t.childPickedUp?t.childPickedUp(this):void 0},window.Widget.prototype.grabbedWidgetSwitcheroo=function(){return this},window.Widget.prototype.situation=function(){return this.parent?{origin:this.parent,position:this.position().subtract(this.parent.position())}:nil},window.Widget.prototype.showResizeAndMoveHandlesAndLayoutAdjusters=function(){return this.layoutSpec===LayoutSpec.ATTACHEDAS_FREEFLOATING?(world.temporaryHandlesAndLayoutAdjusters.add(new HandleMorph(this,"resizeHorizontalHandle")),world.temporaryHandlesAndLayoutAdjusters.add(new HandleMorph(this,"resizeVerticalHandle")),world.temporaryHandlesAndLayoutAdjusters.add(new HandleMorph(this,"moveHandle")),world.temporaryHandlesAndLayoutAdjusters.add(new HandleMorph(this,"resizeBothDimensionsHandle"))):(null==this.lastSiblingBeforeMeSuchThat((function(t){return t.layoutSpec===LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED}))||this.siblingBeforeMeIsA(StackElementsSizeAdjustingMorph)||world.temporaryHandlesAndLayoutAdjusters.add(this.addAsSiblingBeforeMe(new StackElementsSizeAdjustingMorph,nil,LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED)),null==this.firstSiblingAfterMeSuchThat((function(t){return t.layoutSpec===LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED}))||this.siblingAfterMeIsA(StackElementsSizeAdjustingMorph)||world.temporaryHandlesAndLayoutAdjusters.add(this.addAsSiblingAfterMe(new StackElementsSizeAdjustingMorph,nil,LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED)),null!=this.parent?this.parent.showResizeAndMoveHandlesAndLayoutAdjusters():void 0)},window.Widget.prototype.showMoveHandle=function(){return world.temporaryHandlesAndLayoutAdjusters.add(new HandleMorph(this,"moveHandle"))},window.Widget.prototype.inform=function(t){var e,n;return n=t,t?t.toString&&(n=t.toString()):n="NULL",(e=new MenuMorph(this,!1,this,!0,!0,n)).addMenuItem("Ok"),e.popUpCenteredAtHand(world)},window.Widget.prototype.prompt=function(t,e,n,o,i,r,s,a){var l;return(l=new PromptMorph(this,t,e,n,o,i,r,s,a)).popUpAtHand(),l.tempPromptEntryField.text.edit()},window.Widget.prototype.textPrompt=function(t,e,n,o,i,r,s,a){var l,d;return l=new CodePromptMorph(t,e,n,o,i,r,s,a),(d=new WindowWdgt(nil,nil,l)).setExtent(new Point(460,400)),d.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),d.fullRawMoveWithin(world),world.add(d),d.changed()},window.Widget.prototype.pickColor=function(t,e,n){var o,i;return o=new ColorPickerMorph(n),(i=new MenuMorph(this,!1,this,!0,!0,t||"",o)).silentAdd(o),i.addLine(2),i.addMenuItem("Ok",!0,this,e),i.addMenuItem("Close",!0,i,"close"),i.popUpAtHand()},window.Widget.prototype.inspect2=function(t){return this.spawnInspector2(this)},window.Widget.prototype.spawnInspector2=function(t){var e,n;return e=new InspectorMorph2(t),(n=new WindowWdgt(nil,nil,e)).setExtent(new Point(560,410)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),world.add(n),n.changed()},window.Widget.prototype.createConsole=function(){var t,e;return t=new ConsoleWdgt(this),(e=new WindowWdgt(nil,nil,t)).setExtent(new Point(285,290)),e.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),e.fullRawMoveWithin(world),world.add(e),e.changed()},window.Widget.prototype.spawnNextTo=function(t,e){return null==e&&(e=t.parent),e.add(this),this.fullRawMoveTo(t.center()),this.fullRawMoveWithin(e)},window.Widget.prototype.buildContextMenu=function(){var t,e,n;return n=this,null!=(t=this.allParentsTopToBottomSuchThat((function(t){return t instanceof ScrollPanelWdgt&&t.takesOverAndCoalescesChildrensMenus})))&&t.length>0&&(n=t[0]),n.overridingContextMenu?n.overridingContextMenu():world.isDevMode?(e=n.getHierarchyMenuMorphs(),n.parent===world?n.buildMorphContextMenu():e.length<2?e[0].buildMorphContextMenu():n.buildHierarchyMenu(e)):void 0},window.Widget.prototype.getHierarchyMenuMorphs=function(){var t;return t=[],this.allParentsTopToBottom().forEach((function(e){if(e.buildMorphContextMenu&&e!==world&&!e.anyParentPopUpMarkedForClosure()&&!(e instanceof SimpleVerticalStackPanelWdgt&&e.parent instanceof SimpleVerticalStackScrollPanelWdgt||e instanceof PanelWdgt&&e.parent instanceof ScrollPanelWdgt||e instanceof ScrollPanelWdgt&&e.parent instanceof FolderWindowWdgt))return t.push(e)})),t},window.Widget.prototype.buildHierarchyMenu=function(t){var e;return null==t&&(t=this.getHierarchyMenuMorphs()),e=new MenuMorph(this,!1,this,!0,!0,nil),t.forEach((function(t){var n;return n=(n=t.toString().slice(0,50)).replace("Wdgt",""),e.addMenuItem(n+" ➜",!1,t,"popupDeveloperMenu",nil,nil,nil,nil,nil,nil,nil,!0)})),e},window.Widget.prototype.popupDeveloperMenu=function(t){return this.buildMorphContextMenu(t).popUpAtHand()},window.Widget.prototype.popUpColorSetter=function(){return this.pickColor("color:","setColor",Color.BLACK)},window.Widget.prototype.transparencyPopout=function(t){return this.prompt(t.parent.title+"\nalpha\nvalue:",this,"setAlphaScaled",(100*this.alpha).toString(),nil,1,100,!0)},window.Widget.prototype.buildBaseMorphClassContextMenu=function(t){var e,n;return e=new MenuMorph(t,!1,this,!0,!0,this.constructor.name.replace("Wdgt","")||this.constructor.toString().replace("Wdgt","").split(" ")[1].split("(")[0]),world.isIndexPage?(e.addMenuItem("color...",!0,this,"popUpColorSetter","choose another color \nfor this morph"),e.addMenuItem("transparency...",!0,this,"transparencyPopout","set this morph's\nalpha value"),e.addMenuItem("resize/move...",!0,this,"showResizeAndMoveHandlesAndLayoutAdjusters","show a handle\nwhich can be floatDragged\nto change this morph's extent"),e.addLine(),e.addMenuItem("duplicate",!0,this,"duplicateMenuAction","make a copy"),e.addMenuItem("create shortcut",!0,this,"createReference","creates a reference to this wdgt and leaves it on the desktop"),e.addMenuItem("pick up",!0,this,"pickUp","disattach and put \ninto the hand")):(e.addMenuItem("color...",!0,this,"popUpColorSetter","choose another color \nfor this morph"),e.addMenuItem("transparency...",!0,this,"transparencyPopout","set this morph's\nalpha value"),e.addMenuItem("resize/move...",!0,this,"showResizeAndMoveHandlesAndLayoutAdjusters","show a handle\nwhich can be floatDragged\nto change this morph's extent"),e.addLine(),e.addMenuItem("duplicate",!0,this,"duplicateMenuActionAndPickItUp","make a copy\nand pick it up"),e.addMenuItem("pick up",!0,this,"pickUp","disattach and put \ninto the hand"),e.addMenuItem("attach...",!0,this,"attach","stick this morph\nto another one"),e.addMenuItem("inspect",!0,this,"inspect","open a window\non all properties"),e.addMenuItem("create shortcut",!0,this,"createReference","creates a reference to this wdgt and leaves it on the desktop"),e.addMenuItem("test menu ➜",!1,this,"testMenu","debugging and testing operations"),e.addLine()),this.parent instanceof PanelWdgt&&!(this.parent instanceof ScrollPanelWdgt)&&(n=this.parent instanceof WorldMorph?"desktop":"panel",this.isLockingToPanels?e.addMenuItem("unlock from "+n,!0,this,"toggleIsLockingToPanels","make this morph\nunmovable"):e.addMenuItem("lock to "+n,!0,this,"toggleIsLockingToPanels","make this morph\nmovable")),world.isIndexPage||e.addMenuItem("hide",!0,this,"hide"),this instanceof WindowWdgt?e.addMenuItem("close",!0,this,"close"):e.addMenuItem("delete",!0,this,"close"),world.isIndexPage?(e.addLine(),e.addMenuItem("dev ➜",!1,menusHelper,"popUpDevToolsMenu","dev tools")):e.addMenuItem("destroy",!0,this,"fullDestroy"),e},window.Widget.prototype.addMorphSpecificMenuEntries=function(t,e){var n;if(this.layoutSpec===LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT&&(null!=(n=this.parent)?n.constrainContentWidth:void 0))return this.layoutSpecDetails.addMorphSpecificMenuEntries(t,e)},window.Widget.prototype.buildMorphContextMenu=function(t){var e;return e=this.buildBaseMorphClassContextMenu(t),this.addMorphSpecificMenuEntries(t,e),null!=this.addShapeSpecificMenuItems&&(e=this.addShapeSpecificMenuItems(e)),e},window.Widget.prototype.calculateAlphaScaled=function(t){var e,n;return"number"==typeof t?(n=t/100,Math.min(Math.max(n,.1),1)):(e=parseFloat(t),isNaN(e)?void 0:(n=e/100,Math.min(Math.max(n,.1),1)))},window.Widget.prototype.setAlphaScaled=function(t,e){var n;return(n=null!=(null!=e?e.getValue:void 0)?e.getValue():t)&&(n=this.calculateAlphaScaled(n),this.alpha!==n&&(this.alpha=n,this.changed())),n},window.Widget.prototype.newParentChoice=function(t,e){if(this.add(e),this instanceof ScrollPanelWdgt)return this.adjustContentsBounds(),this.adjustScrollBars()},window.Widget.prototype.newParentChoiceWithHorizLayout=function(t,e){if(this.add(e,nil,LayoutSpec.ATTACHEDAS_STACK_HORIZONTAL_VERTICALALIGNMENTS_UNDEFINED),this instanceof ScrollPanelWdgt)return this.adjustContentsBounds(),this.adjustScrollBars()},window.Widget.prototype.attach=function(){var t,e,n;return t=world.plausibleTargetAndDestinationMorphs(this),e=[],t.forEach(t=>{if(t!==this.parent)return e.push(t)}),e.length>0?(n=new MenuMorph(this,!1,this,!0,!0,"choose new parent:"),e.forEach(t=>n.addMenuItem(t.toString().slice(0,50),!0,t,"newParentChoice",nil,nil,nil,nil,nil,nil,nil,!0))):n=new MenuMorph(this,!1,this,!0,!0,"no morphs to attach to"),n.popUpAtHand()},window.Widget.prototype.toggleIsLockingToPanels=function(){return this.isLockingToPanels=!this.isLockingToPanels},window.Widget.prototype.lockToPanels=function(){return this.isLockingToPanels=!0},window.Widget.prototype.unlockFromPanels=function(){return this.isLockingToPanels=!1},window.Widget.prototype.enableDragsDropsAndEditing=function(){var t,e,n,o,i,r,s;if(!this.dragsDropsAndEditingEnabled){if(this.dragsDropsAndEditingEnabled=!0,null!=this.contents){if((s=this.contents).dragsDropsAndEditingEnabled)return;s.dragsDropsAndEditingEnabled=!0}else s=this;if(null!=(i=this.parent)&&"function"==typeof i.makePencilYellow&&i.makePencilYellow(),s.dragsDropsAndEditingEnabled=!0,s.enableDrops(),null!=(t=this.childrenNotHandlesNorCarets(s))){for(r=[],n=0,o=t.length;n<o;n++)(e=t[n]).unlockFromPanels(),"function"==typeof e.contrastOutFromPanelColor&&e.contrastOutFromPanelColor(),null!=e.isEditable?r.push(e.isEditable=!0):r.push(void 0);return r}}},window.Widget.prototype.disableDragsDropsAndEditing=function(){var t,e,n,o,i,r,s,a;if(this.dragsDropsAndEditingEnabled){if(this.dragsDropsAndEditingEnabled=!1,null!=this.contents){if(!(a=this.contents).dragsDropsAndEditingEnabled)return;a.dragsDropsAndEditingEnabled=!1}else a=this;if(null!=(i=this.parent)&&"function"==typeof i.makePencilClear&&i.makePencilClear(),a.disableDrops(),a.dragsDropsAndEditingEnabled=!1,null!=(t=this.childrenNotHandlesNorCarets(a))){for(s=[],n=0,o=t.length;n<o;n++)(e=t[n]).lockToPanels(),"function"==typeof e.blendInWithPanelColor&&e.blendInWithPanelColor(),null!=e.isEditable?(e.isEditable=!1,(null!=(r=world.caret)?r.target:void 0)===e?s.push(world.stopEditing()):s.push(void 0)):s.push(void 0);return s}}},window.Widget.prototype.prepareToBeGrabbed=function(){return this.userMovedThisFromComputedPosition=!0,this.unlockFromPanels(),this.setLayoutSpec(LayoutSpec.ATTACHEDAS_FREEFLOATING)},window.Widget.prototype.deduplicateSettersAndSortByMenuEntryString=function(t,e){var n,o,i;for(t=t.uniqueKeepOrder(),e=e.uniqueKeepOrder(),i=[],n=0;n<t.length;)i.push({menuEntriesStrings:t[n],functionNamesStrings:e[n]}),n++;for(i.sort((function(t,e){return t.menuEntriesStrings<e.menuEntriesStrings?-1:t.menuEntriesStrings===e.menuEntriesStrings?0:1})),o=0;o<i.length;)t[o]=i[o].menuEntriesStrings,e[o]=i[o].functionNamesStrings,o++;return[t,e]},window.Widget.prototype.colorSetters=function(t,e){return null==t&&(t=[],e=[]),t.push("color","background color"),e.push("setColor","setBackgroundColor"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.Widget.prototype.stringSetters=function(t,e){return null==t&&(t=[],e=[]),[t,e]},window.Widget.prototype.numericalSetters=function(t,e){return null==t&&(t=[],e=[]),t.push("width","height","alpha 0-100","padding","padding top","padding bottom","padding left","padding right"),e.push("rawSetWidth","rawSetHeight","setAlphaScaled","setPadding","setPaddingTop","setPaddingBottom","setPaddingLeft","setPaddingRight"),null!=this.addShapeSpecificNumericalSetters&&([t,e]=this.addShapeSpecificNumericalSetters(t,e)),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.Widget.prototype.allSetters=function(t,e){return null==t&&(t=[],e=[]),[t,e]=this.colorSetters(t,e),[t,e]=this.stringSetters(t,e),[t,e]=this.numericalSetters(t,e),[t,e]},window.Widget.prototype.allEntryFields=function(){return this.collectAllChildrenBottomToTopSuchThat((function(t){return t.isEditable&&(t instanceof StringMorph||t instanceof StringMorph2||t instanceof TextMorph||t instanceof SimplePlainTextWdgt)}))},window.Widget.prototype.nextEntryField=function(t){var e,n;return-1!==(n=(e=this.allEntryFields()).indexOf(t))&&e.length>n+1?e[n+1]:e[0]},window.Widget.prototype.previousEntryField=function(t){var e,n;return-1!==(n=(e=this.allEntryFields()).indexOf(t))?n>0?e[n-1]:e[e.length-1]:e[0]},window.Widget.prototype.tab=function(t){return this.nextTab?this.nextTab(t):this.parent?this.parent.tab(t):void 0},window.Widget.prototype.backTab=function(t){return this.previousTab?this.previousTab(t):this.parent?this.parent.backTab(t):void 0},window.Widget.prototype.escalateEvent=function(t,e,n,o,i,r,s,a,l,d){var h;if(null!=(h=this.parent)){for(;!h[t]&&null!=h.parent;)h=h.parent;if(h[t])return h[t](e,n,o,i,r,s,a,l,d)}},window.Widget.prototype.evaluateString=function(codeSource){var result;return result=eval(compileFGCode(codeSource,!0)),this.reLayout(),this.changed()},window.Widget.prototype.minWidth=10,window.Widget.prototype.desiredWidth=20,window.Widget.prototype.maxWidth=100,window.Widget.prototype.minHeight=10,window.Widget.prototype.desiredHeight=20,window.Widget.prototype.maxHeight=100,window.Widget.prototype.invalidateLayout=function(){if(this.layoutIsValid&&window.morphsThatMaybeChangedLayout.push(this),this.layoutIsValid=!1,this.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING&&null!=this.parent)return this.parent.invalidateLayout()},window.Widget.prototype.implementsDeferredLayout=function(){return this.doLayout!==Widget.prototype.doLayout},window.Widget.prototype.doLayout=function(t){return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.fullRawMoveTo(t.origin),this instanceof TextMorph||this instanceof SimplePlainTextWdgt?this.rawSetBounds(t):this.rawSetExtent(t.extent()),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.Widget.instancesCounter=0,window.Widget.lastBuiltInstanceNumericID=0,window.Widget.morphStaticMethod=function(){return 3.14},window.Widget.instances=new Set,"function"==typeof window.Widget.initStaticConstsAfterClassDefinition&&window.Widget.initStaticConstsAfterClassDefinition(),window.ActivePointerWdgt=function(t){this.world=t,this.mouseOverList=new Set,ActivePointerWdgt.__super__.constructor.call(this),this.minimumExtent=new Point(0,0),this.silentRawSetBounds(Rectangle.EMPTY),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ActivePointerWdgt,"name",{value:"ActivePointerWdgt"}),window.ActivePointerWdgt.__super__=window.Widget.prototype,window.ActivePointerWdgt=extend(window.ActivePointerWdgt,window.Widget),window.ActivePointerWdgt.prototype.world=nil,window.ActivePointerWdgt.prototype.mouseButton=nil,window.ActivePointerWdgt.prototype.mouseDownWdgt=nil,window.ActivePointerWdgt.prototype.mouseDownPosition=nil,window.ActivePointerWdgt.prototype.wdgtToGrab=nil,window.ActivePointerWdgt.prototype.grabOrigin=nil,window.ActivePointerWdgt.prototype.mouseOverList=nil,window.ActivePointerWdgt.prototype.doubleClickWdgt=nil,window.ActivePointerWdgt.prototype.tripleClickWdgt=nil,window.ActivePointerWdgt.prototype.nonFloatDraggedWdgt=nil,window.ActivePointerWdgt.prototype.nonFloatDragPositionWithinWdgtAtStart=nil,window.ActivePointerWdgt.prototype.previousNonFloatDraggingPos=nil,window.ActivePointerWdgt.prototype.clippedThroughBounds=function(){return this.checkClippedThroughBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clippedThroughBoundsCache=this.boundingBox(),this.clippedThroughBoundsCache},window.ActivePointerWdgt.prototype.clipThrough=function(){return this.checkClipThroughCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clipThroughCache=this.boundingBox(),this.clipThroughCache},window.ActivePointerWdgt.prototype.topWdgtUnderPointer=function(){var t;return null!=(t=world.topWdgtSuchThat(t=>t.clippedThroughBounds().containsPoint(this.position())&&t.visibleBasedOnIsVisibleProperty()&&!t.isCollapsed()&&(t.noticesTransparentClick||!t.isTransparentAt(this.position()))&&!(t instanceof CaretMorph)&&null==t.wdgtThisWdgtIsHighlighting&&null==t.wdgtThisWdgtIsPinouting))?t:this.world},window.ActivePointerWdgt.prototype.openContextMenuAtPointer=function(t){var e;for(this.destroyTemporaryHandlesAndLayoutAdjustersIfHandHasNotActionedThem(t),this.stopEditingIfWidgetDoesntNeedCaretOrActionIsElsewhere(t),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&(Automator.fade("rightMouseButtonIndicator",0,1,10,(new Date).getTime()),setTimeout(()=>Automator.fade("rightMouseButtonIndicator",1,0,500,(new Date).getTime()),100)),e=t.buildContextMenu();!e&&t.parent;)e=(t=t.parent).buildContextMenu();if(e)return e.popUpAtHand()},window.ActivePointerWdgt.prototype.dropTargetFor=function(t){var e;for(e=this.topWdgtUnderPointer();!e.wantsDropOf(t);)e=e.parent;return e},window.ActivePointerWdgt.prototype.grab=function(t,e,n){var o,i;return t instanceof WorldMorph?nil:(i=t.parent,this.isThisPointerFloatDraggingSomething()?void 0:("undefined"!=typeof Automator&&null!==Automator&&(world.automator.recorder.addGrabCommand(),Automator.state===Automator.RECORDING&&("grab",o=world.automator.tagsCollectedWhileRecordingTest,indexOf.call(o,"grab")<0&&o.push("grab"))),world.stopEditing(),n?(t.fullRawMoveTo(this.position().subtract(t.extent().floorDivideBy(2))),t.fullRawMoveWithin(world)):null!=t.extentToGetWhenDraggedFromGlassBox&&i instanceof GlassBoxBottomWdgt?(t.rawSetExtent(t.extentToGetWhenDraggedFromGlassBox),t.fullRawMoveTo(this.position().subtract(t.extent().floorDivideBy(2))),t.fullRawMoveWithin(world)):null!=e&&t.fullMoveTo(t.position().add(e)),this.grabOrigin=t.situation(),"function"==typeof t.prepareToBeGrabbed&&t.prepareToBeGrabbed(),this.add(t),"function"==typeof t.justBeenGrabbed&&t.justBeenGrabbed(i),t.addShadow(new Point(6,6),.1),this.fullChanged(),null!=i&&"function"==typeof i.reactToGrabOf?i.reactToGrabOf(t):void 0))},window.ActivePointerWdgt.prototype.isThisPointerDraggingSomething=function(){return this.isThisPointerFloatDraggingSomething()||this.isThisPointerNonFloatDraggingSomething()},window.ActivePointerWdgt.prototype.isThisPointerFloatDraggingSomething=function(){return this.children.length>0},window.ActivePointerWdgt.prototype.isThisPointerNonFloatDraggingSomething=function(){return null!=this.nonFloatDraggedWdgt},window.ActivePointerWdgt.prototype.drop=function(){var t,e,n;if(this.isThisPointerFloatDraggingSomething())return"undefined"!=typeof Automator&&null!==Automator&&(world.automator.recorder.addDropCommand(),Automator.state===Automator.RECORDING&&("drop",t=world.automator.tagsCollectedWhileRecordingTest,indexOf.call(t,"drop")<0&&t.push("drop"))),e=("function"==typeof(n=this.children[0]).rejectsBeingDropped?n.rejectsBeingDropped():void 0)?world:this.dropTargetFor(n),this.fullChanged(),"function"==typeof n.aboutToBeDropped&&n.aboutToBeDropped(e),"function"==typeof e.aboutToDrop&&e.aboutToDrop(n),e.add(n,nil,nil,!0,nil,this.position()),n.fullChanged(),n instanceof HorizontalMenuPanelWdgt||(world.lastNonTextPropertyChangerButtonClickedOrDropped=n),this.children=[],this.rawSetExtent(new Point),"function"==typeof e.reactToDropOf&&e.reactToDropOf(n,this),"function"==typeof n.justDropped?n.justDropped(e):void 0},window.ActivePointerWdgt.prototype.destroyTemporaryHandlesAndLayoutAdjustersIfHandHasNotActionedThem=function(t){if(world.temporaryHandlesAndLayoutAdjusters.size>0&&!world.temporaryHandlesAndLayoutAdjusters.has(t))return world.temporaryHandlesAndLayoutAdjusters.forEach(t=>t.fullDestroy()),world.temporaryHandlesAndLayoutAdjusters.clear()},window.ActivePointerWdgt.prototype.stopEditingIfWidgetDoesntNeedCaretOrActionIsElsewhere=function(t){var e;if(null!=world.caret){if(null!=t.editorContentPropertyChangerButton&&t.editorContentPropertyChangerButton)return;if(null!=t.parent&&t.parent instanceof SimpleButtonMorph&&null!=t.parent.editorContentPropertyChangerButton&&t.parent.editorContentPropertyChangerButton)return;if(t!==world.caret.target){if(null==(e=world.mostRecentlyCreatedPopUp()))return world.stopEditing();if(!e.isAncestorOf(t))return world.stopEditing()}}},window.ActivePointerWdgt.prototype.processMouseDown=function(t,e,n,o,i,r){var s,a,l;if(world.destroyToolTips(),this.wdgtToGrab=nil,"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&(2===t||n?Automator.fade("rightMouseButtonIndicator",0,1,10,(new Date).getTime()):Automator.fade("leftMouseButtonIndicator",0,1,10,(new Date).getTime())),this.mouseDownPosition=this.position(),this.isThisPointerFloatDraggingSomething())return this.drop(),this.mouseButton=nil;for(l=this.topWdgtUnderPointer(),this.destroyTemporaryHandlesAndLayoutAdjustersIfHandHasNotActionedThem(l),this.stopEditingIfWidgetDoesntNeedCaretOrActionIsElsewhere(l),l.firstParentThatIsAPopUp()instanceof MenuMorph||this.cleanupMenuWdgts(nil,l,!0),this.wdgtToGrab=l.findRootForGrab(),2===t||n?(this.mouseButton="right",s="mouseDownRight",a="mouseClickRight"):(this.mouseButton="left",s="mouseDownLeft",a="mouseClickLeft"),this.mouseDownWdgt=l;!this.mouseDownWdgt[a];)this.mouseDownWdgt=this.mouseDownWdgt.parent;for(;null==l[s]&&null!=l.parent;)l=l.parent;return null!=l[s]?l[s](this.position()):void 0},window.ActivePointerWdgt.prototype.processMouseUp=function(t,e,n,o,i,r){var s,a,l,d,h,p,c,w,u,g,f,T,y;if("undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&(2===t?Automator.fade("rightMouseButtonIndicator",1,0,500,(new Date).getTime()):Automator.fade("leftMouseButtonIndicator",1,0,500,(new Date).getTime())),u=this.topWdgtUnderPointer(),s=!1,world.destroyToolTips(),world.freshlyCreatedPopUps.clear(),this.isThisPointerFloatDraggingSomething())this.drop();else{for(this.isThisPointerNonFloatDraggingSomething()&&"function"==typeof(a=this.nonFloatDraggedWdgt).endOfNonFloatDrag&&a.endOfNonFloatDrag(),this.previousNonFloatDraggingPos=nil,p=nil,null!=(T=u.parentThatIsA(MenuItemMorph))&&([w,p]=T,w&&world.mostRecentlyCreatedPopUp()===w.parent&&(c=w.labelString,g=w.howManySiblingsBeforeMeSuchThat((function(t){return t.labelString===c})),"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addCommandLeftOrRightClickOnMenuItem(this.mouseButton,c,g+1),s=!0)),"left"===this.mouseButton?h="mouseClickLeft":(h="mouseClickRight",this.mouseButton&&(s||"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addOpenContextMenuCommand(u.uniqueIDString())));!u[h]&&null!=(u=u.parent););if(null!=u&&u===this.mouseDownWdgt){switch(h){case"mouseClickLeft":f=world.getPointerAndWdgtInfo(),"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addMouseClickCommand(0,nil,...f),"function"==typeof u.mouseUpLeft&&u.mouseUpLeft(this.position(),t,e,n,o,i,r);break;case"mouseClickRight":f=world.getPointerAndWdgtInfo(),"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addMouseClickCommand(2,nil,...f),"function"==typeof u.mouseUpRight&&u.mouseUpRight(this.position(),t,e,n,o,i,r)}d=!1,null!=this.doubleClickWdgt?"left"===this.mouseButton&&this.doubleClickWdgt===u&&this.doubleClickPosition.distanceTo(this.position())<WorldMorph.preferencesAndSettings.grabDragThreshold?(this.doubleClickWdgt=nil,l=!1,"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&(world.automator.player.runningInSlowMode()||(l=!0)),l||(d=!0,this.rememberTripleClickWdgtsForAWhile(u))):this.forgetDoubleClickWdgts():this.rememberDoubleClickWdgtsForAWhile(u),y=!1,d||"left"===this.mouseButton&&this.tripleClickWdgt===u&&this.tripleClickPosition.distanceTo(this.position())<WorldMorph.preferencesAndSettings.grabDragThreshold&&(this.tripleClickWdgt===u?(this.tripleClickWdgt=nil,l=!1,"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&(world.automator.player.runningInSlowMode()||(l=!0)),l||(y=!0)):this.forgetTripleClickWdgts()),u.editorContentPropertyChangerButton||u instanceof HorizontalMenuPanelWdgt||(world.lastNonTextPropertyChangerButtonClickedOrDropped=u),u[h](this.position(),t,e,n,o,i,r,d,y),d&&this.processDoubleClick(u),y&&this.processTripleClick(u)}null==this.nonFloatDraggedWdgt&&this.cleanupMenuWdgts(h,u)}return this.mouseButton=nil,this.nonFloatDraggedWdgt=nil},window.ActivePointerWdgt.prototype.forgetDoubleClickWdgts=function(){return this.doubleClickWdgt=nil,this.doubleClickPosition=nil},window.ActivePointerWdgt.prototype.rememberDoubleClickWdgtsForAWhile=function(t){return this.doubleClickWdgt=t,this.doubleClickPosition=this.position(),setTimeout(()=>(this.forgetDoubleClickWdgts(),!1),300)},window.ActivePointerWdgt.prototype.forgetTripleClickWdgts=function(){return this.tripleClickWdgt=nil,this.tripleClickPosition=nil},window.ActivePointerWdgt.prototype.rememberTripleClickWdgtsForAWhile=function(t){return this.tripleClickWdgt=t,this.tripleClickPosition=this.position(),setTimeout(()=>(this.forgetTripleClickWdgts(),!1),300)},window.ActivePointerWdgt.prototype.cleanupMenuWdgts=function(t,e,n){var o,i;for(world.hierarchyOfClickedWdgts.clear(),world.hierarchyOfClickedMenus.clear(),world.closePopUpsMarkedForClosure(),o=e,world.hierarchyOfClickedWdgts.clear(),world.hierarchyOfClickedWdgts.add(o);null!=o.parent;)o=o.parent,world.hierarchyOfClickedWdgts.add(o);return null!=(null!=(i=e.firstParentThatIsAPopUp())?i.hierarchyOfPopUps:void 0)&&(world.hierarchyOfClickedMenus=i.hierarchyOfPopUps()),world.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.forEach(t=>{if(!world.hierarchyOfClickedMenus.has(t)&&!world.hierarchyOfClickedWdgts.has(t)&&(n||!world.freshlyCreatedPopUps.has(t))&&null!=t.clickOutsideMeOrAnyOfMeChildrenCallback[0])return t[t.clickOutsideMeOrAnyOfMeChildrenCallback[0]].call(t,t.clickOutsideMeOrAnyOfMeChildrenCallback[1],t.clickOutsideMeOrAnyOfMeChildrenCallback[2],t.clickOutsideMeOrAnyOfMeChildrenCallback[3])})},window.ActivePointerWdgt.prototype.processDoubleClick=function(t=this.topWdgtUnderPointer()){var e;if(e=world.getPointerAndWdgtInfo(t),"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addMouseDoubleClickCommand(nil,...e),world.destroyToolTips(),this.isThisPointerFloatDraggingSomething())this.drop();else{for(;t&&!t.mouseDoubleClick;)t=t.parent;t&&t.mouseDoubleClick(this.position())}return this.mouseButton=nil},window.ActivePointerWdgt.prototype.processTripleClick=function(t=this.topWdgtUnderPointer()){var e;if(e=world.getPointerAndWdgtInfo(t),"undefined"!=typeof Automator&&null!==Automator&&world.automator.recorder.addMouseTripleClickCommand(nil,...e),world.destroyToolTips(),this.isThisPointerFloatDraggingSomething())this.drop();else{for(;t&&!t.mouseTripleClick;)t=t.parent;t&&t.mouseTripleClick(this.position())}return this.mouseButton=nil},window.ActivePointerWdgt.prototype.processWheel=function(t,e,n,o,i,r){var s;for(s=this.topWdgtUnderPointer();s&&!s.wheel;)s=s.parent;if(null!=s)return s.wheel(t,e,n,o,i,r)},window.ActivePointerWdgt.prototype.fullRawMoveBy=function(t){if(!t.isZero())return trackChanges.push(!1),this.breakNumberOfRawMovesAndResizesCaches(),ActivePointerWdgt.__super__.fullRawMoveBy.call(this,t),trackChanges.pop(),this.fullChanged()},window.ActivePointerWdgt.prototype.processMouseMove=function(t,e,n,o,i,r,s,a){var l,d,h,p,c;return h=new Point(t,e),this.fullRawMoveTo(h),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&((d=document.getElementById("mousePointerIndicator")).style.display="block",p=getDocumentPositionOf(world.worldCanvas),d.style.left=p.x+t-d.clientWidth/2+"px",d.style.top=p.y+e-d.clientHeight/2+"px"),c=this.topWdgtUnderPointer(),l=new Set(c.allParentsBottomToTop()),this.determineGrabs(h,c,l),this.dispatchEventsFollowingMouseMove(l)},window.ActivePointerWdgt.prototype.checkDraggingTreshold=function(){var t,e;if(t=nil,e=!1,"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.PLAYING&&null==window[""+world.automator.player.currentlyPlayingTestName()].grabDragThreshold&&(e=!0),!e){if((this.wdgtToGrab.parent!==world||null==this.wdgtToGrab.isEditable||this.wdgtToGrab.isEditable)&&this.mouseDownPosition.distanceTo(this.position())<WorldMorph.preferencesAndSettings.grabDragThreshold)return[!0,nil];t=this.position().subtract(this.mouseDownPosition)}return[!1,t]},window.ActivePointerWdgt.prototype.determineGrabs=function(t,e,n){var o,i,r,s,a,l,d;if(!this.isThisPointerDraggingSomething()&&"left"===this.mouseButton&&(a=e.findRootForGrab(),e.mouseMove&&e.mouseMove(t),this.wdgtToGrab)){if(this.wdgtToGrab.isTemplate){if([d,r]=this.checkDraggingTreshold(),d)return;(a=this.wdgtToGrab.fullCopy()).isTemplate=!1,this.grab(a,r),this.grabOrigin=this.wdgtToGrab.situation()}else if(this.wdgtToGrab.detachesWhenDragged()){if([d,r]=this.checkDraggingTreshold(),d)return;l=this.wdgtToGrab,this.wdgtToGrab=this.wdgtToGrab.grabbedWidgetSwitcheroo(),a=this.wdgtToGrab,this.grab(a,r,l!==a)}else this.nonFloatDraggedWdgt=this.wdgtToGrab,this.nonFloatDragPositionWithinWdgtAtStart=t.subtract(this.nonFloatDraggedWdgt.position());a&&((s=a.fullBounds()).containsPoint(t)||(this.rawSetExtent(this.extent().subtract(s.extent().floorDivideBy(2))),this.grab(a),this.fullRawMoveTo(t)))}if(this.isThisPointerNonFloatDraggingSomething()&&this.mouseButton)return i=null!=this.previousNonFloatDraggingPos?t.subtract(this.previousNonFloatDraggingPos):nil,this.previousNonFloatDraggingPos=t.copy(),"function"==typeof(o=this.nonFloatDraggedWdgt).nonFloatDragging?o.nonFloatDragging(this.nonFloatDragPositionWithinWdgtAtStart,t,i):void 0},window.ActivePointerWdgt.prototype.nonFloatDragWdgtFarAwayToHere=function(t,e){var n;return n=new Set(t.allParentsBottomToTop()),this.previousNonFloatDraggingPos=t.center(),this.nonFloatDragPositionWithinWdgtAtStart=new Point(t.width()/2,t.height()/2).round(),this.nonFloatDraggedWdgt=t,this.determineGrabs(e,t,n)},window.ActivePointerWdgt.prototype.reCheckMouseEntersAndMouseLeavesAfterPotentialGeometryChanges=function(){var t,e;return e=this.topWdgtUnderPointer(),t=new Set(e.allParentsBottomToTop()),this.dispatchEventsFollowingMouseMove(t)},window.ActivePointerWdgt.prototype.dispatchEventsFollowingMouseMove=function(t){return this.mouseOverList.forEach(e=>{if(!t.has(e)&&("function"==typeof e.mouseLeave&&e.mouseLeave(),this.mouseButton))return"function"==typeof e.mouseLeavefloatDragging?e.mouseLeavefloatDragging():void 0}),t.forEach(t=>{var e;if(null!=this.mouseDownPosition&&this.mouseDownPosition.equals(this.position())||"function"==typeof t.mouseMove&&t.mouseMove(this.position(),this.mouseButton),this.mouseOverList.has(t)||("function"==typeof t.mouseEnter&&t.mouseEnter(),this.mouseButton&&"function"==typeof t.mouseEnterfloatDragging&&t.mouseEnterfloatDragging()),this.isThisPointerFloatDraggingSomething()&&(null==(e=this.children[0]).rejectsBeingDropped||!e.rejectsBeingDropped())&&t instanceof ScrollPanelWdgt&&t.wantsDropOf(e)&&!t.boundingBox().insetBy(3*WorldMorph.preferencesAndSettings.scrollBarsThickness).containsPoint(this.position()))return t.startAutoScrolling()}),this.mouseOverList=t},window.ActivePointerWdgt.instances=new Set,"function"==typeof window.ActivePointerWdgt.initStaticConstsAfterClassDefinition&&window.ActivePointerWdgt.initStaticConstsAfterClassDefinition(),window.AlignmentSpecHorizontal=function(){window.AlignmentSpecHorizontal.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignmentSpecHorizontal,"name",{value:"AlignmentSpecHorizontal"}),window.AlignmentSpecHorizontal.__super__=Object.prototype,window.AlignmentSpecHorizontal.LEFT=0,window.AlignmentSpecHorizontal.CENTER=1,window.AlignmentSpecHorizontal.RIGHT=2,window.AlignmentSpecHorizontal.instances=new Set,"function"==typeof window.AlignmentSpecHorizontal.initStaticConstsAfterClassDefinition&&window.AlignmentSpecHorizontal.initStaticConstsAfterClassDefinition(),window.AlignmentSpecVertical=function(){window.AlignmentSpecVertical.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignmentSpecVertical,"name",{value:"AlignmentSpecVertical"}),window.AlignmentSpecVertical.__super__=Object.prototype,window.AlignmentSpecVertical.TOP=3,window.AlignmentSpecVertical.MIDDLE=4,window.AlignmentSpecVertical.BOTTOM=5,window.AlignmentSpecVertical.instances=new Set,"function"==typeof window.AlignmentSpecVertical.initStaticConstsAfterClassDefinition&&window.AlignmentSpecVertical.initStaticConstsAfterClassDefinition(),window.Appearance=function(t,e){this.morph=t,this.ownColorInsteadOfWidgetColor=e,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Appearance,"name",{value:"Appearance"}),window.Appearance.__super__=Object.prototype,window.Appearance.augmentWith(window.DeepCopierMixin,"Appearance"),window.Appearance.prototype.morph=nil,window.Appearance.prototype.ownColorInsteadOfWidgetColor=nil,window.Appearance.prototype.isTransparentAt=function(t){},window.Appearance.prototype.paintHighlight=function(t,e,n,o,i){},window.Appearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){},window.Appearance.instances=new Set,"function"==typeof window.Appearance.initStaticConstsAfterClassDefinition&&window.Appearance.initStaticConstsAfterClassDefinition(),window.WidgetHolderWithCaptionWdgt=function(t,e){this.labelContent=t,this.icon=e,WidgetHolderWithCaptionWdgt.__super__.constructor.call(this),null==this.icon&&(this.icon=new SimpleDropletWdgt("icon")),this.rawSetExtent(new Point(95,95)),this.add(this.icon),this.label=new StringMorph2(this.labelContent,WorldMorph.preferencesAndSettings.shortcutsFontSize),this.label.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.label.color=Color.WHITE,this.label.hasDarkOutline=!0,this.add(this.label,nil,nil,!0),this.label.alignCenter(),this.label.alignMiddle(),this.label.isEditable=!0,this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WidgetHolderWithCaptionWdgt,"name",{value:"WidgetHolderWithCaptionWdgt"}),window.WidgetHolderWithCaptionWdgt.__super__=window.Widget.prototype,window.WidgetHolderWithCaptionWdgt=extend(window.WidgetHolderWithCaptionWdgt,window.Widget),window.WidgetHolderWithCaptionWdgt.prototype.labl=nil,window.WidgetHolderWithCaptionWdgt.prototype.setColor=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.icon.setColor(t)},window.WidgetHolderWithCaptionWdgt.prototype.widthWithoutSpacing=function(){return Math.min(this.width(),this.height())},window.WidgetHolderWithCaptionWdgt.prototype.rawResizeToWithoutSpacing=function(){return this.rawSetExtent(new Point(this.widthWithoutSpacing(),this.widthWithoutSpacing())),this.invalidateLayout()},window.WidgetHolderWithCaptionWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return WidgetHolderWithCaptionWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.WidgetHolderWithCaptionWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){return this.rawResizeToWithoutSpacing(),this.rawSetExtent(new Point(t,t)),this.invalidateLayout()},window.WidgetHolderWithCaptionWdgt.prototype.doLayout=function(t){var e,n,o,i;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),e=this.height(),i=this.width(),o=Math.min(i,e),n=(n=(n=this.topLeft()).add(new Point(i/2,e/2))).subtract(new Point(o/2,o/2)),this.icon.setExtent(new Point(o,8*o/10).round()),this.icon.fullRawMoveTo(n.round()),this.label.setExtent(new Point(o,2*o/10).round()),this.label.fullRawMoveTo(n.add(new Point(0,8*o/10)).round()),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.WidgetHolderWithCaptionWdgt.instances=new Set,"function"==typeof window.WidgetHolderWithCaptionWdgt.initStaticConstsAfterClassDefinition&&window.WidgetHolderWithCaptionWdgt.initStaticConstsAfterClassDefinition(),window.IconicDesktopSystemLinkWdgt=function(){window.IconicDesktopSystemLinkWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconicDesktopSystemLinkWdgt,"name",{value:"IconicDesktopSystemLinkWdgt"}),window.IconicDesktopSystemLinkWdgt.__super__=window.WidgetHolderWithCaptionWdgt.prototype,window.IconicDesktopSystemLinkWdgt=extend(window.IconicDesktopSystemLinkWdgt,window.WidgetHolderWithCaptionWdgt),window.IconicDesktopSystemLinkWdgt.prototype.moveOnTopOfTopReference=function(){var t,e;return null!=(e=this.parent.topmostChildSuchThat(t=>t!==this&&t instanceof WidgetHolderWithCaptionWdgt))?(this.parent.children.remove(this),t=this.parent.children.indexOf(e),this.parent.children.splice(t+1,0,this)):(this.parent.children.remove(this),this.parent.children.unshift(this))},window.IconicDesktopSystemLinkWdgt.instances=new Set,"function"==typeof window.IconicDesktopSystemLinkWdgt.initStaticConstsAfterClassDefinition&&window.IconicDesktopSystemLinkWdgt.initStaticConstsAfterClassDefinition(),HighlightableMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{color_hover:new Color(192,192,192),color_pressed:new Color(128,128,128),color_normal:new Color(245,244,245),state:0,STATE_NORMAL:0,STATE_HIGHLIGHTED:1,STATE_PRESSED:2,updateColor:function(){return this.setColor(function(){switch(this.state){case this.STATE_NORMAL:return this.color_normal;case this.STATE_HIGHLIGHTED:return this.color_hover;case this.STATE_PRESSED:return this.color_pressed}}.call(this)),this.changed()},mouseEnter:function(){if(this.state=this.STATE_HIGHLIGHTED,this.updateColor(),this.toolTipMessage)return"function"==typeof this.startCountdownForBubbleHelp?this.startCountdownForBubbleHelp(this.toolTipMessage):void 0},mouseLeave:function(){if(this.state=this.STATE_NORMAL,this.updateColor(),this.toolTipMessage)return world.destroyToolTips()},mouseDownLeft:function(){return this.state=this.STATE_PRESSED,this.updateColor(),window[this[arguments.callee.name+"_class_injected_in"]],window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].apply(this,arguments)},mouseUpLeft:function(){return this.state=this.STATE_NORMAL,this.updateColor()}})}},window.BasementOpenerWdgt=function(){BasementOpenerWdgt.__super__.constructor.call(this,"Basement",new GenericShortcutIconWdgt(new BasementIconWdgt)),this.target=world.basementWdgt,this.rawSetExtent(new Point(75,75)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BasementOpenerWdgt,"name",{value:"BasementOpenerWdgt"}),window.BasementOpenerWdgt.__super__=window.IconicDesktopSystemLinkWdgt.prototype,window.BasementOpenerWdgt=extend(window.BasementOpenerWdgt,window.IconicDesktopSystemLinkWdgt),window.BasementOpenerWdgt.augmentWith(window.HighlightableMixin,"BasementOpenerWdgt"),window.BasementOpenerWdgt.prototype.color_hover=new Color(90,90,90),window.BasementOpenerWdgt.prototype.color_pressed=new Color(128,128,128),window.BasementOpenerWdgt.prototype.color_normal=Color.BLACK,window.BasementOpenerWdgt.prototype._acceptsDrops=!0,window.BasementOpenerWdgt.prototype.iHaveBeenAddedTo=function(t,e){if(BasementOpenerWdgt.__super__.iHaveBeenAddedTo.apply(this,arguments),t===world&&!this.userMovedThisFromComputedPosition)return this.fullMoveTo(world.bottomRight().subtract(this.extent().add(world.desktopSidesPadding)))},window.BasementOpenerWdgt.prototype.justDropped=function(t){if(BasementOpenerWdgt.__super__.justDropped.apply(this,arguments),t===world)return this.userMovedThisFromComputedPosition=!0},window.BasementOpenerWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){var d;if(!a)return this.target.isOrphan()?(this.target.unCollapse(),d=new WindowWdgt(nil,nil,this.target),world.add(d),d.rawSetExtent(new Point(460,400)),d.fullRawMoveTo(new Point(140,90)),d.rememberFractionalSituationInHoldingPanel(),menusHelper.createBasementOneOffInfoWindowNextTo(d)):(this.target.parent.spawnNextTo(this),this.target.parent.rememberFractionalSituationInHoldingPanel())},window.BasementOpenerWdgt.prototype.reactToDropOf=function(t){return this.target.scrollPanel.contents.addInPseudoRandomPosition(t)},window.BasementOpenerWdgt.prototype.rejectsBeingDropped=function(){return!0},window.BasementOpenerWdgt.instances=new Set,"function"==typeof window.BasementOpenerWdgt.initStaticConstsAfterClassDefinition&&window.BasementOpenerWdgt.initStaticConstsAfterClassDefinition(),window.BoxMorph=function(t=4){this.cornerRadius=t,BoxMorph.__super__.constructor.call(this),this.appearance=new BoxyAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BoxMorph,"name",{value:"BoxMorph"}),window.BoxMorph.__super__=window.Widget.prototype,window.BoxMorph=extend(window.BoxMorph,window.Widget),window.BoxMorph.prototype.cornerRadius=nil,window.BoxMorph.prototype.colloquialName=function(){return"box"},window.BoxMorph.prototype.insetPosition=function(){return this.position().add(this.cornerRadius-Math.round(this.cornerRadius/Math.sqrt(2)))},window.BoxMorph.prototype.insetSpaceExtent=function(){return this.extent().subtract(2*(this.cornerRadius-Math.round(this.cornerRadius/Math.sqrt(2))))},window.BoxMorph.prototype.extentBasedOnInsetExtent=function(t){return t.extent().add(2*(this.cornerRadius-Math.round(this.cornerRadius/Math.sqrt(2))))},window.BoxMorph.prototype.choiceOfMorphToBePicked=function(t,e){if(e.addInset(this),this instanceof ScrollPanelWdgt)return this.adjustContentsBounds(),this.adjustScrollBars()},window.BoxMorph.prototype.setCornerRadius=function(t,e){var n,o;return"number"==typeof(o=null!=(null!=e?e.getValue:void 0)?e.getValue():t)?this.cornerRadius=Math.max(o,0):(n=parseFloat(o),isNaN(n)||(this.cornerRadius=Math.max(n,0))),this.layoutInset(),this.changed()},window.BoxMorph.prototype.pickInset=function(){var t,e,n;return t=world.plausibleTargetAndDestinationMorphs(this),e=[],t.forEach(t=>{if(t!==this.parent)return e.push(t)}),e.length>0?(n=new MenuMorph(this,!1,this,!0,!0,"choose Widget to put as inset:"),e.forEach(t=>n.addMenuItem(t.toString().slice(0,50),!0,t,"choiceOfMorphToBePicked"))):n=new MenuMorph(this,!1,this,!0,!0,"no morphs to pick"),n.popUpAtHand()},window.BoxMorph.instances=new Set,"function"==typeof window.BoxMorph.initStaticConstsAfterClassDefinition&&window.BoxMorph.initStaticConstsAfterClassDefinition(),window.BasementWdgt=function(){BasementWdgt.__super__.constructor.call(this),this.silentRawSetExtent(new Point(340,270)),this.color=new Color(60,60,60),this.padding=5,this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BasementWdgt,"name",{value:"BasementWdgt"}),window.BasementWdgt.__super__=window.BoxMorph.prototype,window.BasementWdgt=extend(window.BasementWdgt,window.BoxMorph),window.BasementWdgt.prototype.scrollPanel=nil,window.BasementWdgt.prototype.resizer=nil,window.BasementWdgt.prototype.hideUsedWdgtsOnButton=nil,window.BasementWdgt.prototype.hideUsedWdgtsOffButton=nil,window.BasementWdgt.prototype.hideUsedWdgtsToggle=nil,window.BasementWdgt.prototype.showingLostItemsOnly=!1,window.BasementWdgt.prototype.colloquialName=function(){return"Basement"},window.BasementWdgt.prototype.closeFromContainerWindow=function(t){return this.removeFromTree(),t.fullDestroy()},window.BasementWdgt.prototype.empty=function(){var t,e;return null!=(t=this.scrollPanel)&&null!=(e=t.contents)?e.fullDestroyChildren():void 0},window.BasementWdgt.prototype.buildAndConnectChildren=function(){return this.scrollPanel=new ScrollPanelWdgt,this.add(this.scrollPanel),this.hideUsedWdgtsOnButton=new SimpleButtonMorph(!0,this,"showAllWidgets","☒ only show lost items"),this.hideUsedWdgtsOffButton=new SimpleButtonMorph(!0,this,"hideUsedWidgets","☐ only show lost items"),this.hideUsedWdgtsToggle=new ToggleButtonMorph(this.hideUsedWdgtsOffButton,this.hideUsedWdgtsOnButton,0),this.add(this.hideUsedWdgtsToggle),this.resizer=new HandleMorph(this),this.invalidateLayout()},window.BasementWdgt.prototype.doGC=function(){var t,e,n;for(t of(world.incrementalGcSessionId++,e=world.incrementalGcSessionId,world.widgetsReferencingOtherWidgets))t.isOrphan()&&t.markReferenceAsVisited(e);for(t of world.widgetsReferencingOtherWidgets)t.wasReferenceVisited(e)||t.isInBasement()||(t.target.markItAndItsParentsAsReachable(e),t.markReferenceAsVisited(e));for(n=!0;n;)for(t of(n=!1,world.widgetsReferencingOtherWidgets))t.wasReferenceVisited(e)||t.isInBasementButReachable(e)&&(n=!0,t.target.markItAndItsParentsAsReachable(e),t.markReferenceAsVisited(e));return e},window.BasementWdgt.prototype.hideUsedWidgets=function(){var t,e,n,o,i,r;for(this.showingLostItemsOnly=!0,n=this.doGC(),i=new Set,t=0,e=(o=this.scrollPanel.contents.children).length;t<e;t++)(r=o[t]).isInBasementButReachable(n)&&i.add(r);return i.forEach(t=>t.hide())},window.BasementWdgt.prototype.showAllWidgets=function(){var t,e,n,o,i;for(this.showingLostItemsOnly=!1,o=[],t=0,e=(n=this.scrollPanel.contents.children).length;t<e;t++)i=n[t],o.push(i.show());return o},window.BasementWdgt.prototype.childAddedInScrollPanel=function(){return this.showingLostItemsOnly?this.hideUsedWidgets():this.showAllWidgets()},window.BasementWdgt.prototype.doLayout=function(t){var e,n,o,i;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),o=this.left()+this.cornerRadius,i=this.top()+2,n=this.width()-this.cornerRadius,n-=this.cornerRadius,e=this.bottom()-2*this.cornerRadius-WorldMorph.preferencesAndSettings.handleSize-i,this.scrollPanel.fullRawMoveTo(new Point(o,i)),this.scrollPanel.rawSetExtent(new Point(n,e)),o=this.scrollPanel.left(),i=this.scrollPanel.bottom()+this.cornerRadius,e=WorldMorph.preferencesAndSettings.handleSize,n=this.scrollPanel.width()-e-this.cornerRadius,this.hideUsedWdgtsToggle.doLayout(new Rectangle(0,0,n,e).translateBy(new Point(o,i))),trackChanges.pop(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.BasementWdgt.instances=new Set,"function"==typeof window.BasementWdgt.initStaticConstsAfterClassDefinition&&window.BasementWdgt.initStaticConstsAfterClassDefinition(),window.BoxyAppearance=function(t){BoxyAppearance.__super__.constructor.call(this,t),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BoxyAppearance,"name",{value:"BoxyAppearance"}),window.BoxyAppearance.__super__=window.Appearance.prototype,window.BoxyAppearance=extend(window.BoxyAppearance,window.Appearance),window.BoxyAppearance.prototype.getCornerRadius=function(){return null!=this.morph.cornerRadius?this.morph.cornerRadius:4},window.BoxyAppearance.prototype.isTransparentAt=function(t){var e,n,o;if(!this.morph.boundsContainPoint(t))return!0;if(o=this.morph.position(),e=Math.max(this.getCornerRadius(),0),(n=new Point(t.x-o.x,t.y-o.y)).x<e&&n.y<e){if(n.distanceTo(new Point(e,e))>e)return!0}else if(n.x>this.morph.width()-e&&n.y<e){if(n.distanceTo(new Point(this.morph.width()-e,e))>e)return!0}else if(n.x<e&&n.y>this.morph.height()-e){if(n.distanceTo(new Point(e,this.morph.height()-e))>e)return!0}else if(n.x>this.morph.width()-e&&n.y>this.morph.height()-e&&n.distanceTo(new Point(this.morph.width()-e,this.morph.height()-e))>e)return!0;return!1},window.BoxyAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;return this.morph.preliminaryCheckNothingToDraw(e,t)?nil:([i,l,d,o,r,h,s]=this.morph.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,t.useLogicalPixelsUntilRestore(),a=this.morph.position(),t.translate(a.x,a.y),this.morph.color,t.fillStyle=this.morph.color.toString(),null!=n&&(t.fillStyle="black"),t.beginPath(),this.outlinePath(t,this.getCornerRadius(),!1),t.closePath(),t.fill(),null!=this.morph.strokeColor&&null==n&&(t.lineWidth=1,t.strokeStyle=this.morph.strokeColor.toString(),t.beginPath(),this.outlinePath(t,this.getCornerRadius(),!0),t.closePath(),t.stroke()),t.restore(),this.paintHighlight(t,o,r,h,s)))},window.BoxyAppearance.prototype.outlinePath=function(t,e,n){var o,i,r;return i=e,n&&(i+=.5),r=this.morph.width(),o=this.morph.height(),t.arc(i,i,e,-Math.PI,-Math.PI/2),t.arc(r-i,i,e,-Math.PI/2,0),t.arc(r-i,o-i,e,0,Math.PI/2),t.arc(i,o-i,e,Math.PI/2,Math.PI)},window.BoxyAppearance.prototype.cornerRadiusPopout=function(t){return this.morph.prompt(t.parent.title+"\ncorner\nradius:",this.morph,"setCornerRadius",this.morph.cornerRadius.toString(),nil,0,100,!0)},window.BoxyAppearance.prototype.addShapeSpecificMenuItems=function(t){return t.addLine(),t.addMenuItem("corner radius...",!0,this,"cornerRadiusPopout","set the corner's\nradius"),t.addMenuItem("pick inset...",!0,this.morph,"pickInset","put a morph as inset"),t},window.BoxyAppearance.prototype.addShapeSpecificNumericalSetters=function(t,e){return null==t&&(t=[],e=[]),t.push("corner radius"),e.push("setCornerRadius"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.BoxyAppearance.instances=new Set,"function"==typeof window.BoxyAppearance.initStaticConstsAfterClassDefinition&&window.BoxyAppearance.initStaticConstsAfterClassDefinition(),window.BubblyAppearance=function(t){BubblyAppearance.__super__.constructor.call(this,t),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BubblyAppearance,"name",{value:"BubblyAppearance"}),window.BubblyAppearance.__super__=window.BoxyAppearance.prototype,window.BubblyAppearance=extend(window.BubblyAppearance,window.BoxyAppearance),window.BubblyAppearance.prototype.outlinePath=function(t,e){var n,o,i,r,s;return o=e,s=this.morph.width(),r=(n=this.morph.height())/5,i=n/5,t.arc(o,o,e,degreesToRadians(-180),degreesToRadians(-90)),t.arc(s-o,o,e,degreesToRadians(-90),degreesToRadians(-0)),t.arc(s-o,n-r-e,e,degreesToRadians(0),degreesToRadians(90)),t.lineTo(o+e+i,n-r),t.lineTo(o,n),t.arc(o,n-r-e,e,degreesToRadians(90),degreesToRadians(180))},window.BubblyAppearance.instances=new Set,"function"==typeof window.BubblyAppearance.initStaticConstsAfterClassDefinition&&window.BubblyAppearance.initStaticConstsAfterClassDefinition(),window.EmptyButtonMorph=function(t=!0,e=nil,n=nil,o=nil,i=nil,r,s=nil,a=nil,l=nil,d=nil,h=!1,p=0){this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=t,this.target=e,this.action=n,this.faceMorph=o,this.dataSourceMorphForTarget=i,this.morphEnv=r,this.toolTipMessage=s,this.doubleClickAction=a,this.argumentToAction1=l,this.argumentToAction2=d,this.representsAMorph=h,this.padding=p,EmptyButtonMorph.__super__.constructor.call(this),this.defaultRejectDrags=!0,null!=this.faceMorph&&("string"==typeof this.faceMorph&&(this.faceMorph=new StringMorph2(this.faceMorph,WorldMorph.preferencesAndSettings.textInButtonsFontSize).alignCenter()),this.add(this.faceMorph),this.invalidateLayout()),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EmptyButtonMorph,"name",{value:"EmptyButtonMorph"}),window.EmptyButtonMorph.__super__=window.Widget.prototype,window.EmptyButtonMorph=extend(window.EmptyButtonMorph,window.Widget),window.EmptyButtonMorph.augmentWith(window.HighlightableMixin,"EmptyButtonMorph"),window.EmptyButtonMorph.prototype.target=nil,window.EmptyButtonMorph.prototype.action=nil,window.EmptyButtonMorph.prototype.dataSourceMorphForTarget=nil,window.EmptyButtonMorph.prototype.morphEnv=nil,window.EmptyButtonMorph.prototype.doubleClickAction=nil,window.EmptyButtonMorph.prototype.argumentToAction1=nil,window.EmptyButtonMorph.prototype.argumentToAction2=nil,window.EmptyButtonMorph.prototype.toolTipMessage=nil,window.EmptyButtonMorph.prototype.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=!0,window.EmptyButtonMorph.prototype.representsAMorph=!1,window.EmptyButtonMorph.prototype.padding=0,window.EmptyButtonMorph.prototype.color=Color.WHITE,window.EmptyButtonMorph.prototype.doLayout=function(t){var e;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),(null!=(e=this.faceMorph)?e.parent:void 0)===this&&this.faceMorph.rawSetBounds(t.insetBy(this.padding)),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.EmptyButtonMorph.prototype.getTextDescription=function(){},window.EmptyButtonMorph.prototype.trigger=function(){null!=this.action&&""!==this.action&&this.target[this.action].call(this.target,this.dataSourceMorphForTarget,this.morphEnv,this.argumentToAction1,this.argumentToAction2)},window.EmptyButtonMorph.prototype.triggerDoubleClick=function(){if(this.doubleClickAction)return this.target[this.doubleClickAction]()},window.EmptyButtonMorph.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){return this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked&&this.propagateKillPopUps(),this.trigger(),this.escalateEvent("mouseClickLeft",t,e,n,o,i,r,s,a,l)},window.EmptyButtonMorph.prototype.mouseDoubleClick=function(){return this.triggerDoubleClick()},window.EmptyButtonMorph.prototype.rejectDrags=function(){return!(this.parent instanceof WorldMorph)&&this.defaultRejectDrags},window.EmptyButtonMorph.instances=new Set,"function"==typeof window.EmptyButtonMorph.initStaticConstsAfterClassDefinition&&window.EmptyButtonMorph.initStaticConstsAfterClassDefinition(),window.SimpleRectangularButtonMorph=function(t=!0,e=nil,n=nil,o=nil,i=nil,r,s=nil,a=nil,l=nil,d=nil,h=!1){this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=t,this.target=e,this.action=n,this.faceMorph=o,this.dataSourceMorphForTarget=i,this.morphEnv=r,this.toolTipMessage=s,this.doubleClickAction=a,this.argumentToAction1=l,this.argumentToAction2=d,this.representsAMorph=h,SimpleRectangularButtonMorph.__super__.constructor.apply(this,arguments),this.appearance=new RectangularAppearance(this),this.strokeColor=new Color(196,195,196),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleRectangularButtonMorph,"name",{value:"SimpleRectangularButtonMorph"}),window.SimpleRectangularButtonMorph.__super__=window.EmptyButtonMorph.prototype,window.SimpleRectangularButtonMorph=extend(window.SimpleRectangularButtonMorph,window.EmptyButtonMorph),window.SimpleRectangularButtonMorph.instances=new Set,"function"==typeof window.SimpleRectangularButtonMorph.initStaticConstsAfterClassDefinition&&window.SimpleRectangularButtonMorph.initStaticConstsAfterClassDefinition(),window.CodeInjectingSimpleRectangularButtonMorph=function(t,e,n){this.wdgtToBeNotifiedForNewCode=t,this.wdgtWhereToInject=e,CodeInjectingSimpleRectangularButtonMorph.__super__.constructor.call(this,!0,this,"injectCodeIntoTarget",n),this.strokeColor=Color.BLACK,this.setColor(new Color(150,150,150)),this.toolTipMessage=n.toolTipMessage,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CodeInjectingSimpleRectangularButtonMorph,"name",{value:"CodeInjectingSimpleRectangularButtonMorph"}),window.CodeInjectingSimpleRectangularButtonMorph.__super__=window.SimpleRectangularButtonMorph.prototype,window.CodeInjectingSimpleRectangularButtonMorph=extend(window.CodeInjectingSimpleRectangularButtonMorph,window.SimpleRectangularButtonMorph),window.CodeInjectingSimpleRectangularButtonMorph.prototype.sourceCodeToBeInjected="",window.CodeInjectingSimpleRectangularButtonMorph.prototype.wdgtWhereToInject=nil,window.CodeInjectingSimpleRectangularButtonMorph.prototype.wdgtToBeNotifiedForNewCode=nil,window.CodeInjectingSimpleRectangularButtonMorph.prototype.editInjectableSource=function(){return this.textPrompt("Code",this,"modifyCodeToBeInjected",this.sourceCodeToBeInjected)},window.CodeInjectingSimpleRectangularButtonMorph.prototype.injectCodeIntoTarget=function(){return this.wdgtWhereToInject.injectProperties(this.sourceCodeToBeInjected)},window.CodeInjectingSimpleRectangularButtonMorph.prototype.modifyCodeToBeInjected=function(t,e){var n;return this.sourceCodeToBeInjected=e.text,"function"==typeof(n=this.wdgtToBeNotifiedForNewCode).newCodeToInjectFromButton?n.newCodeToInjectFromButton(this):void 0},window.CodeInjectingSimpleRectangularButtonMorph.instances=new Set,"function"==typeof window.CodeInjectingSimpleRectangularButtonMorph.initStaticConstsAfterClassDefinition&&window.CodeInjectingSimpleRectangularButtonMorph.initStaticConstsAfterClassDefinition(),window.CodePromptMorph=function(t,e,n,o){this.msg=t,this.target=e,this.callback=n,this.defaultContents=o,CodePromptMorph.__super__.constructor.call(this,new Point(200,400)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CodePromptMorph,"name",{value:"CodePromptMorph"}),window.CodePromptMorph.__super__=window.Widget.prototype,window.CodePromptMorph=extend(window.CodePromptMorph,window.Widget),window.CodePromptMorph.prototype.tempPromptEntryField=nil,window.CodePromptMorph.prototype.defaultContents="",window.CodePromptMorph.prototype.textMorph=nil,window.CodePromptMorph.prototype.cancelButton=nil,window.CodePromptMorph.prototype.saveButton=nil,window.CodePromptMorph.prototype.okButton=nil,window.CodePromptMorph.prototype.saveTextWdgt=nil,window.CodePromptMorph.prototype.externalPadding=0,window.CodePromptMorph.prototype.internalPadding=5,window.CodePromptMorph.prototype.colloquialName=function(){return"Edit tool code"},window.CodePromptMorph.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new SimplePlainTextScrollPanelWdgt(this.defaultContents,!1,5),this.tempPromptEntryField.disableDrops(),this.tempPromptEntryField.contents.disableDrops(),this.tempPromptEntryField.color=Color.WHITE,this.tempPromptEntryField.addModifiedContentIndicator(),this.tempPromptEntryField.widgetToBeNotifiedOfTextModificationChange=this,this.textMorph=this.tempPromptEntryField.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!0,this.textMorph.enableSelecting(),this.add(this.tempPromptEntryField),this.cancelButton=new SimpleButtonMorph(!0,this,"close","cancel"),this.add(this.cancelButton),this.saveTextWdgt=new StringMorph2("save",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.saveTextWdgt.alignCenter(),this.saveButton=new SimpleButtonMorph(!0,this,"informTarget",this.saveTextWdgt),this.add(this.saveButton),this.okButton=new SimpleButtonMorph(!0,this,"notifyTargetAndClose","ok"),this.add(this.okButton),this.tempPromptEntryField.checkIfTextContentWasModifiedFromTextAtStart(),this.invalidateLayout()},window.CodePromptMorph.prototype.textContentModified=function(){return this.saveTextWdgt.setColor(Color.BLACK)},window.CodePromptMorph.prototype.textContentUnmodified=function(){return this.saveTextWdgt.setColor(new Color(200,200,200))},window.CodePromptMorph.prototype.informTarget=function(){return this.target[this.callback].call(this.target,nil,this.textMorph),this.textMorph.considerCurrentTextAsReferenceText(),this.tempPromptEntryField.checkIfTextContentWasModifiedFromTextAtStart()},window.CodePromptMorph.prototype.notifyTargetAndClose=function(){return this.informTarget(),this.close()},window.CodePromptMorph.prototype.doLayout=function(t){var e,n,o,i;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(CodePromptMorph.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),i=this.height()-2*this.externalPadding-this.internalPadding-15,o=this.top()+this.externalPadding+i,this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(this.width()-2*this.externalPadding,i))),n=(this.width()-2*this.externalPadding-3*this.internalPadding-WorldMorph.preferencesAndSettings.handleSize)/3,this.cancelButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+0*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.cancelButton.doLayout(e)),this.saveButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+1*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.saveButton.doLayout(e)),this.okButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+2*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.okButton.doLayout(e)),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.CodePromptMorph.instances=new Set,"function"==typeof window.CodePromptMorph.initStaticConstsAfterClassDefinition&&window.CodePromptMorph.initStaticConstsAfterClassDefinition(),ControllerMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{openTargetSelector:function(){var t,e;return(t=world.plausibleTargetAndDestinationMorphs(this)).length>0?(e=new MenuMorph(this,!1,this,!0,!0,"choose target:"),t.forEach(t=>{if(!(t instanceof FanoutPinWdgt))return e.addMenuItem(t.toString().replace("Wdgt","").slice(0,50)+" ➜",!1,this,"openTargetPropertySelector",nil,nil,nil,nil,nil,t,nil,!0)})):e=new MenuMorph(this,!1,this,!0,!0,"no targets available"),e.popUpAtHand()},setTargetAndActionWithOnesPickedFromMenu:function(t,e,n,o){return this.target=n,this.action=o,null!=this.target[this.action+"IsConnected"]&&(this.target[this.action+"IsConnected"]=!0),this.connectionsCalculationToken=world.makeNewConnectionsCalculationToken(),"function"==typeof this.reactToTargetConnection?this.reactToTargetConnection():void 0}})}},BackBufferMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{backBuffer:nil,backBufferContext:nil,backBufferContext_isDerivedValue:!0,calculateKeyValues:function(t,e){var n,o,i,r,s,a,l,d,h;return(o=e.intersect(this.boundingBox()).round()).isNotEmpty()&&(r=this.position().neg(),a=(l=o.translateBy(r).round()).left()*ceilPixelRatio,d=l.top()*ceilPixelRatio,n=o.left()*ceilPixelRatio,i=o.top()*ceilPixelRatio,h=Math.min(l.width()*ceilPixelRatio,this.backBuffer.width-a),s=Math.min(l.height()*ceilPixelRatio,this.backBuffer.height-d)),[o,a,d,n,i,h,s]},isTransparentAt:function(t){return this.bounds.debugIfFloats(),!!this.boundsContainPoint(t)&&(!this.texture&&0===this.getPixelColor(t).a)},getPixelColor:function(t){var e,n;return[this.backBuffer,this.backBufferContext]=this.createRefreshOrGetBackBuffer(),n=t.toLocalCoordinatesOf(this),e=this.backBufferContext.getImageData(n.x*ceilPixelRatio,n.y*ceilPixelRatio,1,1),new Color(e.data[0],e.data[1],e.data[2],e.data[3])},paintIntoAreaOrBlitFromBackBuffer:function(t,e,n){var o,i,r,s,a,l,d;return"function"==typeof this.justBeforeBeingPainted&&this.justBeforeBeingPainted(),!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?nil:([this.backBuffer,this.backBufferContext]=this.createRefreshOrGetBackBuffer(),null==this.backBuffer?nil:([i,a,l,o,r,d,s]=this.calculateKeyValues(t,e),d<1||s<1||i.isEmpty()?nil:(t.save(),t.globalAlpha=(null!=n?n.alpha:1)*this.alpha,t.drawImage(this.backBuffer,Math.round(a),Math.round(l),Math.round(d),Math.round(s),Math.round(o),Math.round(r),Math.round(d),Math.round(s)),t.restore(),this.paintHighlight(t,o,r,d,s))))}})}},window.ColorPaletteMorph=function(t=nil,e){this.target=t,ColorPaletteMorph.__super__.constructor.call(this),this.silentRawSetExtent(e||new Point(80,50)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ColorPaletteMorph,"name",{value:"ColorPaletteMorph"}),window.ColorPaletteMorph.__super__=window.Widget.prototype,window.ColorPaletteMorph=extend(window.ColorPaletteMorph,window.Widget),window.ColorPaletteMorph.augmentWith(window.ControllerMixin,"ColorPaletteMorph"),window.ColorPaletteMorph.augmentWith(window.BackBufferMixin,"ColorPaletteMorph"),window.ColorPaletteMorph.prototype.target=nil,window.ColorPaletteMorph.prototype.action=nil,window.ColorPaletteMorph.prototype.argumentToAction=nil,window.ColorPaletteMorph.prototype.choice=nil,window.ColorPaletteMorph.prototype.colloquialName=function(){return"color palette"},window.ColorPaletteMorph.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.DONT_MIND,PreferredSize.DONT_MIND,1)},window.ColorPaletteMorph.prototype.detachesWhenDragged=function(){return!1},window.ColorPaletteMorph.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w;if(i=this.constructor.name+"-"+this.extent().toString(),null!=(o=world.cacheForImmutableBackBuffers.get(i)))return o;for(r=this.extent(),(e=(t=newCanvas(r.scaleBy(ceilPixelRatio))).getContext("2d")).useLogicalPixelsUntilRestore(),this.choice=new Color,c=a=0,h=r.x;0<=h?a<=h:a>=h;c=0<=h?++a:--a)for(s=360*c/r.x,w=0,w=l=0,p=r.y;0<=p?l<=p:l>=p;w=0<=p?++l:--l)d=100-w/r.y*100,e.fillStyle="hsl("+s+",100%,"+d+"%)",e.fillRect(c,w,1,1);return n=[t,e],world.cacheForImmutableBackBuffers.set(i,n),n},window.ColorPaletteMorph.prototype.nonFloatDragging=function(t,e,n){return this.choice=this.getPixelColor(e.add(n||new Point(0,0))),this.connectionsCalculationToken=world.makeNewConnectionsCalculationToken(),this.updateTarget()},window.ColorPaletteMorph.prototype.mouseDownLeft=function(t){return this.choice=this.getPixelColor(t),this.connectionsCalculationToken=world.makeNewConnectionsCalculationToken(),this.updateTarget()},window.ColorPaletteMorph.prototype.stringSetters=function(t,e){return[t,e]=ColorPaletteMorph.__super__.stringSetters.call(this,t,e),t.push("bang!"),e.push("bang"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.ColorPaletteMorph.prototype.numericalSetters=function(t,e){return[t,e]=ColorPaletteMorph.__super__.numericalSetters.call(this,t,e),t.push("bang!"),e.push("bang"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.ColorPaletteMorph.prototype.colorSetters=function(t,e){return[t,e]=ColorPaletteMorph.__super__.colorSetters.call(this,t,e),t.push("bang!"),e.push("bang"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.ColorPaletteMorph.prototype.bang=function(t,e,n,o){if(null!=this.choice&&(o||n!==this.connectionsCalculationToken))return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.updateTarget()},window.ColorPaletteMorph.prototype.updateTarget=function(){null!=this.target&&(null==this.action&&(this.action="setColor"),this.target[this.action].call(this.target,this.choice,nil,this.connectionsCalculationToken))},window.ColorPaletteMorph.prototype.reactToTargetConnection=function(){},window.ColorPaletteMorph.prototype.addMorphSpecificMenuEntries=function(t,e){return ColorPaletteMorph.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),world.isIndexPage?e.addMenuItem("connect to ➜",!0,this,"openTargetSelector","connect to\nanother widget"):e.addMenuItem("set target",!0,this,"openTargetSelector","choose another morph\nwhose color property\n will be controlled by this one")},window.ColorPaletteMorph.prototype.openTargetPropertySelector=function(t,e,n){var o,i,r,s,a,l;for([a,o]=n.colorSetters(),s=new MenuMorph(this,!1,this,!0,!0,"choose target property:"),i=r=0,l=a.length;0<=l?r<l:r>l;i=0<=l?++r:--r)s.addMenuItem(a[i],!0,this,"setTargetAndActionWithOnesPickedFromMenu",nil,nil,nil,nil,nil,n,o[i]);return 0===a.length&&(s=new MenuMorph(this,!1,this,!0,!0,"no target properties available")),s.popUpAtHand()},window.ColorPaletteMorph.instances=new Set,"function"==typeof window.ColorPaletteMorph.initStaticConstsAfterClassDefinition&&window.ColorPaletteMorph.initStaticConstsAfterClassDefinition(),window.ColorPickerMorph=function(t=Color.WHITE){this.choice=t,ColorPickerMorph.__super__.constructor.call(this),this.appearance=new RectangularAppearance(this),this.color=Color.WHITE,this.rawSetExtent(new Point(80,80)),this.buildSubmorphs(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ColorPickerMorph,"name",{value:"ColorPickerMorph"}),window.ColorPickerMorph.__super__=window.Widget.prototype,window.ColorPickerMorph=extend(window.ColorPickerMorph,window.Widget),window.ColorPickerMorph.prototype.feedback=nil,window.ColorPickerMorph.prototype.choice=nil,window.ColorPickerMorph.prototype.colorPalette=nil,window.ColorPickerMorph.prototype.grayPalette=nil,window.ColorPickerMorph.prototype.colloquialName=function(){return"color picker"},window.ColorPickerMorph.prototype.buildSubmorphs=function(){return this.feedback=new RectangleMorph(new Point(20,20),this.choice),this.colorPalette=new ColorPaletteMorph(this.feedback,new Point(this.width(),50)),this.grayPalette=new GrayPaletteMorph(this.feedback,new Point(this.width(),5)),this.add(this.colorPalette),this.add(this.grayPalette),this.add(this.feedback),this.invalidateLayout()},window.ColorPickerMorph.prototype.iHaveBeenAddedTo=function(t,e){},window.ColorPickerMorph.prototype.getColor=function(){return this.feedback.color},window.ColorPickerMorph.prototype.rawSetExtent=function(t){return ColorPickerMorph.__super__.rawSetExtent.apply(this,arguments),this.invalidateLayout()},window.ColorPickerMorph.prototype.doLayout=function(t){var e,n;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(trackChanges.push(!1),this.rawSetBounds(t),this.colorPalette.fullRawMoveTo(this.position()),this.colorPalette.rawSetExtent(new Point(this.width(),Math.round(.625*this.height()))),this.grayPalette.fullRawMoveTo(this.colorPalette.bottomLeft()),this.grayPalette.rawSetExtent(new Point(this.width(),Math.round(.0625*this.height()))),e=this.grayPalette.left()+Math.floor((this.grayPalette.width()-this.feedback.width())/2),n=this.grayPalette.bottom()+Math.floor((this.bottom()-this.grayPalette.bottom()-this.feedback.height())/2),this.feedback.fullRawMoveTo(new Point(e,n)),this.feedback.rawSetExtent(new Point(Math.min(this.width(),Math.round(.25*this.height())),Math.round(.25*this.height()))),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.ColorPickerMorph.instances=new Set,"function"==typeof window.ColorPickerMorph.initStaticConstsAfterClassDefinition&&window.ColorPickerMorph.initStaticConstsAfterClassDefinition(),window.RectangularAppearance=function(){window.RectangularAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.RectangularAppearance,"name",{value:"RectangularAppearance"}),window.RectangularAppearance.__super__=window.Appearance.prototype,window.RectangularAppearance=extend(window.RectangularAppearance,window.Appearance),window.RectangularAppearance.prototype.isTransparentAt=function(t){return!this.morph.boundingBoxTight().containsPoint(t)&&!(null!=this.morph.backgroundTransparency&&null!=this.morph.backgroundColor&&this.morph.backgroundTransparency>0&&this.morph.boundsContainPoint(t))},window.RectangularAppearance.prototype.paintHighlight=function(t,e,n,o,i){},window.RectangularAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h,p,c;return this.morph.preliminaryCheckNothingToDraw(e,t)?nil:([i,d,h,o,r,c,l]=this.morph.calculateKeyValues(t,e),c<1||l<1||i.isEmpty()?nil:("function"==typeof(s=this.morph).justBeforeBeingPainted&&s.justBeforeBeingPainted(),t.save(),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,this.morph.color,t.fillStyle=this.morph.color.toString(),p=new Rectangle(o,r,o+c,r+l),null!=this.morph.backgroundColor&&(a=this.morph.backgroundColor,null!=n&&(a="black"),this.morph.paintRectangle(t,p.left(),p.top(),p.width(),p.height(),a)),p=p.intersect(this.morph.boundingBoxTight().scaleBy(ceilPixelRatio)),a=this.morph.color,null!=n&&(a="black"),this.morph.paintRectangle(t,p.left(),p.top(),p.width(),p.height(),a),"function"==typeof this.drawAdditionalPartsOnBaseShape&&this.drawAdditionalPartsOnBaseShape(!1,!1,n,t,o,r,c,l),null==n&&this.paintStroke(t,e),t.restore(),this.paintHighlight(t,o,r,c,l)))},window.RectangularAppearance.prototype.paintStroke=function(t,e){var n,o,i,r,s,a,l,d,h;return this.morph.preliminaryCheckNothingToDraw(e,t)?nil:([o,a,l,n,i,h,s]=this.morph.calculateKeyValues(t,e),h<1||s<1||o.isEmpty()?nil:("function"==typeof(r=this.morph).justBeforeBeingPainted&&r.justBeforeBeingPainted(),t.save(),d=(d=new Rectangle(n,i,n+h,i+s)).intersect(this.morph.boundingBoxTight().scaleBy(ceilPixelRatio)),null!=this.morph.strokeColor&&(t.beginPath(),t.rect(Math.round(d.left()),Math.round(d.top()),Math.round(d.width()),Math.round(d.height())),t.clip(),t.globalAlpha=this.morph.alpha,t.lineWidth=1,t.strokeStyle=this.morph.strokeColor.toString(),t.strokeRect(Math.round(this.morph.left()*ceilPixelRatio)+.5,Math.round(this.morph.top()*ceilPixelRatio)+.5,Math.round(this.morph.width()*ceilPixelRatio)-1,Math.round(this.morph.height()*ceilPixelRatio)-1)),t.restore()))},window.RectangularAppearance.instances=new Set,"function"==typeof window.RectangularAppearance.initStaticConstsAfterClassDefinition&&window.RectangularAppearance.initStaticConstsAfterClassDefinition(),window.DesktopAppearance=function(){window.DesktopAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DesktopAppearance,"name",{value:"DesktopAppearance"}),window.DesktopAppearance.__super__=window.RectangularAppearance.prototype,window.DesktopAppearance=extend(window.DesktopAppearance,window.RectangularAppearance),window.DesktopAppearance.prototype.currentPattern=nil,window.DesktopAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h,p,c,w;if(this.morph.preliminaryCheckNothingToDraw(e,t))return nil;if(null!=this.morph.patternName&&this.morph.patternName===this.morph.pattern1&&(this.currentPattern=this.morph.patternName,this.pattern=nil),null!=this.morph.patternName&&this.morph.patternName!==this.currentPattern){switch(this.currentPattern=this.morph.patternName,this.pattern=document.createElement("canvas"),this.pattern.width=5*ceilPixelRatio,this.pattern.height=5*ceilPixelRatio,(d=this.pattern.getContext("2d")).useLogicalPixelsUntilRestore(),this.morph.patternName){case this.morph.pattern2:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.lineWidth=.25,d.beginPath(),d.arc(2,2,2,0,2*Math.PI),d.fillStyle="rgb(220, 219, 220)",d.fill();break;case this.morph.pattern3:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.moveTo(1,0),d.lineTo(1,5),d.strokeStyle="rgb(225, 224, 225)",d.stroke();break;case this.morph.pattern4:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.moveTo(0,5),d.lineTo(5,0),d.strokeStyle="rgb(225, 224, 225)",d.stroke();break;case this.morph.pattern5:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.moveTo(2,2),d.lineTo(4,4),d.strokeStyle="rgb(225, 224, 225)",d.stroke();break;case this.morph.pattern6:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.moveTo(0,0),d.lineTo(3,3),d.lineTo(5,0),d.strokeStyle="rgb(225, 224, 225)",d.stroke();break;case this.morph.pattern7:d.fillStyle="rgb(244, 243, 244)",d.fillRect(0,0,5,5),d.moveTo(0,5),d.lineTo(5,0),d.moveTo(2.5,2.5),d.lineTo(0,0),d.strokeStyle="rgb(225, 224, 225)",d.stroke()}this.pattern=t.createPattern(this.pattern,"repeat")}return[i,h,p,o,r,w,l]=this.morph.calculateKeyValues(t,e),w<1||l<1||i.isEmpty()?nil:("function"==typeof(s=this.morph).justBeforeBeingPainted&&s.justBeforeBeingPainted(),t.save(),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,this.morph.color,t.fillStyle=this.morph.color.toString(),c=new Rectangle(o,r,o+w,r+l),null!=this.morph.backgroundColor&&(a=this.morph.backgroundColor,null!=n&&(a="black"),this.morph.paintRectangle(t,c.left(),c.top(),c.width(),c.height(),a)),c=c.intersect(this.morph.boundingBoxTight().scaleBy(ceilPixelRatio)),a=this.morph.color,null!=n&&(a="black"),this.morph.paintRectangle(t,c.left(),c.top(),c.width(),c.height(),a),"function"==typeof this.drawAdditionalPartsOnBaseShape&&this.drawAdditionalPartsOnBaseShape(!1,!1,n,t,o,r,w,l),null==n&&this.paintStroke(t,e),null!=this.pattern&&(t.fillStyle=this.pattern,t.fillRect(c.left(),c.top(),c.width(),c.height())),t.restore(),this.paintHighlight(t,o,r,w,l))},window.DesktopAppearance.instances=new Set,"function"==typeof window.DesktopAppearance.initStaticConstsAfterClassDefinition&&window.DesktopAppearance.initStaticConstsAfterClassDefinition(),UpperRightInternalHaloMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{isLockingToPanels:!1,proportionOfParent:.5,fixedSize:0,positionWithinParent:"topRight",parentHasReLayouted:function(){return this.updateResizerPosition(),this.moveInFrontOfSiblings(),window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].apply(this,arguments)},updateResizerPosition:function(){if(this.parent)return this.silentUpdateResizerPosition(),this.changed()},silentUpdateResizerPosition:function(){var t,e,n;if(this.parent){if(e=this.parent.width(),n=this.parent.height(),t=Math.min(e,n)*this.proportionOfParent+this.fixedSize,this.silentRawSetExtent(new Point(t,t)),"topLeft"===this.positionWithinParent)return this.silentFullRawMoveTo(new Point(this.parent.left(),this.parent.top()));if("topRight"===this.positionWithinParent)return this.silentFullRawMoveTo(new Point(this.parent.right()-t,this.parent.top()))}},makeSolidWithParentMorph:function(t,e,n){return n.add(this),this.updateResizerPosition(),this.noticesTransparentClick=!0},attach:function(){var t,e;if(t=world.plausibleTargetAndDestinationMorphs(this),e=new MenuMorph(this,!1,this,!0,!0,"choose parent:"),t.length>0?t.forEach(t=>e.addMenuItem(t.toString().slice(0,50)+" ➜",!0,this,"makeSolidWithParentMorph",nil,nil,nil,nil,nil,t,nil,!0)):e=new MenuMorph(this,!1,this,!0,!0,"no morphs to attach to"),t.length)return e.popUpAtHand()}})}},window.UpperRightTriangle=function(t=nil,e=.5){var n;this.proportionOfParent=e,UpperRightTriangle.__super__.constructor.call(this),this.appearance=new UpperRightTriangleAppearance(this),this.noticesTransparentClick=!1,n=WorldMorph.preferencesAndSettings.handleSize,this.silentRawSetExtent(new Point(n,n)),t&&t.add(this),this.updateResizerPosition(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UpperRightTriangle,"name",{value:"UpperRightTriangle"}),window.UpperRightTriangle.__super__=window.Widget.prototype,window.UpperRightTriangle=extend(window.UpperRightTriangle,window.Widget),window.UpperRightTriangle.augmentWith(window.UpperRightInternalHaloMixin,"UpperRightTriangle"),window.UpperRightTriangle.instances=new Set,"function"==typeof window.UpperRightTriangle.initStaticConstsAfterClassDefinition&&window.UpperRightTriangle.initStaticConstsAfterClassDefinition(),window.UpperRightTriangleIconicButton=function(t=nil){UpperRightTriangleIconicButton.__super__.constructor.apply(this,arguments),this.pencilIconMorph=new PencilIconMorph(Color.BLACK),this.pencilIconMorph.parentHasReLayouted=function(){return this.updateResizerPosition(),this.moveInFrontOfSiblings()},this.pencilIconMorph.updateResizerPosition=function(){if(this.parent)return this.silentUpdateResizerPosition(),this.changed()},this.pencilIconMorph.silentUpdateResizerPosition=function(){var t,e,n;if(this.parent)return e=this.parent.width(),n=this.parent.height(),t=Math.min(e,n)/2,this.silentRawSetExtent(new Point(t,t)),this.silentFullRawMoveTo(new Point(this.parent.right()-t,this.parent.top()))},this.add(this.pencilIconMorph),this.pencilIconMorph.updateResizerPosition(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UpperRightTriangleIconicButton,"name",{value:"UpperRightTriangleIconicButton"}),window.UpperRightTriangleIconicButton.__super__=window.UpperRightTriangle.prototype,window.UpperRightTriangleIconicButton=extend(window.UpperRightTriangleIconicButton,window.UpperRightTriangle),window.UpperRightTriangleIconicButton.augmentWith(window.HighlightableMixin,"UpperRightTriangleIconicButton"),window.UpperRightTriangleIconicButton.prototype.color=Color.WHITE,window.UpperRightTriangleIconicButton.prototype.pencilIconMorph=nil,window.UpperRightTriangleIconicButton.instances=new Set,"function"==typeof window.UpperRightTriangleIconicButton.initStaticConstsAfterClassDefinition&&window.UpperRightTriangleIconicButton.initStaticConstsAfterClassDefinition(),window.EditableMarkMorph=function(t=nil,e,n){this.editObject=e,this.editMethodAsString=n,EditableMarkMorph.__super__.constructor.call(this,t),this.toolTipMessage="edit code for the tool","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EditableMarkMorph,"name",{value:"EditableMarkMorph"}),window.EditableMarkMorph.__super__=window.UpperRightTriangleIconicButton.prototype,window.EditableMarkMorph=extend(window.EditableMarkMorph,window.UpperRightTriangleIconicButton),window.EditableMarkMorph.prototype.editObject=nil,window.EditableMarkMorph.prototype.editMethodAsString="",window.EditableMarkMorph.prototype.mouseClickLeft=function(){return this.editObject[this.editMethodAsString].call(this.editObject)},window.EditableMarkMorph.instances=new Set,"function"==typeof window.EditableMarkMorph.initStaticConstsAfterClassDefinition&&window.EditableMarkMorph.initStaticConstsAfterClassDefinition(),window.ErrorsLogViewerMorph=function(t,e,n,o){this.msg=t,this.target=e,this.callback=n,this.defaultContents=o,ErrorsLogViewerMorph.__super__.constructor.call(this,new Point(200,400)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ErrorsLogViewerMorph,"name",{value:"ErrorsLogViewerMorph"}),window.ErrorsLogViewerMorph.__super__=window.Widget.prototype,window.ErrorsLogViewerMorph=extend(window.ErrorsLogViewerMorph,window.Widget),window.ErrorsLogViewerMorph.prototype.tempPromptEntryField=nil,window.ErrorsLogViewerMorph.prototype.defaultContents="",window.ErrorsLogViewerMorph.prototype.textMorph=nil,window.ErrorsLogViewerMorph.prototype.clearButton=nil,window.ErrorsLogViewerMorph.prototype.pauseToggle=nil,window.ErrorsLogViewerMorph.prototype.okButton=nil,window.ErrorsLogViewerMorph.prototype.externalPadding=0,window.ErrorsLogViewerMorph.prototype.internalPadding=5,window.ErrorsLogViewerMorph.prototype.paused=!1,window.ErrorsLogViewerMorph.prototype.colloquialName=function(){return"Error log"},window.ErrorsLogViewerMorph.prototype.closeFromContainerWindow=function(t){return this.parent.hide()},window.ErrorsLogViewerMorph.prototype.addText=function(t){var e;return e=0!==this.textMorph.text.length?this.textMorph.text:"",this.textMorph.setText(e+"\n\n-----------------------------------------\n\n"+t)},window.ErrorsLogViewerMorph.prototype.showUpWithError=function(t){var e;if(this.paused||(e="",0!==world.widgetsGivingErrorWhileRepainting.length&&(e+="Some widgets crashed while painting themselves and\n",e+="hence have been banned from re-painting themseves.\n",e+="Edit/save any source code to give them another chance.\n\n"),e+=t,null!=t.stack&&(e+="\n\nStack:\n"+t.stack),this.addText(e)),!this.parent.isVisible)return this.parent.show(),this.parent.bringToForeground()},window.ErrorsLogViewerMorph.prototype.buildAndConnectChildren=function(){var t,e;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new SimplePlainTextScrollPanelWdgt(this.defaultContents,!1,5),this.tempPromptEntryField.disableDrops(),this.tempPromptEntryField.contents.disableDrops(),this.tempPromptEntryField.color=Color.WHITE,this.textMorph=this.tempPromptEntryField.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!0,this.textMorph.enableSelecting(),this.add(this.tempPromptEntryField),this.clearButton=new SimpleButtonMorph(!0,this,"clearTextPane","clear"),this.add(this.clearButton),t=new SimpleButtonMorph(!0,this,"pauseErrors","pause"),e=new SimpleButtonMorph(!0,this,"unpauseErrors","un-pause"),this.pauseToggle=new ToggleButtonMorph(t,e,this.paused?1:0),this.add(this.pauseToggle),this.okButton=new SimpleButtonMorph(!0,this,"closeFromContainerWindow","ok"),this.add(this.okButton),this.invalidateLayout()},window.ErrorsLogViewerMorph.prototype.pauseErrors=function(){return this.paused=!0},window.ErrorsLogViewerMorph.prototype.unpauseErrors=function(){return this.paused=!1},window.ErrorsLogViewerMorph.prototype.clearTextPane=function(){return this.textMorph.setText("")},window.ErrorsLogViewerMorph.prototype.informTarget=function(){return this.target[this.callback].call(this.target,nil,this.textMorph)},window.ErrorsLogViewerMorph.prototype.notifyTargetAndClose=function(){return this.informTarget(),this.close()},window.ErrorsLogViewerMorph.prototype.doLayout=function(t){var e,n,o,i;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),i=this.height()-2*this.externalPadding-this.internalPadding-WorldMorph.preferencesAndSettings.handleSize,o=this.top()+this.externalPadding+i,this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(this.width()-2*this.externalPadding,i))),n=(this.width()-2*this.externalPadding-3*this.internalPadding-WorldMorph.preferencesAndSettings.handleSize)/3,this.clearButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+0*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.clearButton.doLayout(e)),this.pauseToggle.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+1*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.pauseToggle.doLayout(e)),this.okButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding+2*(n+this.internalPadding),o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.okButton.doLayout(e)),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.ErrorsLogViewerMorph.instances=new Set,"function"==typeof window.ErrorsLogViewerMorph.initStaticConstsAfterClassDefinition&&window.ErrorsLogViewerMorph.initStaticConstsAfterClassDefinition(),window.FittingSpecText=function(){window.FittingSpecText.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FittingSpecText,"name",{value:"FittingSpecText"}),window.FittingSpecText.__super__=Object.prototype,window.FittingSpecText.FIT_TEXT_TO_BOX=!0,window.FittingSpecText.FIT_BOX_TO_TEXT=!1,window.FittingSpecText.instances=new Set,"function"==typeof window.FittingSpecText.initStaticConstsAfterClassDefinition&&window.FittingSpecText.initStaticConstsAfterClassDefinition(),window.FittingSpecTextBoxFittingTextTightOrLoose=function(){window.FittingSpecTextBoxFittingTextTightOrLoose.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FittingSpecTextBoxFittingTextTightOrLoose,"name",{value:"FittingSpecTextBoxFittingTextTightOrLoose"}),window.FittingSpecTextBoxFittingTextTightOrLoose.__super__=Object.prototype,window.FittingSpecTextBoxFittingTextTightOrLoose.TIGHT=!1,window.FittingSpecTextBoxFittingTextTightOrLoose.LOOSE=!0,window.FittingSpecTextBoxFittingTextTightOrLoose.instances=new Set,"function"==typeof window.FittingSpecTextBoxFittingTextTightOrLoose.initStaticConstsAfterClassDefinition&&window.FittingSpecTextBoxFittingTextTightOrLoose.initStaticConstsAfterClassDefinition(),window.FittingSpecTextInLargerBounds=function(){window.FittingSpecTextInLargerBounds.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FittingSpecTextInLargerBounds,"name",{value:"FittingSpecTextInLargerBounds"}),window.FittingSpecTextInLargerBounds.__super__=Object.prototype,window.FittingSpecTextInLargerBounds.FLOAT=!1,window.FittingSpecTextInLargerBounds.SCALEUP=!0,window.FittingSpecTextInLargerBounds.instances=new Set,"function"==typeof window.FittingSpecTextInLargerBounds.initStaticConstsAfterClassDefinition&&window.FittingSpecTextInLargerBounds.initStaticConstsAfterClassDefinition(),window.FittingSpecTextInSmallerBounds=function(){window.FittingSpecTextInSmallerBounds.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FittingSpecTextInSmallerBounds,"name",{value:"FittingSpecTextInSmallerBounds"}),window.FittingSpecTextInSmallerBounds.__super__=Object.prototype,window.FittingSpecTextInSmallerBounds.CROP=!0,window.FittingSpecTextInSmallerBounds.SCALEDOWN=!1,window.FittingSpecTextInSmallerBounds.instances=new Set,"function"==typeof window.FittingSpecTextInSmallerBounds.initStaticConstsAfterClassDefinition&&window.FittingSpecTextInSmallerBounds.initStaticConstsAfterClassDefinition(),ClippingAtRectangularBoundsMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{clipsAtRectangularBounds:!0,plausibleTargetAndDestinationMorphs:function(t){var e;return e=[],!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()||t.isAncestorOf(this)||!this.areBoundsIntersecting(t)||this.anyParentPopUpMarkedForClosure()||(e=[this]),this.areBoundsIntersecting(t)&&this.children.forEach((function(n){return e=e.concat(n.plausibleTargetAndDestinationMorphs(t))})),e},invalidateFullBoundsCache:function(t){if(t===this)return window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].call(this,this)},invalidateFullClippedBoundsCache:function(t){if(t===this)return window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].call(this,this)},SLOWfullBounds:function(){return this.bounds},SLOWfullClippedBounds:function(){return this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?Rectangle.EMPTY:this.clippedThroughBounds()},fullBounds:function(){var t;return null!=this.cachedFullBounds?(world.doubleCheckCachedMethodsResults&&(this.cachedFullBounds.equals(this.SLOWfullBounds())||alert("fullBounds is broken (cached)")),this.cachedFullBounds):(t=this.bounds,world.doubleCheckCachedMethodsResults&&(t.equals(this.SLOWfullBounds())||alert("fullBounds is broken (uncached)")),this.cachedFullBounds=t)},fullClippedBounds:function(){var t;if(this.isOrphan()||!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed())t=Rectangle.EMPTY;else{if(null!=this.cachedFullClippedBounds&&this.checkFullClippedBoundsCache===WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes)return world.doubleCheckCachedMethodsResults&&(this.cachedFullClippedBounds.equals(this.SLOWfullClippedBounds())||alert("fullClippedBounds is broken")),this.cachedFullClippedBounds;t=this.clippedThroughBounds()}return world.doubleCheckCachedMethodsResults&&(t.equals(this.SLOWfullClippedBounds())||alert("fullClippedBounds is broken")),this.checkFullClippedBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.cachedFullClippedBounds=t},fullPaintIntoAreaOrBlitFromBackBuffer:function(t,e,n){if(window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].apply(this,arguments),!this.preliminaryCheckNothingToDraw(e,t)&&null==n)return this.paintStroke,this.paintStroke(t,e)},fullPaintIntoAreaOrBlitFromBackBufferContentPotentiallyAsShadow:function(t,e,n){var o;if(!(o=this.boundingBox().intersect(e)).isEmpty())return t===world.worldCanvasContext&&this.recordDrawnAreaForNextBrokenRects(),this.paintIntoAreaOrBlitFromBackBuffer(t,o,n),this.children.forEach(e=>e.fullPaintIntoAreaOrBlitFromBackBuffer(t,o,n))},fullPaintIntoAreaOrBlitFromBackBufferJustShadow:function(t,e,n){var o;if(e=e.translateBy(-n.offset.x,-n.offset.y),!this.preliminaryCheckNothingToDraw(e,t)&&!(o=this.boundingBox().intersect(e)).isEmpty())return t.save(),t.translate(n.offset.x*ceilPixelRatio,n.offset.y*ceilPixelRatio),this.paintIntoAreaOrBlitFromBackBuffer(t,o,n),1!==this.alpha&&this.children.forEach(e=>e.fullPaintIntoAreaOrBlitFromBackBuffer(t,o,n)),t.restore()},fullRawMoveBy:function(t){return this.bounds=this.bounds.translateBy(t),this.breakNumberOfRawMovesAndResizesCaches(),this.children.forEach((function(e){return e.silentFullRawMoveBy(t)})),this.changed()}})}},window.PanelWdgt=function(t=nil){this.scrollPanel=t,PanelWdgt.__super__.constructor.call(this),this.dragsDropsAndEditingEnabled=!0,this.appearance=new RectangularAppearance(this),this.color=WorldMorph.preferencesAndSettings.defaultPanelsBackgroundColor,this.strokeColor=WorldMorph.preferencesAndSettings.defaultPanelsStrokeColor,this.scrollPanel&&(this.noticesTransparentClick=!1),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PanelWdgt,"name",{value:"PanelWdgt"}),window.PanelWdgt.__super__=window.Widget.prototype,window.PanelWdgt=extend(window.PanelWdgt,window.Widget),window.PanelWdgt.augmentWith(window.ClippingAtRectangularBoundsMixin,"PanelWdgt"),window.PanelWdgt.prototype.scrollPanel=nil,window.PanelWdgt.prototype.extraPadding=0,window.PanelWdgt.prototype._acceptsDrops=!0,window.PanelWdgt.prototype.providesAmenitiesForEditing=!0,window.PanelWdgt.prototype.colloquialName=function(){return"panel"},window.PanelWdgt.prototype.makeFolder=function(t,e,n){var o;return(o=new FolderWindowWdgt).close(),o.createReference(n||world.getNextUntitledFolderShortcutName(),this),world.howManyUntitledShortcuts++,o},window.PanelWdgt.prototype.setColor=function(t,e,n,o){var i,r;if(o||n!==this.connectionsCalculationToken){if(this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,i=PanelWdgt.__super__.setColor.call(this,t,e,n,!0),this.scrollPanel){if(null!=(null!=(r=this.scrollPanel.color)?r.equals:void 0)&&this.scrollPanel.color.equals(i))return;this.scrollPanel.color=i,this.scrollPanel.changed()}return i}},window.PanelWdgt.prototype.setAlphaScaled=function(t,e){var n;return n=PanelWdgt.__super__.setAlphaScaled.call(this,t,e),this.scrollPanel&&this.scrollPanel.alpha!==n&&(this.scrollPanel.alpha=n),n},window.PanelWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s){var a;if(this.bringToForeground(),null!=this.parent&&this.parent instanceof ScrollPanelWdgt&&1===this.children.filter((function(t){return!(t instanceof CaretMorph)})).length)return null!=(a=this.firstChildSuchThat((function(t){return(t instanceof TextMorph||t instanceof SimplePlainTextWdgt)&&t.isEditable})))?a.mouseClickLeft(a.bottomRight(),e,n,o,i,r,s):void 0},window.PanelWdgt.prototype.reactToDropOf=function(){var t;if(null!=this.parent&&null!=this.parent.adjustContentsBounds)return this.parent.adjustContentsBounds(),"function"==typeof(t=this.parent).adjustScrollBars?t.adjustScrollBars():void 0},window.PanelWdgt.prototype.childRemoved=function(t){var e,n;if(null!=this.parent&&("function"==typeof(e=this.parent).grandChildRemoved&&e.grandChildRemoved(),null!=this.parent.adjustContentsBounds))return this.parent.adjustContentsBounds(),"function"==typeof(n=this.parent).adjustScrollBars?n.adjustScrollBars():void 0},window.PanelWdgt.prototype.childAdded=function(t){var e;if(null!=this.parent&&("function"==typeof(e=this.parent).grandChildAdded&&e.grandChildAdded(),null!=this.parent.parent&&null!=this.parent.parent.childAddedInScrollPanel))return this.parent.parent.childAddedInScrollPanel(t)},window.PanelWdgt.prototype.addInPseudoRandomPosition=function(t){var e,n,o,i,r;if(r=this.width(),e=this.height(),o=Math.abs(hashCode(t.toString()))%r,i=Math.abs(hashCode(t.toString()+"x"))%e,n=this.position().add(new Point(o,i)),this.add(t),t.fullRawMoveTo(n),null!=this.parent&&null!=this.parent.adjustContentsBounds)return this.parent.adjustContentsBounds(),this.parent.adjustScrollBars()},window.PanelWdgt.prototype.detachesWhenDragged=function(){if(null!=this.parent)return!(this.parent instanceof ScrollPanelWdgt)&&PanelWdgt.__super__.detachesWhenDragged.apply(this,arguments)},window.PanelWdgt.prototype.grabsToParentWhenDragged=function(){return null!=this.parent&&(this.parent instanceof ScrollPanelWdgt?!this.parent.canScrollByDraggingBackground||!this.parent.anyScrollBarShowing():PanelWdgt.__super__.grabsToParentWhenDragged.apply(this,arguments))},window.PanelWdgt.prototype.reactToGrabOf=function(){var t;if(null!=this.parent&&null!=this.parent.adjustContentsBounds)return this.parent.adjustContentsBounds(),"function"==typeof(t=this.parent).adjustScrollBars?t.adjustScrollBars():void 0},window.PanelWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){if(PanelWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),this.children.length)return e.addLine(),e.addMenuItem("move all inside",!0,this,"keepAllSubmorphsWithin","keep all submorphs\nwithin and visible")},window.PanelWdgt.prototype.keepAllSubmorphsWithin=function(){return this.children.forEach(t=>t.fullRawMoveWithin(this))},window.PanelWdgt.prototype.editButtonPressedFromWindowBar=function(){return this.dragsDropsAndEditingEnabled?this.disableDragsDropsAndEditing(this):this.enableDragsDropsAndEditing(this)},window.PanelWdgt.instances=new Set,"function"==typeof window.PanelWdgt.initStaticConstsAfterClassDefinition&&window.PanelWdgt.initStaticConstsAfterClassDefinition(),GridPositioningOfAddedShortcutsMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{numberOfIconsOnDesktop:0,laysIconsHorizontallyInGrid:!0,iconsLayingInGridWrapCount:3,iconsPaddingFromContainerEdges:5,add:function(t,e,n,o){var i,r;if(null==e&&(e=nil),null==n&&(n=LayoutSpec.ATTACHEDAS_FREEFLOATING),window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].apply(this,arguments),!o&&t instanceof WidgetHolderWithCaptionWdgt&&!(t instanceof BasementOpenerWdgt))return this.laysIconsHorizontallyInGrid?(i=this.numberOfIconsOnDesktop%this.iconsLayingInGridWrapCount,r=Math.floor(this.numberOfIconsOnDesktop/this.iconsLayingInGridWrapCount)):(i=Math.floor(this.numberOfIconsOnDesktop/this.iconsLayingInGridWrapCount),r=this.numberOfIconsOnDesktop%this.iconsLayingInGridWrapCount),t.fullRawMoveTo(this.position().add(new Point(85*i,85*r)).add(this.iconsPaddingFromContainerEdges)),this.numberOfIconsOnDesktop++}})}},KeepIconicDesktopSystemLinksBackMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{childAdded:function(t){if(t instanceof IconicDesktopSystemLinkWdgt)return t.moveOnTopOfTopReference()},childMovedInFrontOfOthers:function(t){if(t instanceof IconicDesktopSystemLinkWdgt)return t.moveOnTopOfTopReference()}})}},CreateShortcutOfDroppedItemsMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{aboutToDrop:function(t){return t instanceof IconicDesktopSystemShortcutWdgt?t.fullRawMoveWithin(this):t.fullRawMoveTo(this.position().add(new Point(10,10)))},reactToDropOf:function(t){if(window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].apply(this,arguments),!(t instanceof IconicDesktopSystemShortcutWdgt))return t.createReferenceAndClose(nil,this)}})}},window.FolderPanelWdgt=function(){window.FolderPanelWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FolderPanelWdgt,"name",{value:"FolderPanelWdgt"}),window.FolderPanelWdgt.__super__=window.PanelWdgt.prototype,window.FolderPanelWdgt=extend(window.FolderPanelWdgt,window.PanelWdgt),window.FolderPanelWdgt.augmentWith(window.GridPositioningOfAddedShortcutsMixin,"FolderPanelWdgt"),window.FolderPanelWdgt.augmentWith(window.KeepIconicDesktopSystemLinksBackMixin,"FolderPanelWdgt"),window.FolderPanelWdgt.augmentWith(window.CreateShortcutOfDroppedItemsMixin,"FolderPanelWdgt"),window.FolderPanelWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return FolderPanelWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),e.addMenuItem("new folder",!0,this,"makeFolder","make a new folder")},window.FolderPanelWdgt.instances=new Set,"function"==typeof window.FolderPanelWdgt.initStaticConstsAfterClassDefinition&&window.FolderPanelWdgt.initStaticConstsAfterClassDefinition(),window.SimpleVerticalStackPanelWdgt=function(t,e,n,o=!0){this.padding=n,this.constrainContentWidth=o,SimpleVerticalStackPanelWdgt.__super__.constructor.call(this),this.appearance=new RectangularAppearance(this),null!=t&&this.silentRawSetExtent(t),null!=e&&(this.color=e),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleVerticalStackPanelWdgt,"name",{value:"SimpleVerticalStackPanelWdgt"}),window.SimpleVerticalStackPanelWdgt.__super__=window.Widget.prototype,window.SimpleVerticalStackPanelWdgt=extend(window.SimpleVerticalStackPanelWdgt,window.Widget),window.SimpleVerticalStackPanelWdgt.augmentWith(window.ClippingAtRectangularBoundsMixin,"SimpleVerticalStackPanelWdgt"),window.SimpleVerticalStackPanelWdgt.prototype._acceptsDrops=!0,window.SimpleVerticalStackPanelWdgt.prototype.tight=!0,window.SimpleVerticalStackPanelWdgt.prototype.constrainContentWidth=!0,window.SimpleVerticalStackPanelWdgt.prototype._adjustingContentsBounds=!1,window.SimpleVerticalStackPanelWdgt.prototype.colloquialName=function(){return"stack"},window.SimpleVerticalStackPanelWdgt.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o,i,r){var s,a,l,d,h;if(t.rawResizeToWithoutSpacing(),s=this.childrenNotHandlesNorCarets(),d=nil,s.length>0&&r instanceof Point)for(d=0,a=0,l=s.length;a<l&&(d++,!((h=s[a]).top()<r.y&&h.bottom()>r.y));a++);return null!=d?SimpleVerticalStackPanelWdgt.__super__.add.call(this,t,d,n,o):SimpleVerticalStackPanelWdgt.__super__.add.apply(this,arguments)},window.SimpleVerticalStackPanelWdgt.prototype.childRemoved=function(){return this.amIPanelOfScrollPanelWdgt()?(this.parent.adjustContentsBounds(),void this.parent.adjustScrollBars()):this.adjustContentsBounds()},window.SimpleVerticalStackPanelWdgt.prototype.reactToDropOf=function(){return this.amIPanelOfScrollPanelWdgt()?(this.parent.adjustContentsBounds(),void this.parent.adjustScrollBars()):this.adjustContentsBounds()},window.SimpleVerticalStackPanelWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return SimpleVerticalStackPanelWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.SimpleVerticalStackPanelWdgt.prototype.availableWidthForContents=function(){return this.width()-2*this.padding},window.SimpleVerticalStackPanelWdgt.prototype.adjustContentsBounds=function(){var t,e,n,o;if(!this._adjustingContentsBounds)return this._adjustingContentsBounds=!0,this.padding=5,n=0,o=0,(t=this.childrenNotHandlesNorCarets()).forEach(t=>{if(t.layoutSpec!==LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT)return t.initialiseDefaultVerticalStackLayoutSpec(),t.layoutSpecDetails.rememberInitialDimensions(t,this),t.setLayoutSpec(LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT)}),t.forEach(t=>{var e,i;return o+=this.padding,this.constrainContentWidth?(i=t.layoutSpecDetails.getWidthInStack(),t.rawSetWidthSizeHeightAccordingly(i),(t instanceof TextMorph||t instanceof SimplePlainTextWdgt)&&(t.maxTextWidth=i),e="right"===t.layoutSpecDetails.alignment?this.left()+this.width()-this.padding-i:"center"===t.layoutSpecDetails.alignment?this.left()+Math.floor((this.width()-i)/2):this.left()+this.padding):e=this.left()+this.padding,t.fullRawMoveTo(new Point(e,this.top()+o+n)),n+=t.height()}),e=n+o+this.padding,this.tight&&0!==t.length||(e=Math.max(e,this.height())),this.rawSetHeight(e),this._adjustingContentsBounds=!1},window.SimpleVerticalStackPanelWdgt.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return this.breakNumberOfRawMovesAndResizesCaches(),SimpleVerticalStackPanelWdgt.__super__.rawSetExtent.call(this,t),this.adjustContentsBounds()},window.SimpleVerticalStackPanelWdgt.instances=new Set,"function"==typeof window.SimpleVerticalStackPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimpleVerticalStackPanelWdgt.initStaticConstsAfterClassDefinition(),window.WindowWdgt=function(t="my window",e,n,o=!1,i=!1){var r;this.labelContent=t,this.closeButton=e,this.contents=n,this.internal=o,this.alwaysShowInternalExternalButton=i,WindowWdgt.__super__.constructor.call(this,nil,nil,40,!0),this.internal?this.appearance=new RectangularAppearance(this):this.appearance=new BoxyAppearance(this),this.strokeColor=new Color(125,125,125),this.tight=!0,this.defaultContents=new WindowContentsPlaceholderText,null==this.contents&&(this.contents=this.defaultContents),this.padding=5,this.color=new Color(248,248,248),this.buildAndConnectChildren(),this.contents===this.defaultContents?this.setEmptyWindowLabel():(this.disableDrops(),"window"===(r=this.contents.colloquialName())&&(r="window with another "+r),"internal window"===r&&(r="window with an "+r),this.label.setText(r)),this.rawSetExtent(new Point(300,300)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWdgt,"name",{value:"WindowWdgt"}),window.WindowWdgt.__super__=window.SimpleVerticalStackPanelWdgt.prototype,window.WindowWdgt=extend(window.WindowWdgt,window.SimpleVerticalStackPanelWdgt),window.WindowWdgt.prototype.label=nil,window.WindowWdgt.prototype.closeButton=nil,window.WindowWdgt.prototype.editButton=nil,window.WindowWdgt.prototype.collapseUncollapseSwitchButton=nil,window.WindowWdgt.prototype.labelContent=nil,window.WindowWdgt.prototype.resizer=nil,window.WindowWdgt.prototype.padding=nil;window.WindowWdgt.prototype.contents=nil,window.WindowWdgt.prototype.titlebarBackground=nil,window.WindowWdgt.prototype.contentNeverSetInPlaceYet=!0,window.WindowWdgt.prototype._adjustingContentsBounds=!1,window.WindowWdgt.prototype.internal=!1,window.WindowWdgt.prototype.defaultContents=nil,window.WindowWdgt.prototype.reInflating=!1,window.WindowWdgt.prototype.internalExternalSwitchButton=nil,window.WindowWdgt.prototype.alwaysShowInternalExternalButton=nil,window.WindowWdgt.prototype.createReference=function(t,e){var n;return null!=t&&"string"!=typeof t&&(t=nil,e=world),null!=this.contents&&this.contents instanceof ScriptWdgt?(n=new IconicDesktopSystemScriptShortcutWdgt(this,t),e.add(n),n.setExtent(new Point(75,75)),n.fullChanged(),this.bringToForeground()):WindowWdgt.__super__.createReference.apply(this,arguments)},window.WindowWdgt.prototype.makeInternal=function(){if(!this.internal)return this.internal=!0,this.setAppearanceAndColorOfTitleBackground()},window.WindowWdgt.prototype.makeExternal=function(){var t,e;if(this.internal&&(this.internal=!1,this.unlockFromPanels(),this.setAppearanceAndColorOfTitleBackground(),t=this.parent,world.add(this),null!=(e=this.contents)&&"function"==typeof e.holderWindowMadeIntoExternal&&e.holderWindowMadeIntoExternal(),t!==world))return this.fullRawMoveTo(this.position().add(new Point(10,10))),this.fullRawMoveWithin(world),this.rememberFractionalSituationInHoldingPanel()},window.WindowWdgt.prototype.setTitle=function(t){return this.label.setText(this.contents.colloquialName()+": "+t)},window.WindowWdgt.prototype.setTitleWithoutPrependedContentName=function(t){return this.label.setText(t)},window.WindowWdgt.prototype.representativeIcon=function(){return this.contents===this.defaultContents?WindowWdgt.__super__.representativeIcon.apply(this,arguments):this.contents.representativeIcon()},window.WindowWdgt.prototype.closeFromWindowBar=function(){var t;return null!=(t=this.contents)?t.closeFromContainerWindow(this):void 0},window.WindowWdgt.prototype.contentsRecursivelyCanSetHeightFreely=function(){return this.contents instanceof WindowWdgt?this.contents.contentsRecursivelyCanSetHeightFreely():this.contents.layoutSpecDetails.canSetHeightFreely&&!this.contents.isCollapsed()&&!this.reInflating},window.WindowWdgt.prototype.recursivelyAttachedAsFreeFloating=function(){return this.layoutSpec===LayoutSpec.ATTACHEDAS_FREEFLOATING||null!=this.parent&&this.parent instanceof WindowWdgt&&this.parent.recursivelyAttachedAsFreeFloating()},window.WindowWdgt.prototype.rejectsBeingDropped=function(){return!this.internal},window.WindowWdgt.prototype.setEmptyWindowLabel=function(){return this.internal?this.label.setText("empty internal window"):this.label.setText("empty window")},window.WindowWdgt.prototype.colloquialName=function(){return this.internal?"internal window":"window"},window.WindowWdgt.prototype.add=function(t,e=nil,n,o,i){var r,s;return i||t instanceof CaretMorph||t instanceof HandleMorph?WindowWdgt.__super__.add.call(this,t,e,LayoutSpec.ATTACHEDAS_FREEFLOATING,o):(this.contentNeverSetInPlaceYet=!0,"window"===(s=t.colloquialName())&&(s="window with another "+s),"internal window"===s&&(s="window with an "+s),this.label.setText(s),this.removeChild(this.contents),this.contents=t,this.adjustContentsBounds(),WindowWdgt.__super__.add.call(this,t,e,LayoutSpec.ATTACHEDAS_WINDOW_CONTENT,o)),null!=(r=this.resizer)?r.moveInFrontOfSiblings():void 0},window.WindowWdgt.prototype.childBeingDestroyed=function(t){if(t===this.contents)return this.resetToDefaultContents()},window.WindowWdgt.prototype.childBeingPickedUp=function(t){if(t===this.contents)return this.resetToDefaultContents()},window.WindowWdgt.prototype.childBeingClosed=function(t){if(t===this.contents)return this.resetToDefaultContents()},window.WindowWdgt.prototype.childBeingCollapsed=function(t){var e,n;if(t===this.contents)return this.widthWhenUnCollapsed=this.width(),this.contentsExtentWhenCollapsed=this.contents.extent(),this.extentWhenCollapsed=this.extent(),null!=(e=this.editButton)&&e.destroy(),this.editButton=nil,null!=(n=this.internalExternalSwitchButton)&&n.destroy(),this.internalExternalSwitchButton=nil},window.WindowWdgt.prototype.childBeingUnCollapsed=function(t){return t===this.contents&&(this.widthWhenCollapsed=this.width()),this.createAndAddEditButton(),this.createAndAddInternalExternalSwitchButton()},window.WindowWdgt.prototype.childCollapsed=function(t){if(t===this.contents)return null!=this.widthWhenCollapsed&&this.rawSetWidth(this.widthWhenCollapsed),this.adjustContentsBounds(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.WindowWdgt.prototype.childUnCollapsed=function(t){if(t===this.contents)return this.reInflating=!0,this.rawSetExtent(this.extentWhenCollapsed),this.contents.rawSetExtent(this.contentsExtentWhenCollapsed),null!=this.widthWhenUnCollapsed&&this.rawSetWidth(this.widthWhenUnCollapsed),this.adjustContentsBounds(),this.reInflating=!1,this.rememberFractionalSituationInHoldingPanel(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.WindowWdgt.prototype.resetToDefaultContents=function(){if(this.enableDrops(),this.contents=this.defaultContents,this.buildAndConnectChildren(),this.setEmptyWindowLabel(),this.recursivelyAttachedAsFreeFloating())return this.rawSetExtent(new Point(300,300))},window.WindowWdgt.prototype.aboutToDrop=function(){return this.removeChild(this.contents)},window.WindowWdgt.prototype.justDropped=function(t){var e;return WindowWdgt.__super__.justDropped.apply(this,arguments),null!=(e=this.contents)&&"function"==typeof e.holderWindowJustDropped?e.holderWindowJustDropped(t):void 0},window.WindowWdgt.prototype.justBeenGrabbed=function(t){var e;return null!=(e=this.contents)&&"function"==typeof e.holderWindowJustBeenGrabbed?e.holderWindowJustBeenGrabbed(t):void 0},window.WindowWdgt.prototype.reactToDropOf=function(t){return this.contents=t,WindowWdgt.__super__.reactToDropOf.apply(this,arguments),this.disableDrops(),this.buildAndConnectChildren()},window.WindowWdgt.prototype.setAppearanceAndColorOfTitleBackground=function(){return this.internal?this.titlebarBackground.appearance=new RectangularAppearance(this.titlebarBackground):this.titlebarBackground.appearance=new BoxyAppearance(this.titlebarBackground),this.internal?(this.titlebarBackground.setColor(WorldMorph.preferencesAndSettings.internalWindowBarBackgroundColor),this.titlebarBackground.strokeColor=WorldMorph.preferencesAndSettings.internalWindowBarStrokeColor):(this.titlebarBackground.setColor(WorldMorph.preferencesAndSettings.externalWindowBarBackgroundColor),this.titlebarBackground.strokeColor=WorldMorph.preferencesAndSettings.externalWindowBarStrokeColor)},window.WindowWdgt.prototype.buildTitlebarBackground=function(){return null!=this.titlebarBackground&&this.titlebarBackground.fullDestroy(),this.internal?this.titlebarBackground=new RectangleMorph:this.titlebarBackground=new BoxMorph,this.setAppearanceAndColorOfTitleBackground(),this.add(this.titlebarBackground,nil,nil,nil,!0)},window.WindowWdgt.prototype.buildAndConnectChildren=function(){var t,e,n;if(null==this.titlebarBackground&&this.buildTitlebarBackground(),null!=(e=this.label)&&e.fullDestroy(),this.label=new StringMorph2(this.labelContent,WorldMorph.preferencesAndSettings.titleBarTextFontSize),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.label.isBold=!0:this.label.isBold=WorldMorph.preferencesAndSettings.titleBarBoldText,this.label.color=Color.WHITE,this.add(this.label,nil,nil,nil,!0),null==this.closeButton&&(this.closeButton=new CloseIconButtonMorph),this.add(this.closeButton,nil,nil,nil,!0),null==this.collapseUncollapseSwitchButton&&(t=new CollapseIconButtonMorph,n=new UncollapseIconButtonMorph,this.collapseUncollapseSwitchButton=new SwitchButtonMorph([t,n])),this.add(this.collapseUncollapseSwitchButton,nil,nil,nil,!0),this.createAndAddInternalExternalSwitchButton(),this.createAndAddEditButton(),this.add(this.contents),null==this.resizer)return this.resizer=new HandleMorph(this)},window.WindowWdgt.prototype.createAndAddInternalExternalSwitchButton=function(){var t,e,n,o;if(((null!=(o=this.contents)?o.providesAmenitiesForEditing:void 0)||this.alwaysShowInternalExternalButton)&&null==this.internalExternalSwitchButton)return t=new ExternalIconButtonWdgt,e=new InternalIconButtonWdgt,n=this.internal?[e,t]:[t,e],this.internalExternalSwitchButton=new SwitchButtonMorph(n),this.add(this.internalExternalSwitchButton,nil,nil,nil,!0)},window.WindowWdgt.prototype.makePencilYellow=function(){var t,e,n;return null!=(t=this.editButton)&&(t.color_normal=new Color(248,188,58)),null!=(e=this.editButton)&&e.setColor(new Color(248,188,58)),null!=(n=this.editButton)?n.changed():void 0},window.WindowWdgt.prototype.makePencilClear=function(){var t,e,n;return null!=(t=this.editButton)&&(t.color_normal=new Color(245,244,245)),null!=(e=this.editButton)&&e.setColor(new Color(245,244,245)),null!=(n=this.editButton)?n.changed():void 0},window.WindowWdgt.prototype.createAndAddEditButton=function(){var t;if((null!=(t=this.contents)?t.providesAmenitiesForEditing:void 0)&&null==this.editButton)return this.editButton=new EditIconButtonWdgt(this),this.add(this.editButton,nil,nil,nil,!0),this.contents.dragsDropsAndEditingEnabled?this.makePencilYellow():this.makePencilClear()},window.WindowWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return WindowWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.WindowWdgt.prototype.adjustContentsBounds=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f,T;if(!this._adjustingContentsBounds)return this._adjustingContentsBounds=!0,16,null!=this.closeButton&&this.closeButton.parent===this&&(t=(t=new Rectangle(new Point(this.left()+this.padding,this.top()+this.padding))).setBoundsWidthAndHeight(16,16),this.closeButton.doLayout(t)),null!=this.collapseUncollapseSwitchButton&&this.collapseUncollapseSwitchButton.parent===this&&(t=(t=new Rectangle(new Point(this.left()+16+2*this.padding,this.top()+this.padding))).setBoundsWidthAndHeight(16,16),this.collapseUncollapseSwitchButton.doLayout(t)),f=0,null==this.contents||this.contents.collapsed||(this.contents.layoutSpec!==LayoutSpec.ATTACHEDAS_WINDOW_CONTENT&&(this.contents.initialiseDefaultWindowContentLayoutSpec(),this.contents.setLayoutSpec(LayoutSpec.ATTACHEDAS_WINDOW_CONTENT)),this.contentNeverSetInPlaceYet?(this.contents.layoutSpecDetails.preferredStartingWidth===PreferredSize.THIS_ONE_I_HAVE_NOW?(h=this.contents.width(),T=this.recursivelyAttachedAsFreeFloating()?h+2*this.padding:Math.min(this.width(),h+2*this.padding),this.rawSetWidth(T)):this.contents.layoutSpecDetails.preferredStartingWidth===PreferredSize.DONT_MIND?h=this.width()-2*this.padding:(h=this.contents.layoutSpecDetails.preferredStartingWidth,T=this.recursivelyAttachedAsFreeFloating()?h+2*this.padding:Math.min(this.width(),h+2*this.padding),this.rawSetWidth(T)),this.contents.layoutSpecDetails.rememberInitialDimensions(this.contents,this)):h=this.contents.layoutSpecDetails.getWidthInStack(),d=this.contents.layoutSpecDetails.resizerCanOverlapContents?Math.round(16+this.padding+this.padding+2*this.padding):Math.round(16+this.padding+this.padding+3*this.padding+WorldMorph.preferencesAndSettings.handleSize),this.contentNeverSetInPlaceYet?(this.contents.layoutSpecDetails.preferredStartingHeight===PreferredSize.THIS_ONE_I_HAVE_NOW?(e=this.contents.height(),this.recursivelyAttachedAsFreeFloating()||(e=Math.min(e,this.height()-d)),this.contents.rawSetWidth(h),this.rawSetWidth(T),this.contents.rawSetHeight(e)):this.contents.layoutSpecDetails.preferredStartingHeight===PreferredSize.DONT_MIND?(this.contents.rawSetWidth(h),e=Math.round(this.height()-d),this.contents.rawSetHeight(e)):(this.contents.rawSetWidthSizeHeightAccordingly(h),e=this.contents.height()),this.contentNeverSetInPlaceYet=!1):(this.contents.rawSetWidthSizeHeightAccordingly(h),e=this.contents.height(),this.contentsRecursivelyCanSetHeightFreely()&&(e=Math.round(this.height()-d),this.contents.rawSetHeight(e))),(this.contents instanceof TextMorph||this.contents instanceof SimplePlainTextWdgt)&&(this.contents.maxTextWidth=h),a=this.left()+Math.floor((this.width()-h)/2),this.contents.fullRawMoveTo(new Point(a,this.top()+(16+this.padding+this.padding)+this.padding)),f+=e),null!=this.contents&&this.contents.collapsed&&(d=Math.round(16+this.padding+this.padding)),l=f+d,this.rawSetHeight(l),this.titlebarBackground.rawSetExtent(new Point(this.width(),16+2*this.padding).subtract(new Point(2,2))),this.titlebarBackground.fullRawMoveTo(this.position().add(new Point(1,1))),this.width()<4*(16+this.padding)+this.padding?null!=(p=this.editButton)&&p.collapse():null!=(c=this.editButton)&&c.unCollapse(),this.width()<3*(16+this.padding)+this.padding?null!=(w=this.internalExternalSwitchButton)&&w.collapse():null!=(u=this.internalExternalSwitchButton)&&u.unCollapse(),null!=this.label&&this.label.parent===this&&(o=this.left()+this.padding+2*(16+this.padding),r=this.top()+this.padding,i=this.right()-this.padding,null==this.editButton||this.editButton.isCollapsed()||(i-=1*(16+this.padding)),null==this.internalExternalSwitchButton||this.internalExternalSwitchButton.isCollapsed()||(i-=1*(16+this.padding)),s=i-o,n=(n=new Rectangle(new Point(o,r))).setBoundsWidthAndHeight(s,WorldMorph.preferencesAndSettings.titleBarTextHeight),this.label.rawSetBounds(n)),null==this.editButton||this.editButton.isCollapsed()||this.editButton.parent!==this||(t=(t=new Rectangle(new Point(this.right()-2*(16+this.padding),this.top()+this.padding))).setBoundsWidthAndHeight(16,16),this.editButton.doLayout(t)),null==this.internalExternalSwitchButton||this.internalExternalSwitchButton.isCollapsed()||this.internalExternalSwitchButton.parent!==this||(t=(t=new Rectangle(new Point(this.right()-1*(16+this.padding),this.top()+this.padding))).setBoundsWidthAndHeight(16,16),this.internalExternalSwitchButton.doLayout(t)),null!=(g=this.resizer)&&g.silentUpdateResizerHandlePosition(),this._adjustingContentsBounds=!1},window.WindowWdgt.instances=new Set,"function"==typeof window.WindowWdgt.initStaticConstsAfterClassDefinition&&window.WindowWdgt.initStaticConstsAfterClassDefinition(),window.FolderWindowWdgt=function(t,e,n,o=!1){this.labelContent=t,this.closeButton=e,this.contents=n,this.internal=o,this.contents=new ScrollPanelWdgt(new FolderPanelWdgt),FolderWindowWdgt.__super__.constructor.call(this,"",this.closeButton,this.contents,this.internal),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FolderWindowWdgt,"name",{value:"FolderWindowWdgt"}),window.FolderWindowWdgt.__super__=window.WindowWdgt.prototype,window.FolderWindowWdgt=extend(window.FolderWindowWdgt,window.WindowWdgt),window.FolderWindowWdgt.prototype.representativeIcon=function(){return new GenericShortcutIconWdgt(new FolderIconWdgt)},window.FolderWindowWdgt.prototype.closeFromWindowBar=function(){return world.anyReferenceToWdgt(this)?this.close():new SaveShortcutPromptWdgt(this,this).popUpAtHand()},window.FolderWindowWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return FolderWindowWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),this.contents.contents.addMorphSpecificMenuEntries(t,e)},window.FolderWindowWdgt.prototype.createReference=function(t,e){var n;return null!=t&&"string"!=typeof t&&(t=nil),n=new IconicDesktopSystemFolderShortcutWdgt(this,t),e.add(n),n.setExtent(new Point(75,75)),n.fullChanged(),this.bringToForeground()},window.FolderWindowWdgt.instances=new Set,"function"==typeof window.FolderWindowWdgt.initStaticConstsAfterClassDefinition&&window.FolderWindowWdgt.initStaticConstsAfterClassDefinition(),window.GlassBoxBottomWdgt=function(){GlassBoxBottomWdgt.__super__.constructor.apply(this,arguments),this.setColor(new Color(230,230,230)),this.strokeColor=new Color(196,195,196),this.setAlphaScaled(50),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GlassBoxBottomWdgt,"name",{value:"GlassBoxBottomWdgt"}),window.GlassBoxBottomWdgt.__super__=window.BoxMorph.prototype,window.GlassBoxBottomWdgt=extend(window.GlassBoxBottomWdgt,window.BoxMorph),window.GlassBoxBottomWdgt.prototype.reLayout=function(){var t,e,n,o,i,r;for(trackChanges.push(!1),i=this.width(),e=0,n=(t=this.childrenNotHandlesNorCarets()).length;e<n;e++)(r=t[e])instanceof MenuItemMorph?r.fullRawMoveTo(this.topLeft().add(new Point(0,(this.height()-r.height())/2).round())):(null!=r.idealRatioWidthToHeight?(o=r.idealRatioWidthToHeight)>1?r.rawSetExtent(new Point(i,i/o)):r.rawSetExtent(new Point(i*o,i)):r.rawSetExtent(new Point(i,i)),r.fullRawMoveTo(this.topLeft().add(new Point((i-r.width())/2,(i-r.height())/2).round())));return trackChanges.pop(),this.fullChanged()},window.GlassBoxBottomWdgt.instances=new Set,"function"==typeof window.GlassBoxBottomWdgt.initStaticConstsAfterClassDefinition&&window.GlassBoxBottomWdgt.initStaticConstsAfterClassDefinition(),WidgetCreatorAndSmartPlacerOnClickMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{mouseClickLeft:function(t,e,n,o,i,r,s,a){var l,d;if(!a)return d=this.createWidgetToBeHandled(),null!=(l=world.topmostChildSuchThat((function(t){return t instanceof WindowWdgt&&null!=t.contents&&(t.contents instanceof StretchableEditableWdgt||t.contents instanceof SimpleDocumentWdgt||t.contents instanceof PatchProgrammingWdgt||t.contents instanceof SimpleSlideWdgt)&&t.contents.dragsDropsAndEditingEnabled})))?l.contents instanceof StretchableEditableWdgt||l.contents instanceof PatchProgrammingWdgt||l.contents instanceof SimpleSlideWdgt?(d.fullRawMoveTo(l.contents.stretchableWidgetContainer.center().round().subtract(d.extent().floorDivideBy(2))),l.contents.stretchableWidgetContainer.add(d),d.rememberFractionalSituationInHoldingPanel(),l.contents.stretchableWidgetContainer.bringToForeground(),this.bringToForeground()):(l.contents.simpleDocumentScrollPanel.add(d),l.contents.simpleDocumentScrollPanel.scrollToBottom(),l.contents.simpleDocumentScrollPanel.bringToForeground(),this.bringToForeground()):(d.fullRawMoveTo(this.topRight().add(new Point(20,-40))),d.fullRawMoveWithin(world),world.add(d))}})}},window.GlassBoxTopWdgt=function(){window.GlassBoxTopWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GlassBoxTopWdgt,"name",{value:"GlassBoxTopWdgt"}),window.GlassBoxTopWdgt.__super__=window.Widget.prototype,window.GlassBoxTopWdgt=extend(window.GlassBoxTopWdgt,window.Widget),window.GlassBoxTopWdgt.augmentWith(window.HighlightableMixin,"GlassBoxTopWdgt"),window.GlassBoxTopWdgt.augmentWith(window.WidgetCreatorAndSmartPlacerOnClickMixin,"GlassBoxTopWdgt"),window.GlassBoxTopWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=this.parent.children[0].fullCopy()).isTemplate=!1,t},window.GlassBoxTopWdgt.prototype.findRootForGrab=function(){return this.parent.children[0]},window.GlassBoxTopWdgt.prototype.setColor=function(t,e,n,o){var i;if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,null!=(i=this.parent)?i.setColor(t,e,n):void 0},window.GlassBoxTopWdgt.instances=new Set,"function"==typeof window.GlassBoxTopWdgt.initStaticConstsAfterClassDefinition&&window.GlassBoxTopWdgt.initStaticConstsAfterClassDefinition(),window.GrayPaletteMorph=function(t=nil,e){this.target=t,GrayPaletteMorph.__super__.constructor.call(this,this.target,e||new Point(80,10)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GrayPaletteMorph,"name",{value:"GrayPaletteMorph"}),window.GrayPaletteMorph.__super__=window.ColorPaletteMorph.prototype,window.GrayPaletteMorph=extend(window.GrayPaletteMorph,window.ColorPaletteMorph),window.GrayPaletteMorph.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.DONT_MIND,PreferredSize.DONT_MIND,1)},window.GrayPaletteMorph.prototype.colloquialName=function(){return"shades of gray"},window.GrayPaletteMorph.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s;return i=this.constructor.name+"-"+this.extent().toString(),null!=(o=world.cacheForImmutableBackBuffers.get(i))?o:(r=this.extent(),(e=(t=newCanvas(r.scaleBy(ceilPixelRatio))).getContext("2d")).useLogicalPixelsUntilRestore(),this.choice=new Color,(s=e.createLinearGradient(0,r.y,r.x,r.y)).addColorStop(0,"black"),s.addColorStop(1,"white"),e.fillStyle=s,e.fillRect(0,0,r.x,r.y),n=[t,e],world.cacheForImmutableBackBuffers.set(i,n),n)},window.GrayPaletteMorph.instances=new Set,"function"==typeof window.GrayPaletteMorph.initStaticConstsAfterClassDefinition&&window.GrayPaletteMorph.initStaticConstsAfterClassDefinition(),window.HandleMorph=function(t=nil,e="resizeBothDimensionsHandle"){var n,o;this.target=t,this.type=e,null!=(null!=(n=this.target)?n.padding:void 0)?this.inset=new Point(Math.max(this.target.padding,2),Math.max(this.target.padding,2)):this.inset=new Point(2,2),HandleMorph.__super__.constructor.call(this),this.color=Color.WHITE,this.noticesTransparentClick=!0,o=WorldMorph.preferencesAndSettings.handleSize,this.silentRawSetExtent(new Point(o,o)),this.target&&this.target.add(this),this.updateResizerHandlePosition(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.HandleMorph,"name",{value:"HandleMorph"}),window.HandleMorph.__super__=window.Widget.prototype,window.HandleMorph=extend(window.HandleMorph,window.Widget),window.HandleMorph.prototype.target=nil,window.HandleMorph.prototype.inset=nil,window.HandleMorph.prototype.type=nil,window.HandleMorph.prototype.state=0,window.HandleMorph.prototype.STATE_NORMAL=0,window.HandleMorph.prototype.STATE_HIGHLIGHTED=1,window.HandleMorph.prototype.detachesWhenDragged=function(){return this.parent instanceof WorldMorph},window.HandleMorph.prototype.grabsToParentWhenDragged=function(){return!1},window.HandleMorph.prototype.updateVisibilityAndPosition=function(){if(this.updateVisibility(),this.parent.layoutSpec===LayoutSpec.ATTACHEDAS_FREEFLOATING)return this.updateResizerHandlePosition(),this.moveInFrontOfSiblings()},window.HandleMorph.prototype.updateVisibility=function(){return this.parent.layoutSpec===LayoutSpec.ATTACHEDAS_FREEFLOATING?this.show():this.hide()},window.HandleMorph.prototype.parentHasReLayouted=function(){if(this.updateVisibilityAndPosition(),this.parent.layoutSpec===LayoutSpec.ATTACHEDAS_FREEFLOATING)return HandleMorph.__super__.parentHasReLayouted.apply(this,arguments)},window.HandleMorph.prototype.updateResizerHandlePosition=function(){if(this.target){switch(this.type){case"moveHandle":if(this.target.width()<2*this.width())return void this.hide();this.show();break;case"resizeHorizontalHandle":if(this.target.height()<3*this.height())return void this.hide();this.show();break;case"resizeVerticalHandle":if(this.target.width()<3*this.width())return void this.hide();this.show()}return this.silentUpdateResizerHandlePosition(),this.changed()}},window.HandleMorph.prototype.silentUpdateResizerHandlePosition=function(){var t;if(this.target)switch(this.type){case"resizeBothDimensionsHandle":return this.silentFullRawMoveTo(this.target.bottomRight().subtract(this.extent().add(this.inset)));case"moveHandle":return this.silentFullRawMoveTo(this.target.topLeft().add(this.inset));case"resizeHorizontalHandle":return t=new Point(this.extent().x+this.inset.x,Math.floor(this.extent().y/2)),this.silentFullRawMoveTo(this.target.rightCenter().subtract(t));case"resizeVerticalHandle":return t=new Point(Math.floor(this.extent().x/2),this.extent().y+this.inset.y),this.silentFullRawMoveTo(this.target.bottomCenter().subtract(t))}},window.HandleMorph.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.alpha,t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.state===this.STATE_NORMAL&&this.handleMorphRenderingHelper(t,this.color,new Color(150,150,150)),this.state===this.STATE_HIGHLIGHTED&&this.handleMorphRenderingHelper(t,Color.WHITE,new Color(200,200,255)),t.restore(),this.paintHighlight(t,o,r,h,s))},window.HandleMorph.prototype.drawArrow=function(t,e,n,o,i,r,s){return t.beginPath(),t.moveTo(.5+e.x,.5+e.y),t.lineTo(.5+e.x+o.x,.5+e.y+o.y),t.moveTo(.5+e.x,.5+e.y),t.lineTo(.5+e.x+i.x,.5+e.y+i.y),t.moveTo(.5+e.x,.5+e.y),t.lineTo(.5+n.x,.5+n.y),t.lineTo(.5+n.x+r.x,.5+n.y+r.y),t.moveTo(.5+n.x,.5+n.y),t.lineTo(.5+n.x+s.x,.5+n.y+s.y),t.closePath(),t.stroke()},window.HandleMorph.prototype.drawHandle=function(t){var e,n,o,i,r,s,a,l,d,h,p,c,w,u,g;if("resizeHorizontalHandle"!==this.type&&"moveHandle"!==this.type||(d=(h=(h=this.bottomLeft().subtract(this.position())).subtract(new Point(0,Math.ceil(this.height()/2)))).add(new Point(Math.ceil(this.width()/15),0)),w=h.add(new Point(this.width()-Math.ceil(this.width()/14),0)),n=new Point(Math.ceil(this.width()/5),-Math.ceil(this.height()/5)),e=new Point(Math.ceil(this.width()/5),Math.ceil(this.height()/5)),i=new Point(-Math.ceil(this.width()/5),-Math.ceil(this.height()/5)),o=new Point(-Math.ceil(this.width()/5),Math.ceil(this.height()/5)),this.drawArrow(t,d,w,n,e,i,o)),"resizeVerticalHandle"!==this.type&&"moveHandle"!==this.type||(d=(h=this.bottomCenter().subtract(this.position())).add(new Point(0,-Math.ceil(this.height()/14))),w=h.add(new Point(0,-this.height()+Math.ceil(this.height()/15))),n=new Point(-Math.ceil(this.width()/5),-Math.ceil(this.height()/5)),e=new Point(Math.ceil(this.width()/5),-Math.ceil(this.height()/5)),i=new Point(-Math.ceil(this.width()/5),Math.ceil(this.height()/5)),o=new Point(Math.ceil(this.width()/5),Math.ceil(this.height()/5)),this.drawArrow(t,d,w,n,e,i,o)),"resizeBothDimensionsHandle"===this.type){for(r=this.bottomLeft().subtract(this.position()),u=this.topRight().subtract(this.position()),s=r.copy(),g=u.copy(),c=[],a=l=0,p=this.height();l<=p;a=l+=6)s.x=r.x+a,g.y=u.y+a,t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(g.x,g.y),t.closePath(),c.push(t.stroke());return c}},window.HandleMorph.prototype.handleMorphRenderingHelper=function(t,e,n){return t.lineWidth=.5,t.lineCap="round",t.save(),t.strokeStyle=n.toString(),t.translate(1,1),this.drawHandle(t),t.translate(1,0),this.drawHandle(t),t.restore(),t.strokeStyle=e.toString(),this.drawHandle(t)},window.HandleMorph.prototype.mouseClickLeft=function(){},window.HandleMorph.prototype.mouseUpLeft=function(){},window.HandleMorph.prototype.mouseDownLeft=function(t){return this.target?this.target.bringToForeground():nil},window.HandleMorph.prototype.nonFloatDragging=function(t,e,n){var o,i,r,s;switch(r=e.subtract(t),this.type){case"resizeBothDimensionsHandle":return o=r.add(this.extent().add(this.inset)).subtract(this.target.position()),this.target.setExtent(o,this);case"moveHandle":return this.target.fullMoveTo(r.subtract(this.inset),this);case"resizeHorizontalHandle":return s=r.x+this.extent().x+this.inset.x-this.target.left(),this.target.setWidth(s);case"resizeVerticalHandle":return i=r.y+this.extent().y+this.inset.y-this.target.top(),this.target.setHeight(i)}},window.HandleMorph.prototype.mouseEnter=function(){return this.state=this.STATE_HIGHLIGHTED,this.changed()},window.HandleMorph.prototype.mouseLeave=function(){return this.state=this.STATE_NORMAL,this.changed()},window.HandleMorph.prototype.makeHandleSolidWithParentMorph=function(t,e,n){return this.target=n,this.target.add(this),this.updateResizerHandlePosition(),this.noticesTransparentClick=!0},window.HandleMorph.prototype.attach=function(){var t,e;if(t=world.plausibleTargetAndDestinationMorphs(this),e=new MenuMorph(this,!1,this,!0,!0,"choose target:"),t.length>0?t.forEach(t=>e.addMenuItem(t.toString().replace("Wdgt","").slice(0,50)+" ➜",!0,this,"makeHandleSolidWithParentMorph",nil,nil,nil,nil,nil,t,nil,!0)):e=new MenuMorph(this,!1,this,!0,!0,"no morphs to attach to"),t.length)return e.popUpAtHand()},window.HandleMorph.instances=new Set,"function"==typeof window.HandleMorph.initStaticConstsAfterClassDefinition&&window.HandleMorph.initStaticConstsAfterClassDefinition(),window.RectangleMorph=function(t,e){RectangleMorph.__super__.constructor.call(this),this.appearance=new RectangularAppearance(this),null!=t&&this.silentRawSetExtent(t),null!=e&&(this.color=e),this.toolTipMessage="rectangle","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.RectangleMorph,"name",{value:"RectangleMorph"}),window.RectangleMorph.__super__=window.Widget.prototype,window.RectangleMorph=extend(window.RectangleMorph,window.Widget),window.RectangleMorph.prototype.colloquialName=function(){return"rectangle"},window.RectangleMorph.instances=new Set,"function"==typeof window.RectangleMorph.initStaticConstsAfterClassDefinition&&window.RectangleMorph.initStaticConstsAfterClassDefinition(),window.HighlighterMorph=function(){window.HighlighterMorph.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.HighlighterMorph,"name",{value:"HighlighterMorph"}),window.HighlighterMorph.__super__=window.RectangleMorph.prototype,window.HighlighterMorph=extend(window.HighlighterMorph,window.RectangleMorph),window.HighlighterMorph.instances=new Set,"function"==typeof window.HighlighterMorph.initStaticConstsAfterClassDefinition&&window.HighlighterMorph.initStaticConstsAfterClassDefinition(),window.HorizontalMenuPanelWdgt=function(){HorizontalMenuPanelWdgt.__super__.constructor.apply(this,arguments),this.rawSetExtent(new Point(300,15)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.HorizontalMenuPanelWdgt,"name",{value:"HorizontalMenuPanelWdgt"}),window.HorizontalMenuPanelWdgt.__super__=window.PanelWdgt.prototype,window.HorizontalMenuPanelWdgt=extend(window.HorizontalMenuPanelWdgt,window.PanelWdgt),window.HorizontalMenuPanelWdgt.prototype.numberOfIconsOnPanel=0,window.HorizontalMenuPanelWdgt.prototype.internalPadding=5,window.HorizontalMenuPanelWdgt.prototype.thumbnailSize=30,window.HorizontalMenuPanelWdgt.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o,i,r){var s,a,l,d,h,p,c,w;if(t instanceof ModifiedTextTriangleAnnotationWdgt||t instanceof HandleMorph)return HorizontalMenuPanelWdgt.__super__.add.apply(this,arguments);if(t.isTemplate=!0,null==t.extentToGetWhenDraggedFromGlassBox&&(t.extentToGetWhenDraggedFromGlassBox=t.extent()),t instanceof GlassBoxBottomWdgt||((l=new GlassBoxBottomWdgt).add(t),t.actionableAsThumbnail||(d=new GlassBoxTopWdgt,l.add(d),d.toolTipMessage=t.toolTipMessage),l.fullRawMoveTo(this.topLeft().add(new Point(this.internalPadding,this.internalPadding))),t instanceof MenuItemMorph?(t.shrinkToTextSize(),l.rawSetExtent(new Point(t.width(),this.thumbnailSize))):l.rawSetExtent(new Point(this.thumbnailSize,this.thumbnailSize)),l.reLayout(),t=l),s=this.childrenNotHandlesNorCarets(),a=!1,null!=r&&s.length>0)for(c=0,h=0,p=s.length;h<p;h++){if((w=s[h]).bounds.growBy(this.internalPadding).containsPoint(r)){a=!0,w.bounds.growBy(this.internalPadding).rightHalf().containsPoint(r)&&c++;break}c++}return a?HorizontalMenuPanelWdgt.__super__.add.call(this,t,c,n,o):HorizontalMenuPanelWdgt.__super__.add.call(this,t,this.numberOfIconsOnPanel,n,o),this.numberOfIconsOnPanel++,this.reLayout()},window.HorizontalMenuPanelWdgt.prototype.rawSetExtent=function(t){return HorizontalMenuPanelWdgt.__super__.rawSetExtent.apply(this,arguments),this.reLayout()},window.HorizontalMenuPanelWdgt.prototype.reLayout=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w;for(trackChanges.push(!1),t=this.childrenNotHandlesNorCarets(),w=this.internalPadding,e=0,o=0,s=t.length;o<s&&(p=t[o],!(w+this.internalPadding+p.width()>this.width()));o++)w+=this.internalPadding+p.width(),e++;for(c=this.internalPadding,n=i=0,a=e;0<=a?i<a:i>a;n=0<=a?++i:--i)t[n].unCollapse(),h=this.position().add(new Point((this.width()-w)/2,0)),t[n].fullRawMoveTo(h.add(new Point(c,(this.height()-t[n].height())/2)).round()),c+=t[n].width()+this.internalPadding;for(n=r=l=e,d=t.length;l<=d?r<d:r>d;n=l<=d?++r:--r)t[n].collapse();return trackChanges.pop(),this.fullChanged()},window.HorizontalMenuPanelWdgt.instances=new Set,"function"==typeof window.HorizontalMenuPanelWdgt.initStaticConstsAfterClassDefinition&&window.HorizontalMenuPanelWdgt.initStaticConstsAfterClassDefinition(),KeepsRatioWhenInVerticalStackMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{rawSetWidthSizeHeightAccordingly:function(t){var e;return"function"==typeof this.rawResizeToWithoutSpacing&&this.rawResizeToWithoutSpacing(),e=this.height()/this.width(),this.rawSetExtent(new Point(t,Math.round(t*e)))},holderWindowJustBeenGrabbed:function(t){if(t instanceof SimpleVerticalStackPanelWdgt)return this.freeFromRatioConstraints()},holderWindowMadeIntoExternal:function(){return this.freeFromRatioConstraints()},freeFromRatioConstraints:function(){var t;if(null!=this.layoutSpecDetails&&(this.layoutSpecDetails.canSetHeightFreely=!0,t=world.height()-20,this.parent.height()>t))return this.parent.rawSetExtent(new Point(Math.min(this.width()/this.height()*t,world.width()),t).round()),this.parent.fullRawMoveTo(world.hand.position().subtract(this.parent.extent().floorDivideBy(2))),this.parent.fullRawMoveWithin(world)},holderWindowJustDropped:function(t){if(t instanceof SimpleVerticalStackPanelWdgt&&!(t instanceof WindowWdgt))return this.constrainToRatio()},constrainToRatio:function(){if(null!=this.layoutSpecDetails)return this.layoutSpecDetails.canSetHeightFreely=!1,this.rawSetWidthSizeHeightAccordingly(this.width())}})}},window.IconMorph=function(t=WorldMorph.preferencesAndSettings.iconDarkLineColor){this.color=t,IconMorph.__super__.constructor.call(this),this.appearance=new IconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconMorph,"name",{value:"IconMorph"}),window.IconMorph.__super__=window.Widget.prototype,window.IconMorph=extend(window.IconMorph,window.Widget),window.IconMorph.augmentWith(window.KeepsRatioWhenInVerticalStackMixin,"IconMorph"),window.IconMorph.prototype.widthWithoutSpacing=function(){return this.appearance.widthWithoutSpacing()},window.IconMorph.prototype.rawResizeToWithoutSpacing=function(){return this.rawSetExtent(this.appearance.calculateRectangleOfIcon().extent())},window.IconMorph.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return IconMorph.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.IconMorph.instances=new Set,"function"==typeof window.IconMorph.initStaticConstsAfterClassDefinition&&window.IconMorph.initStaticConstsAfterClassDefinition(),window.IconicDesktopSystemShortcutWdgt=function(t,e,n){this.target=t,this.title=e,this.icon=n,null==this.title&&(this.title=this.target.colloquialName()),IconicDesktopSystemShortcutWdgt.__super__.constructor.call(this,this.title,this.icon),world.widgetsReferencingOtherWidgets.add(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconicDesktopSystemShortcutWdgt,"name",{value:"IconicDesktopSystemShortcutWdgt"}),window.IconicDesktopSystemShortcutWdgt.__super__=window.IconicDesktopSystemLinkWdgt.prototype,window.IconicDesktopSystemShortcutWdgt=extend(window.IconicDesktopSystemShortcutWdgt,window.IconicDesktopSystemLinkWdgt),window.IconicDesktopSystemShortcutWdgt.augmentWith(window.HighlightableMixin,"IconicDesktopSystemShortcutWdgt"),window.IconicDesktopSystemShortcutWdgt.prototype.color_hover=new Color(90,90,90),window.IconicDesktopSystemShortcutWdgt.prototype.color_pressed=new Color(128,128,128),window.IconicDesktopSystemShortcutWdgt.prototype.color_normal=Color.BLACK,window.IconicDesktopSystemShortcutWdgt.prototype.reactToDropOf=function(t){},window.IconicDesktopSystemShortcutWdgt.prototype.destroy=function(){return IconicDesktopSystemShortcutWdgt.__super__.destroy.apply(this,arguments),world.widgetsReferencingOtherWidgets.delete(this)},window.IconicDesktopSystemShortcutWdgt.prototype.alignCopiedMorphToReferenceTracker=function(t){return world.widgetsReferencingOtherWidgets.add(t)},window.IconicDesktopSystemShortcutWdgt.instances=new Set,"function"==typeof window.IconicDesktopSystemShortcutWdgt.initStaticConstsAfterClassDefinition&&window.IconicDesktopSystemShortcutWdgt.initStaticConstsAfterClassDefinition(),window.IconicDesktopSystemDocumentShortcutWdgt=function(t,e,n){this.target=t,this.title=e,this.icon=n,null==this.icon&&(this.icon=new GenericShortcutIconWdgt(new GenericObjectIconWdgt(this.target.representativeIcon()))),IconicDesktopSystemDocumentShortcutWdgt.__super__.constructor.call(this,this.target,this.title,this.icon),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconicDesktopSystemDocumentShortcutWdgt,"name",{value:"IconicDesktopSystemDocumentShortcutWdgt"}),window.IconicDesktopSystemDocumentShortcutWdgt.__super__=window.IconicDesktopSystemShortcutWdgt.prototype,window.IconicDesktopSystemDocumentShortcutWdgt=extend(window.IconicDesktopSystemDocumentShortcutWdgt,window.IconicDesktopSystemShortcutWdgt),window.IconicDesktopSystemDocumentShortcutWdgt.prototype.reactToDropOf=function(t){},window.IconicDesktopSystemDocumentShortcutWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){var d;if(!a)if(this.target.destroyed)this.inform("The referenced item\nis dead!");else{if(!this.target.isAncestorOf(this))return this.target.show(),null==(d=this.target.findRootForGrab())&&this.target.isDirectlyInBasement()&&(d=this.target),null==d?this.inform("The referenced item does exist\nhowever it's part of something\nthat can't be grabbed!"):(d.show(),d.spawnNextTo(this,world),d.rememberFractionalSituationInHoldingPanel(),"function"==typeof d.setTitle?d.setTitle(this.label.text):void 0);this.inform("The referenced item is\nalready open and containing\nwhat you just clicked on!")}},window.IconicDesktopSystemDocumentShortcutWdgt.instances=new Set,"function"==typeof window.IconicDesktopSystemDocumentShortcutWdgt.initStaticConstsAfterClassDefinition&&window.IconicDesktopSystemDocumentShortcutWdgt.initStaticConstsAfterClassDefinition(),window.IconicDesktopSystemFolderShortcutWdgt=function(t,e){this.target=t,this.title=e,IconicDesktopSystemFolderShortcutWdgt.__super__.constructor.call(this,this.target,this.title,new GenericShortcutIconWdgt(new FolderIconWdgt)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconicDesktopSystemFolderShortcutWdgt,"name",{value:"IconicDesktopSystemFolderShortcutWdgt"}),window.IconicDesktopSystemFolderShortcutWdgt.__super__=window.IconicDesktopSystemShortcutWdgt.prototype,window.IconicDesktopSystemFolderShortcutWdgt=extend(window.IconicDesktopSystemFolderShortcutWdgt,window.IconicDesktopSystemShortcutWdgt),window.IconicDesktopSystemFolderShortcutWdgt.prototype._acceptsDrops=!0,window.IconicDesktopSystemFolderShortcutWdgt.prototype.reactToDropOf=function(t){return t instanceof IconicDesktopSystemLinkWdgt?this.target.contents.contents.add(t):t.createReferenceAndClose(nil,this.target.contents.contents)},window.IconicDesktopSystemFolderShortcutWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){var d;if(!a)if(this.target.destroyed)this.inform("The referenced item\nis dead!");else{if(!this.target.isAncestorOf(this))return this.target.show(),null==(d=this.target.findRootForGrab())&&this.target.isDirectlyInBasement()&&(d=this.target),null==d?this.inform("The referenced item does exist\nhowever it's part of something\nthat can't be grabbed!"):(d.show(),d.spawnNextTo(this,world),d.rememberFractionalSituationInHoldingPanel(),"function"==typeof d.setTitle?d.setTitle(this.label.text):void 0);this.inform("The referenced item is\nalready open and containing\nwhat you just clicked on!")}},window.IconicDesktopSystemFolderShortcutWdgt.instances=new Set,"function"==typeof window.IconicDesktopSystemFolderShortcutWdgt.initStaticConstsAfterClassDefinition&&window.IconicDesktopSystemFolderShortcutWdgt.initStaticConstsAfterClassDefinition(),window.IconicDesktopSystemScriptShortcutWdgt=function(t,e,n){this.target=t,this.title=e,this.icon=n,null==this.icon&&(this.icon=new GenericShortcutIconWdgt(new ScriptIconWdgt)),IconicDesktopSystemScriptShortcutWdgt.__super__.constructor.call(this,this.target,this.title,this.icon),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconicDesktopSystemScriptShortcutWdgt,"name",{value:"IconicDesktopSystemScriptShortcutWdgt"}),window.IconicDesktopSystemScriptShortcutWdgt.__super__=window.IconicDesktopSystemShortcutWdgt.prototype,window.IconicDesktopSystemScriptShortcutWdgt=extend(window.IconicDesktopSystemScriptShortcutWdgt,window.IconicDesktopSystemShortcutWdgt),window.IconicDesktopSystemScriptShortcutWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){if(!a){if(!this.target.destroyed)return this.target.contents.doAll();this.inform("The referenced item\nis dead!")}},window.IconicDesktopSystemScriptShortcutWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return e.addLine(),e.addMenuItem("edit script...",!0,this,"editScript"),e},window.IconicDesktopSystemScriptShortcutWdgt.prototype.editScript=function(){var t;if(this.target.destroyed)this.inform("The referenced item\nis dead!");else{if(!this.target.isAncestorOf(this))return this.target.show(),null==(t=this.target.findRootForGrab())&&this.target.isDirectlyInBasement()&&(t=this.target),null==t?this.inform("The referenced item does exist\nhowever it's part of something\nthat can't be grabbed!"):(t.show(),t.spawnNextTo(this,world),t.rememberFractionalSituationInHoldingPanel(),"function"==typeof t.setTitle?t.setTitle(this.label.text):void 0);this.inform("The referenced item is\nalready open and containing\nwhat you just clicked on!")}},window.IconicDesktopSystemScriptShortcutWdgt.instances=new Set,"function"==typeof window.IconicDesktopSystemScriptShortcutWdgt.initStaticConstsAfterClassDefinition&&window.IconicDesktopSystemScriptShortcutWdgt.initStaticConstsAfterClassDefinition(),window.ScrollPanelWdgt=function(t,e=WorldMorph.preferencesAndSettings.scrollBarsThickness,n){this.contents=t,this.scrollBarsThickness=e,this.sliderColor=n,this.alpha=0,ScrollPanelWdgt.__super__.constructor.call(this),null==this.contents&&(this.contents=new PanelWdgt(this)),this.addRaw(this.contents),this.color=this.contents.color,this.alpha=this.contents.alpha,this.hBar=new SliderMorph(nil,nil,nil,nil,this.sliderColor),this.hBar.rawSetHeight(this.scrollBarsThickness),this.hBar.target=this,this.addRaw(this.hBar),this.vBar=new SliderMorph(nil,nil,nil,nil,this.sliderColor),this.vBar.rawSetWidth(this.scrollBarsThickness),this.vBar.target=this,this.addRaw(this.vBar),this.hBar.target=this,this.hBar.action="adjustContentsBasedOnHBar",this.vBar.target=this,this.vBar.action="adjustContentsBasedOnVBar",this.adjustScrollBars(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScrollPanelWdgt,"name",{value:"ScrollPanelWdgt"}),window.ScrollPanelWdgt.__super__=window.PanelWdgt.prototype,window.ScrollPanelWdgt=extend(window.ScrollPanelWdgt,window.PanelWdgt),window.ScrollPanelWdgt.prototype.autoScrollTrigger=nil,window.ScrollPanelWdgt.prototype.hasVelocity=!0,window.ScrollPanelWdgt.prototype.padding=0,window.ScrollPanelWdgt.prototype.growth=0,window.ScrollPanelWdgt.prototype.isTextLineWrapping=!1,window.ScrollPanelWdgt.prototype.isScrollingByfloatDragging=!0,window.ScrollPanelWdgt.prototype.scrollBarsThickness=nil,window.ScrollPanelWdgt.prototype.contents=nil,window.ScrollPanelWdgt.prototype.vBar=nil,window.ScrollPanelWdgt.prototype.hBar=nil,window.ScrollPanelWdgt.prototype._adjustingContentsBounds=!1,window.ScrollPanelWdgt.prototype.canScrollByDraggingBackground=!1,window.ScrollPanelWdgt.prototype.canScrollByDraggingForeground=!1,window.ScrollPanelWdgt.prototype.wantsDropOf=function(t){return!(this.contents instanceof FolderPanelWdgt)&&this._acceptsDrops},window.ScrollPanelWdgt.prototype.colloquialName=function(){return this.contents instanceof FolderPanelWdgt?"folder":this.contents instanceof ToolPanelWdgt?"toolbar":"scrollable panel"},window.ScrollPanelWdgt.prototype.adjustContentsBasedOnHBar=function(t){return this.contents.fullRawMoveTo(new Point(this.left()-t,this.contents.position().y)),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.adjustContentsBasedOnVBar=function(t){return this.contents.fullRawMoveTo(new Point(this.contents.position().x,this.top()-t)),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.setColor=function(t,e,n,o){var i;if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,i=ScrollPanelWdgt.__super__.setColor.call(this,t,e,n,!0),this.contents.setColor(t,e,n),i},window.ScrollPanelWdgt.prototype.setAlphaScaled=function(t,e){var n;return n=ScrollPanelWdgt.__super__.setAlphaScaled.apply(this,arguments),this.contents.setAlphaScaled(t,e),n},window.ScrollPanelWdgt.prototype.anyScrollBarShowing=function(){return!!(this.hBar.visibleBasedOnIsVisibleProperty()&&!this.hBar.isCollapsed()||this.vBar.visibleBasedOnIsVisibleProperty()&&!this.vBar.isCollapsed())},window.ScrollPanelWdgt.prototype.adjustScrollBars=function(){var t,e,n,o;if(e=Math.max(this.scrollBarsThickness,WorldMorph.preferencesAndSettings.handleSize)+2*this.padding,t=this.width()-e,o=this.height()-e,this.parent instanceof ListMorph||this.changed(),this.hBar.target===this&&(this.contents.width()>=this.width()+1?(this.hBar.show(),this.hBar.width()!==t&&this.hBar.rawSetWidth(t),this.hBar.parent===this&&this.hBar.fullRawMoveTo(new Point(this.left(),this.bottom()-this.hBar.height())),n=this.contents.width()-this.width(),this.hBar.updateSpecs(0,n,this.left()-this.contents.left(),this.width()/this.contents.width()*n)):this.hBar.hide()),this.vBar.target===this)return this.contents.height()>=this.height()+1?(this.vBar.show(),this.vBar.height()!==o&&this.vBar.rawSetHeight(o),this.vBar.parent===this&&this.vBar.fullRawMoveTo(new Point(this.right()-this.vBar.width(),this.top())),n=this.contents.height()-this.height(),this.vBar.updateSpecs(0,n,this.top()-this.contents.top(),this.height()/this.contents.height()*n)):this.vBar.hide()},window.ScrollPanelWdgt.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o,i,r){return t instanceof ModifiedTextTriangleAnnotationWdgt?ScrollPanelWdgt.__super__.add.apply(this,arguments):(this.contents.add(t,e,n,o,nil,r),this.adjustContentsBounds(),this.adjustScrollBars())},window.ScrollPanelWdgt.prototype.addMany=function(t){return this.contents.addMany(t),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.showResizeAndMoveHandlesAndLayoutAdjusters=function(){return ScrollPanelWdgt.__super__.showResizeAndMoveHandlesAndLayoutAdjusters.apply(this,arguments),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.setContents=function(t,e){return this.extraPadding=e,this.contents.closeChildren(),this.contents.fullRawMoveTo(this.position()),t.fullRawMoveTo(this.position().add(this.padding+this.extraPadding)),this.add(t)},window.ScrollPanelWdgt.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return this.breakNumberOfRawMovesAndResizesCaches(),!this.isTextLineWrapping||this.contents instanceof SimpleVerticalStackPanelWdgt||this.contents.fullRawMoveTo(this.position()),ScrollPanelWdgt.__super__.rawSetExtent.call(this,t),this.contents.rawSetExtent(t),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.reactToDropOf=function(){return this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.reactToGrabOf=function(){return this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.adjustContentsBounds=function(){var t,e,n,o,i,r,s;if(!this._adjustingContentsBounds)return this._adjustingContentsBounds=!0,e=Math.floor(this.extraPadding+this.padding),s=2*e,this.contents instanceof SimpleVerticalStackPanelWdgt?this.contents.adjustContentsBounds():this.isTextLineWrapping&&this.contents instanceof PanelWdgt&&this.contents.children.forEach(t=>{if(t instanceof TextMorph||t instanceof SimplePlainTextWdgt)return t.rawSetWidth(this.contents.width()-s),t.maxTextWidth=this.contents.width()-s,this.contents.rawSetHeight(Math.max(t.height(),this.height())-s)}),(r=null!=(n=this.contents.subMorphsMergedFullBounds())?n.ceil():void 0)?(null!=this.contents.externalPadding&&(r=r.expandBy(this.contents.externalPadding)),this.isTextLineWrapping||this instanceof SimplePlainTextScrollPanelWdgt||this instanceof SimpleVerticalStackScrollPanelWdgt?((t=(t=r.expandBy(e).ceil()).merge(new Rectangle(this.contents.left(),this.contents.top(),this.contents.left()+this.width(),this.contents.top()+1))).height()<this.height()&&(t=t.growBy(new Point(0,this.height()-t.height()))),t.width()<this.width()&&(t=t.growBy(new Point(this.width()-t.width(),0)))):t=r.expandBy(e).merge(null!=(o=this.boundingBox())?o.ceil():void 0)):t=null!=(i=this.boundingBox())?i.ceil():void 0,this.contents.boundingBox().equals(t)||(this.contents.silentRawSetBounds(t),this.contents.reLayout()),this.keepContentsInScrollPanelWdgt(),this._adjustingContentsBounds=!1},window.ScrollPanelWdgt.prototype.keepContentsInScrollPanelWdgt=function(){if(this.contents.left()>this.left()&&this.contents.fullRawMoveBy(new Point(this.left()-this.contents.left(),0)),this.contents.right()<this.right()&&this.contents.fullRawMoveBy(new Point(this.right()-this.contents.right(),0)),this.contents.top()>this.top()&&this.contents.fullRawMoveBy(new Point(0,this.top()-this.contents.top())),this.contents.bottom()<this.bottom())return this.contents.fullRawMoveBy(new Point(0,this.bottom()-this.contents.bottom()))},window.ScrollPanelWdgt.prototype.scrollX=function(t){var e,n,o,i,r;return e=this.contents.left(),o=this.left(),(i=e+t)+(n=this.contents.width())<(r=this.right())&&(i=r-n),i>o&&(i=o),i!==e&&(this.contents.fullRawMoveLeftSideTo(i),!0)},window.ScrollPanelWdgt.prototype.scrollTo=function(t){return this.contents.fullRawMoveLeftSideTo(-t.x),this.contents.fullRawMoveTopSideTo(-t.y),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.scrollToBottom=function(){return this.scrollY(-1e5),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.scrollY=function(t){var e,n,o,i,r;return o=this.contents.top(),r=this.top(),(i=o+t)+(n=this.contents.height())<(e=this.bottom())&&(i=e-n),i>r&&(i=r),i!==o&&(this.contents.fullRawMoveTopSideTo(i),!0)},window.ScrollPanelWdgt.prototype.mouseDownLeft=function(t){var e,n,o,i;return this.isScrollingByfloatDragging?(i=t,e=0,n=0,o=.8,world.steppingWdgts.add(this),this.step=()=>{var t,r,s;if(s=!1,world.hand.mouseButton&&!world.hand.isThisPointerFloatDraggingSomething()&&!(null!=(r=world.hand.wdgtToGrab)?r.detachesWhenDragged():void 0)&&this.boundsContainPoint(world.hand.position())?(t=world.hand.position(),this.hBar.visibleBasedOnIsVisibleProperty()&&!this.hBar.isCollapsed()&&0!==(e=t.x-i.x)&&(s||(s=this.scrollX(e))),this.vBar.visibleBasedOnIsVisibleProperty()&&!this.vBar.isCollapsed()&&0!==(n=t.y-i.y)&&(s||(s=this.scrollY(n))),i=t):this.hasVelocity?Math.abs(e)<.5&&Math.abs(n)<.5?(this.step=noOperation,world.steppingWdgts.delete(this)):(this.hBar.visibleBasedOnIsVisibleProperty()&&!this.hBar.isCollapsed()&&0!==(e*=o)&&(s||(s=this.scrollX(Math.round(e)))),this.vBar.visibleBasedOnIsVisibleProperty()&&!this.vBar.isCollapsed()&&0!==(n*=o)&&(s||(s=this.scrollY(Math.round(n))))):(this.step=noOperation,world.steppingWdgts.delete(this)),s)return this.adjustContentsBounds(),this.adjustScrollBars()},ScrollPanelWdgt.__super__.mouseDownLeft.apply(this,arguments)):nil},window.ScrollPanelWdgt.prototype.startAutoScrolling=function(){var t,e;return e=3*WorldMorph.preferencesAndSettings.scrollBarsThickness,this.isOrphan()?nil:(t=world.hand,this.autoScrollTrigger||(this.autoScrollTrigger=Date.now()),world.steppingWdgts.add(this),this.step=()=>{var n,o;return o=t.position(),n=this.boundingBox().insetBy(e),this.boundsContainPoint(o)&&!n.containsPoint(o)&&t.isThisPointerFloatDraggingSomething()?this.autoScroll(o):(this.step=noOperation,world.steppingWdgts.delete(this),this.autoScrollTrigger=nil)})},window.ScrollPanelWdgt.prototype.autoScroll=function(t){var e,n;return Date.now()-this.autoScrollTrigger<500?nil:(e=3*WorldMorph.preferencesAndSettings.scrollBarsThickness,n=!1,this.topLeft().extent(new Point(this.width(),e)).containsPoint(t)&&(n||(n=this.scrollY(e-(t.y-this.top())))),this.topLeft().extent(new Point(e,this.height())).containsPoint(t)&&(n||(n=this.scrollX(e-(t.x-this.left())))),new Point(this.right()-e,this.top()).extent(new Point(e,this.height())).containsPoint(t)&&(n||(n=this.scrollX(-(e-(this.right()-t.x))))),new Point(this.left(),this.bottom()-e).extent(new Point(this.width(),e)).containsPoint(t)&&(n||(n=this.scrollY(-(e-(this.bottom()-t.y))))),n?(this.adjustContentsBounds(),this.adjustScrollBars()):void 0)},window.ScrollPanelWdgt.prototype.scrollCaretIntoView=function(t){var e,n,o,i,r,s,a,l,d;return t.target,i=this.top()+this.padding,e=this.bottom()-this.padding,n=this.left()+this.padding,o=this.right()-this.padding,this.adjustContentsBounds(),r=this.padding,null!=this.extraPadding&&(r+=this.extraPadding),t.top()<i?(d=this.contents.top()+i-t.top(),this.contents.fullRawMoveTopSideTo(d+r),t.fullRawMoveTopSideTo(i)):t.bottom()>e&&(s=this.contents.bottom()+e-t.bottom(),this.contents.fullRawMoveBottomSideTo(s-r),t.fullRawMoveBottomSideTo(e)),t.left()<n?(a=this.contents.left()+n-t.left(),this.contents.fullRawMoveLeftSideTo(a+r),t.fullRawMoveLeftSideTo(n)):t.right()>o&&(l=this.contents.right()+o-t.right(),this.contents.fullRawMoveRightSideTo(l-r),t.fullRawMoveRightSideTo(o)),this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.wheel=function(t,e,n,o,i,r){var s,a,l;if(a=t,l=e,n,world.hand.destroyTemporaryHandlesAndLayoutAdjustersIfHandHasNotActionedThem(this),s=!1,Math.abs(l)<Math.abs(a)&&(l=0),Math.abs(a)<Math.abs(l)&&(a=0),WorldMorph.preferencesAndSettings.invertWheelX&&(a*=-1),WorldMorph.preferencesAndSettings.invertWheelY&&(l*=-1),WorldMorph.preferencesAndSettings.invertWheelZ&&-1,0!==l&&(l>0&&this.contents.top()>=this.top()-1||l<0&&this.contents.bottom()<=this.bottom()+1?this.escalateEvent("wheel",t,e,n,o,i,r):(s=!0,this.scrollY(l*WorldMorph.preferencesAndSettings.wheelScaleY))),0!==a&&(a>0&&this.contents.left()>=this.left()-1||a<0&&this.contents.right()<=this.right()+1?this.escalateEvent("wheel",t,e,n,o,i,r):(s=!0,this.scrollX(a*WorldMorph.preferencesAndSettings.wheelScaleX))),s)return this.adjustContentsBounds(),this.adjustScrollBars()},window.ScrollPanelWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return this.takesOverAndCoalescesChildrensMenus?(this.contents&&(n=this.childrenNotHandlesNorCarets(this.contents)),null!=n&&1===n.length?n[0].addMorphSpecificMenuEntries(t,e):void 0):ScrollPanelWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments)},window.ScrollPanelWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),this.enableDrops(),this.dragsDropsAndEditingEnabled=!0,this.contents.enableDragsDropsAndEditing(this)},window.ScrollPanelWdgt.prototype.disableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilClear&&e.makePencilClear(),this.disableDrops(),this.dragsDropsAndEditingEnabled=!1,this.contents.disableDragsDropsAndEditing(this),this.invalidateLayout()},window.ScrollPanelWdgt.instances=new Set,"function"==typeof window.ScrollPanelWdgt.initStaticConstsAfterClassDefinition&&window.ScrollPanelWdgt.initStaticConstsAfterClassDefinition(),window.ListMorph=function(t,e,n=[],o=function(t){return"function"==typeof this.registerThisInstance&&this.registerThisInstance(),isString(t)?t:("function"==typeof this.registerThisInstance&&this.registerThisInstance(),t.toSource?t.toSource():t.toString())},i=[],r=nil){this.target=t,this.action=e,this.elements=n,this.labelGetter=o,this.format=i,this.doubleClickAction=r,ListMorph.__super__.constructor.call(this),this.contents.disableDrops(),this.color=Color.WHITE,this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ListMorph,"name",{value:"ListMorph"}),window.ListMorph.__super__=window.ScrollPanelWdgt.prototype,window.ListMorph=extend(window.ListMorph,window.ScrollPanelWdgt),window.ListMorph.prototype.elements=nil,window.ListMorph.prototype.labelGetter=nil,window.ListMorph.prototype.format=nil,window.ListMorph.prototype.listContents=nil,window.ListMorph.prototype.selected=nil,window.ListMorph.prototype.active=nil,window.ListMorph.prototype.action=nil,window.ListMorph.prototype.target=nil,window.ListMorph.prototype.doubleClickAction=nil,window.ListMorph.prototype.buildAndConnectChildren=function(){return this.listContents=new MenuMorph(this,!0,this,!1,!1,nil,nil),this.listContents.isLockingToPanels=!0,this.elements.length||(this.elements=["(empty)"]),trackChanges.push(!1),this.elements.forEach(t=>{var e,n,o;return n=nil,e=!1,o=!1,this.format.forEach((function(i){if(i[1].call(nil,t))switch(i[0]){case"bold":return e=!0;case"italic":return o=!0;default:return n=i[0]}})),this.listContents.addMenuItem(this.labelGetter(t),!0,this,"select",nil,n,e,o,this.doubleClickAction)}),trackChanges.pop(),this.listContents.silentFullRawMoveTo(this.contents.position()),this.listContents.reLayout(),this.add(this.listContents)},window.ListMorph.prototype.select=function(t,e){this.selected=t,this.active=e,null!=this.action&&""!==this.action&&this.target[this.action].call(this.target,t.labelString)},window.ListMorph.prototype.rawSetExtent=function(t){var e,n;if(!t.equals(this.extent()))return this.breakNumberOfRawMovesAndResizesCaches(),e=this.listContents.boundingBox(),(n=this.bounds.origin.corner(this.bounds.origin.add(t))).right()>e.right()&&n.width()<=e.width()&&this.listContents.fullRawMoveRightSideTo(n.right()),n.bottom()>e.bottom()&&n.height()<=e.height()&&this.listContents.fullRawMoveBottomSideTo(n.bottom()),ListMorph.__super__.rawSetExtent.call(this,t)},window.ListMorph.instances=new Set,"function"==typeof window.ListMorph.initStaticConstsAfterClassDefinition&&window.ListMorph.initStaticConstsAfterClassDefinition(),window.ModifiedTextTriangleAnnotationWdgt=function(t=nil,e=0,n=10){var o;this.proportionOfParent=e,this.fixedSize=n,ModifiedTextTriangleAnnotationWdgt.__super__.constructor.call(this),this.appearance=new UpperRightTriangleAppearance(this,this.positionWithinParent),this.noticesTransparentClick=!1,o=WorldMorph.preferencesAndSettings.handleSize,this.silentRawSetExtent(new Point(o,o)),t&&t.add(this),this.updateResizerPosition(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ModifiedTextTriangleAnnotationWdgt,"name",{value:"ModifiedTextTriangleAnnotationWdgt"}),window.ModifiedTextTriangleAnnotationWdgt.__super__=window.Widget.prototype,window.ModifiedTextTriangleAnnotationWdgt=extend(window.ModifiedTextTriangleAnnotationWdgt,window.Widget),window.ModifiedTextTriangleAnnotationWdgt.augmentWith(window.UpperRightInternalHaloMixin,"ModifiedTextTriangleAnnotationWdgt"),window.ModifiedTextTriangleAnnotationWdgt.prototype.positionWithinParent="topLeft",window.ModifiedTextTriangleAnnotationWdgt.instances=new Set,"function"==typeof window.ModifiedTextTriangleAnnotationWdgt.initStaticConstsAfterClassDefinition&&window.ModifiedTextTriangleAnnotationWdgt.initStaticConstsAfterClassDefinition(),window.PopUpWdgt=function(t,e=!0,n=!0){this.morphOpeningThePopUp=t,this.killThisPopUpIfClickOutsideDescendants=e,this.killThisPopUpIfClickOnDescendantsTriggers=n,PopUpWdgt.__super__.constructor.call(this),this.isLockingToPanels=!1,world.freshlyCreatedPopUps.add(this),world.openPopUps.add(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PopUpWdgt,"name",{value:"PopUpWdgt"}),window.PopUpWdgt.__super__=window.Widget.prototype,window.PopUpWdgt=extend(window.PopUpWdgt,window.Widget),window.PopUpWdgt.prototype.killThisPopUpIfClickOnDescendantsTriggers=!0,window.PopUpWdgt.prototype.killThisPopUpIfClickOutsideDescendants=!0,window.PopUpWdgt.prototype.isPopUpMarkedForClosure=!1,window.PopUpWdgt.prototype.morphOpeningThePopUp=nil,window.PopUpWdgt.prototype.hierarchyOfPopUps=function(){var t,e;for(t=this,e=new Set([t]);null!=(null!=t?t.getParentPopUp:void 0);)null!=(t=t.getParentPopUp())&&e.add(t);return e},window.PopUpWdgt.prototype.propagateKillPopUps=function(){var t;if(this.killThisPopUpIfClickOnDescendantsTriggers)return null!=(t=this.getParentPopUp())&&t.propagateKillPopUps(),this.markPopUpForClosure()},window.PopUpWdgt.prototype.markPopUpForClosure=function(){return world.popUpsMarkedForClosure.add(this),this.isPopUpMarkedForClosure=!0},window.PopUpWdgt.prototype.isPopUpPinned=function(){return!(this.killThisPopUpIfClickOnDescendantsTriggers||this.killThisPopUpIfClickOutsideDescendants)},window.PopUpWdgt.prototype.getParentPopUp=function(){return this.isPopUpPinned()?this.parent:null!=this.morphOpeningThePopUp?this.morphOpeningThePopUp.firstParentThatIsAPopUp():nil},window.PopUpWdgt.prototype.firstParentThatIsAPopUp=function(){return this.isPopUpMarkedForClosure&&null!=this.parent?this.parent.firstParentThatIsAPopUp():this},window.PopUpWdgt.prototype.pinPopUp=function(t){var e;return this.killThisPopUpIfClickOnDescendantsTriggers=!1,this.killThisPopUpIfClickOutsideDescendants=!1,this.onClickOutsideMeOrAnyOfMyChildren(nil),null!=t?t.firstParentThatIsAPopUp().propagateKillPopUps():null!=(e=this.getParentPopUp())&&e.propagateKillPopUps(),world.closePopUpsMarkedForClosure(),this.updatePopUpShadow()},window.PopUpWdgt.prototype.fullCopy=function(){var t;return(t=PopUpWdgt.__super__.fullCopy.apply(this,arguments)).onClickOutsideMeOrAnyOfMyChildren(nil),t.killThisPopUpIfClickOnDescendantsTriggers=!1,t.killThisPopUpIfClickOutsideDescendants=!1,t},window.PopUpWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return PopUpWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),e.addMenuItem("pin",!1,this,"pin")},window.PopUpWdgt.prototype.justDropped=function(t){return PopUpWdgt.__super__.justDropped.apply(this,arguments),t!==world&&this.pinPopUp(),this.updatePopUpShadow()},window.PopUpWdgt.prototype.updatePopUpShadow=function(){return this.isPopUpPinned()?this.parent===world?this.addShadow():this.removeShadow():this.addShadow()},window.PopUpWdgt.prototype.addShadow=function(t=new Point(5,5),e=.2,n){if(!this.isPopUpPinned()||this.parent!==world)return PopUpWdgt.__super__.addShadow.call(this,t,e);PopUpWdgt.__super__.addShadow.call(this,new Point(3,3),.3)},window.PopUpWdgt.prototype.popUpCenteredAtHand=function(t){return this.popUp(t.hand.position().subtract(this.extent().floorDivideBy(2)),t)},window.PopUpWdgt.prototype.popUpCenteredInWorld=function(t){return this.popUp(t.center().subtract(this.extent().floorDivideBy(2)),t)},window.PopUpWdgt.prototype.popUpAtHand=function(){return this.popUp(world.hand.position(),world)},window.PopUpWdgt.prototype.popUp=function(t,e){return this.silentFullRawMoveTo(t),e.add(this),this.fullRawMoveWithin(world),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.addShadow(),this.fullChanged()},window.PopUpWdgt.prototype.destroy=function(){return PopUpWdgt.__super__.destroy.call(this),world.openPopUps.delete(this)},window.PopUpWdgt.prototype.close=function(){return PopUpWdgt.__super__.close.call(this),world.openPopUps.delete(this)},window.PopUpWdgt.instances=new Set,"function"==typeof window.PopUpWdgt.initStaticConstsAfterClassDefinition&&window.PopUpWdgt.initStaticConstsAfterClassDefinition(),window.PreferencesAndSettings=function(){this.setMouseInputMode(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PreferencesAndSettings,"name",{value:"PreferencesAndSettings"}),window.PreferencesAndSettings.__super__=Object.prototype,window.PreferencesAndSettings.augmentWith(window.DeepCopierMixin,"PreferencesAndSettings"),window.PreferencesAndSettings.prototype.inputMode=nil,window.PreferencesAndSettings.prototype.minimumFontHeight=nil,window.PreferencesAndSettings.prototype.shortcutsFontSize=nil,window.PreferencesAndSettings.prototype.menuFontName=nil,window.PreferencesAndSettings.prototype.menuFontSize=nil,window.PreferencesAndSettings.prototype.menuHeaderFontSize=nil,window.PreferencesAndSettings.prototype.menuHeaderColor=nil,window.PreferencesAndSettings.prototype.menuHeaderBold=nil,window.PreferencesAndSettings.prototype.menuStrokeColor=nil,window.PreferencesAndSettings.prototype.menuBackgroundColor=nil,window.PreferencesAndSettings.prototype.menuButtonsLabelColor=nil,window.PreferencesAndSettings.prototype.normalTextFontSize=nil,window.PreferencesAndSettings.prototype.textInButtonsFontSize=nil,window.PreferencesAndSettings.prototype.titleBarTextFontSize=nil,window.PreferencesAndSettings.prototype.titleBarBoldText=nil,window.PreferencesAndSettings.prototype.titleBarTextHeight=nil,window.PreferencesAndSettings.prototype.bubbleHelpFontSize=nil,window.PreferencesAndSettings.prototype.prompterFontName=nil,window.PreferencesAndSettings.prototype.prompterFontSize=nil,window.PreferencesAndSettings.prototype.prompterSliderSize=nil,window.PreferencesAndSettings.prototype.handleSize=nil,window.PreferencesAndSettings.prototype.scrollBarsThickness=nil,window.PreferencesAndSettings.prototype.outlineColor=nil,window.PreferencesAndSettings.prototype.outlineColorString=nil,window.PreferencesAndSettings.prototype.wheelScaleX=1,window.PreferencesAndSettings.prototype.wheelScaleY=1,window.PreferencesAndSettings.prototype.wheelScaleZ=1,window.PreferencesAndSettings.prototype.invertWheelX=!0,window.PreferencesAndSettings.prototype.invertWheelY=!0,window.PreferencesAndSettings.prototype.invertWheelZ=!0,window.PreferencesAndSettings.prototype.useSliderForInput=nil,window.PreferencesAndSettings.prototype.useVirtualKeyboard=nil,window.PreferencesAndSettings.prototype.isTouchDevice=nil,window.PreferencesAndSettings.prototype.rasterizeSVGs=nil,window.PreferencesAndSettings.prototype.isFlat=nil,window.PreferencesAndSettings.prototype.grabDragThreshold=7,window.PreferencesAndSettings.prototype.toggleInputMode=function(){return this.inputMode===PreferencesAndSettings.INPUT_MODE_MOUSE?this.setTouchInputMode():this.setMouseInputMode()},window.PreferencesAndSettings.prototype.setMouseInputMode=function(){return this.inputMode=PreferencesAndSettings.INPUT_MODE_MOUSE,this.minimumFontHeight=getMinimumFontHeight(),this.menuFontName="sans-serif",this.menuFontSize=12,this.menuHeaderFontSize=12,this.menuHeaderColor=new Color(77,77,77),this.menuHeaderBold=!0,this.menuStrokeColor=new Color(210,210,210),this.menuBackgroundColor=new Color(249,249,249),this.menuButtonsLabelColor=Color.BLACK,this.externalWindowBarBackgroundColor=new Color(125,125,125),this.externalWindowBarStrokeColor=new Color(100,100,100),this.internalWindowBarBackgroundColor=new Color(172,172,172),this.internalWindowBarStrokeColor=new Color(150,150,150),this.normalTextFontSize=12,this.textInButtonsFontSize=12,this.titleBarTextFontSize=12,this.titleBarTextHeight=15,this.titleBarBoldText=!0,this.bubbleHelpFontSize=10,this.prompterFontName="sans-serif",this.prompterFontSize=12,this.prompterSliderSize=10,this.defaultPanelsBackgroundColor=new Color(255,250,245),this.defaultPanelsStrokeColor=new Color(100,100,100),this.editableItemBackgroundColor=new Color(240,240,240),this.outlineColor=new Color(244,243,244),this.outlineColorString=this.outlineColor.toString(),this.iconDarkLineColor=Color.BLACK,this.shortcutsFontSize=12,this.handleSize=15,this.scrollBarsThickness=10,this.wheelScaleX=1,this.wheelScaleY=1,this.wheelScaleZ=1,this.invertWheelX=!0,this.invertWheelY=!0,this.invertWheelZ=!0,this.useSliderForInput=!1,this.useVirtualKeyboard=!0,this.isTouchDevice=!1,this.rasterizeSVGs=!1,this.isFlat=!1},window.PreferencesAndSettings.prototype.setTouchInputMode=function(){return this.inputMode=PreferencesAndSettings.INPUT_MODE_TOUCH,this.minimumFontHeight=getMinimumFontHeight(),this.menuFontName="sans-serif",this.menuFontSize=24,this.bubbleHelpFontSize=18,this.prompterFontName="sans-serif",this.prompterFontSize=24,this.prompterSliderSize=20,this.handleSize=26,this.scrollBarsThickness=24,this.wheelScaleX=1,this.wheelScaleY=1,this.wheelScaleZ=1,this.invertWheelX=!0,this.invertWheelY=!0,this.invertWheelZ=!0,this.useSliderForInput=!0,this.useVirtualKeyboard=!0,this.isTouchDevice=!1,this.rasterizeSVGs=!1,this.isFlat=!1},window.PreferencesAndSettings.INPUT_MODE_MOUSE=0,window.PreferencesAndSettings.INPUT_MODE_TOUCH=1,window.PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity=0,window.PreferencesAndSettings.instances=new Set,"function"==typeof window.PreferencesAndSettings.initStaticConstsAfterClassDefinition&&window.PreferencesAndSettings.initStaticConstsAfterClassDefinition(),window.PreferredSize=function(){window.PreferredSize.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PreferredSize,"name",{value:"PreferredSize"}),window.PreferredSize.__super__=Object.prototype,window.PreferredSize.THIS_ONE_I_HAVE_NOW=-1,window.PreferredSize.DONT_MIND=-2,window.PreferredSize.instances=new Set,"function"==typeof window.PreferredSize.initStaticConstsAfterClassDefinition&&window.PreferredSize.initStaticConstsAfterClassDefinition(),window.MenuMorph=function(t,e=!1,n,o=!0,i=!0,r=nil,s=nil,a=nil){this.morphOpeningThePopUp=t,this.isListContents=e,this.target=n,this.killThisPopUpIfClickOutsideDescendants=o,this.killThisPopUpIfClickOnDescendantsTriggers=i,this.title=r,this.environment=s,this.fontSize=a,"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.isListContents||this.killThisPopUpIfClickOutsideDescendants&&this.onClickOutsideMeOrAnyOfMyChildren("close"),MenuMorph.__super__.constructor.call(this,this.morphOpeningThePopUp,this.killThisPopUpIfClickOutsideDescendants,this.killThisPopUpIfClickOnDescendantsTriggers),this.isLockingToPanels=!1,this.appearance=new MenuAppearance(this),this.strokeColor=WorldMorph.preferencesAndSettings.menuStrokeColor,this.isListContents&&(world.freshlyCreatedPopUps.delete(this),world.openPopUps.delete(this)),this.isListContents||this.title&&(this.createLabel(),this.silentAdd(this.label)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MenuMorph,"name",{value:"MenuMorph"}),window.MenuMorph.__super__=window.PopUpWdgt.prototype,window.MenuMorph=extend(window.MenuMorph,window.PopUpWdgt),window.MenuMorph.prototype.target=nil,window.MenuMorph.prototype.title=nil,window.MenuMorph.prototype.environment=nil,window.MenuMorph.prototype.fontSize=nil,window.MenuMorph.prototype.label=nil,window.MenuMorph.prototype.isListContents=!1,window.MenuMorph.prototype.colloquialName=function(){return this.title?'"'+this.title+'" menu':"menu"},window.MenuMorph.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.THIS_ONE_I_HAVE_NOW,PreferredSize.THIS_ONE_I_HAVE_NOW,0),this.layoutSpecDetails.canSetHeightFreely=!1},window.MenuMorph.prototype.createLine=function(t=1){var e;return(e=new RectangleMorph).setMinimumExtent(new Point(5,1)),e.color=new Color(230,230,230),e.rawSetHeight(t+2),e},window.MenuMorph.prototype.addLine=function(t){var e;return e=this.createLine(t),this.silentAdd(e)},window.MenuMorph.prototype.prependLine=function(t){var e;return e=this.createLine(t),this.silentAdd(e,nil,0)},window.MenuMorph.prototype.createLabel=function(){return this.label=new MenuHeader(this.title)},window.MenuMorph.prototype.createMenuItem=function(t,e=!0,n,o,i,r,s=!1,a=!1,l,d,h,p=!1){var c;return c=new MenuItemMorph(e,n,o,t||"close",this.fontSize||WorldMorph.preferencesAndSettings.menuFontSize,WorldMorph.preferencesAndSettings.menuFontName,!1,this.target,this.environment,i,r,s,a,l,d,h,p),null==this.environment&&(c.dataSourceMorphForTarget=c,c.morphEnv=this.target),c},window.MenuMorph.prototype.removeMenuItem=function(t){var e;if(null!=(e=this.firstChildSuchThat((function(e){return null!=e.label&&e.label.text===t}))))return e.fullDestroy()},window.MenuMorph.prototype.removeConsecutiveLines=function(){var t,e,n,o,i,r;for(t=!1,r=[],e=0,o=(i=this.children.slice()).length;e<o;e++)n=i[e],t&&n instanceof RectangleMorph&&n.fullDestroy(),n instanceof RectangleMorph?t=!0:r.push(t=!1);return r},window.MenuMorph.prototype.addMenuItem=function(t,e,n,o,i,r,s,a,l,d,h,p){var c;return c=this.createMenuItem(t,e,n,o,i,r,s,a,l,d,h,p),this.silentAdd(c)},window.MenuMorph.prototype.prependMenuItem=function(t,e,n,o,i,r,s,a,l,d,h,p){var c;return c=this.createMenuItem(t,e,n,o,i,r,s,a,l,d,h,p),this.silentAdd(c,nil,0)},window.MenuMorph.prototype.reLayout=function(){var t,e,n,o,i,r,s;for(MenuMorph.__super__.reLayout.call(this),trackChanges.push(!1),this.isListContents||(this.cornerRadius=WorldMorph.preferencesAndSettings.isFlat?0:5),this.color=new Color(238,238,238),this.silentRawSetExtent(new Point(0,0)),s=this.top(),r=this.left()+2,this.notifyChildrenThatParentHasReLayouted(),this.isListContents||(this.title?(this.label.fullRawMoveTo(this.position().add(2)),s=this.label.bottom()):s=this.top()),s+=1,this.removeShadow(),e=0,o=(i=this.children).length;e<o;e++)(n=i[e])!==this.label&&(n.fullRawMoveTo(new Point(r,s)),s+=n.height());return this.adjustWidthsOfMenuEntries(),t=this.fullBounds(),this.silentRawSetExtent(t.extent().add(2)),trackChanges.pop(),this.fullChanged()},window.MenuMorph.prototype.maxWidthOfMenuEntries=function(){var t;return t=0,this.children.forEach((function(e){return e instanceof MenuItemMorph?(e.children[0],t=Math.max(t,e.children[0].width()+8)):e instanceof StringFieldMorph||e instanceof ColorPickerMorph||e instanceof SliderMorph?t=Math.max(t,e.width()):void 0})),this.label&&(t=Math.max(t,this.label.width())),t},window.MenuMorph.prototype.adjustWidthsOfMenuEntries=function(){var t;return t=this.maxWidthOfMenuEntries(),this.children.forEach(e=>(trackChanges.push(!1),e.rawSetWidth(t),trackChanges.pop()))},window.MenuMorph.prototype.unselectAllItems=function(){return this.children.forEach((function(t){if(t instanceof MenuItemMorph)return t.state=t.STATE_NORMAL})),this.changed()},window.MenuMorph.instances=new Set,"function"==typeof window.MenuMorph.initStaticConstsAfterClassDefinition&&window.MenuMorph.initStaticConstsAfterClassDefinition(),window.PromptMorph=function(t,e,n,o,i,r,s,a,l){var d,h;this.msg=e,this.target=n,this.callback=o,this.defaultContents=i,this.intendedWidth=r,this.floorNum=s,this.ceilingNum=a,this.isRounded=l,this.ceilingNum&&(d=!0),this.tempPromptEntryField=new StringFieldMorph(this.defaultContents||"",this.intendedWidth||100,WorldMorph.preferencesAndSettings.prompterFontSize,WorldMorph.preferencesAndSettings.prompterFontName,!1,!1,d),PromptMorph.__super__.constructor.call(this,t,!1,this.target,!0,!0,this.msg||"",this.tempPromptEntryField),this.silentAdd(this.tempPromptEntryField),(this.ceilingNum||WorldMorph.preferencesAndSettings.useSliderForInput)&&((h=new SliderMorph(this.floorNum||0,this.ceilingNum,parseFloat(this.defaultContents),Math.floor((this.ceilingNum-this.floorNum)/4))).alpha=1,h.color=new Color(225,225,225),h.button.color=new Color(60,60,60),h.button.highlightColor=h.button.color.bluerBy(100),h.button.pressColor=h.button.color.bluerBy(150),h.silentRawSetHeight(WorldMorph.preferencesAndSettings.prompterSliderSize),h.target=this,h.argumentToAction=this,h.action="reactToSliderAction",this.silentAdd(h)),this.addLine(2),this.addMenuItem("Ok",!0,this.target,this.callback),this.addMenuItem("Close",!0,this,"close"),this.reLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PromptMorph,"name",{value:"PromptMorph"}),window.PromptMorph.__super__=window.MenuMorph.prototype,window.PromptMorph=extend(window.PromptMorph,window.MenuMorph),window.PromptMorph.prototype.tempPromptEntryField=nil,window.PromptMorph.prototype.reactToSliderAction=function(t){return this.tempPromptEntryField.changed(),this.tempPromptEntryField.text.text=Math.round(t).toString(),this.tempPromptEntryField.text.reLayout(),this.tempPromptEntryField.text.changed(),this.tempPromptEntryField.text.edit()},window.PromptMorph.prototype.reLayout=function(){return PromptMorph.__super__.reLayout.call(this),this.buildSubmorphs(),this.notifyChildrenThatParentHasReLayouted()},window.PromptMorph.prototype.buildSubmorphs=function(){},window.PromptMorph.prototype.iHaveBeenAddedTo=function(t,e){},window.PromptMorph.instances=new Set,"function"==typeof window.PromptMorph.initStaticConstsAfterClassDefinition&&window.PromptMorph.initStaticConstsAfterClassDefinition(),window.RadioButtonsHolderMorph=function(){RadioButtonsHolderMorph.__super__.constructor.call(this),this.appearance=new RectangularAppearance(this),this.setColor(new Color(230,230,230)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.RadioButtonsHolderMorph,"name",{value:"RadioButtonsHolderMorph"}),window.RadioButtonsHolderMorph.__super__=window.Widget.prototype,window.RadioButtonsHolderMorph=extend(window.RadioButtonsHolderMorph,window.Widget),window.RadioButtonsHolderMorph.prototype.wantsButtonsToBehaveLikeRadioButtons=!0,window.RadioButtonsHolderMorph.prototype.allowsRadioButtonsToBeAllDisabled=!0,window.RadioButtonsHolderMorph.prototype.mouseClickLeft=function(t){var e,n,o,i,r;for(i=[],e=0,n=(o=this.children).length;e<n;e++)(r=o[e])!==t?i.push("function"==typeof r.resetSwitchButton?r.resetSwitchButton():void 0):i.push(void 0);return i},window.RadioButtonsHolderMorph.prototype.whichButtonSelected=function(){return this.firstChildSuchThat(t=>t.isSelected())},window.RadioButtonsHolderMorph.prototype.unselectAll=function(){var t,e,n,o;if(this.allowsRadioButtonsToBeAllDisabled)for(t=0,e=(n=this.children).length;t<e;t++)(o=n[t]).isSelected()&&o.toggle();return null},window.RadioButtonsHolderMorph.instances=new Set,"function"==typeof window.RadioButtonsHolderMorph.initStaticConstsAfterClassDefinition&&window.RadioButtonsHolderMorph.initStaticConstsAfterClassDefinition(),window.SaveShortcutPromptWdgt=function(t,e,n,o=100,i){this.target=e,this.defaultContents=n,this.intendedWidth=o,this.wdgtWhereReferenceWillGo=i,this.defaultContents||(this.defaultContents=world.getNextUntitledShortcutName()),this.tempPromptEntryField=new StringFieldWdgt2(this.defaultContents,150,WorldMorph.preferencesAndSettings.prompterFontSize,WorldMorph.preferencesAndSettings.prompterFontName,!1,!1,!1),SaveShortcutPromptWdgt.__super__.constructor.call(this,t,!1,this.target,!0,!0,this.msg,this.tempPromptEntryField),this.silentAdd(this.tempPromptEntryField),this.addMenuItem("Don't save",!0,this.target,"destroy"),this.addMenuItem("Cancel",!0,this,"close"),this.addMenuItem("Ok",!0,this,"createReferenceAndClose"),this.reLayout(),this.rawSetWidth(150),this.tempPromptEntryField.text.edit(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SaveShortcutPromptWdgt,"name",{value:"SaveShortcutPromptWdgt"}),window.SaveShortcutPromptWdgt.__super__=window.MenuMorph.prototype,window.SaveShortcutPromptWdgt=extend(window.SaveShortcutPromptWdgt,window.MenuMorph),window.SaveShortcutPromptWdgt.prototype.msg=" save as...         ",window.SaveShortcutPromptWdgt.prototype.tempPromptEntryField=nil,window.SaveShortcutPromptWdgt.prototype.reLayout=function(){return SaveShortcutPromptWdgt.__super__.reLayout.call(this),this.buildSubmorphs(),this.notifyChildrenThatParentHasReLayouted()},window.SaveShortcutPromptWdgt.prototype.buildSubmorphs=function(){},window.SaveShortcutPromptWdgt.prototype.iHaveBeenAddedTo=function(t,e){},window.SaveShortcutPromptWdgt.prototype.createReferenceAndClose=function(){return this.target.createReferenceAndClose(this.tempPromptEntryField.text.text,this.wdgtWhereReferenceWillGo),this.close()},window.SaveShortcutPromptWdgt.instances=new Set,"function"==typeof window.SaveShortcutPromptWdgt.initStaticConstsAfterClassDefinition&&window.SaveShortcutPromptWdgt.initStaticConstsAfterClassDefinition(),window.ScriptWdgt=function(t=""){this.savedScript=t,ScriptWdgt.__super__.constructor.call(this,new Point(200,400)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScriptWdgt,"name",{value:"ScriptWdgt"}),window.ScriptWdgt.__super__=window.Widget.prototype,window.ScriptWdgt=extend(window.ScriptWdgt,window.Widget),window.ScriptWdgt.prototype.tempPromptEntryField=nil,window.ScriptWdgt.prototype.textMorph=nil,window.ScriptWdgt.prototype.runItButton=nil,window.ScriptWdgt.prototype.saveButton=nil,window.ScriptWdgt.prototype.saveTextWdgt=nil,window.ScriptWdgt.prototype.savedScript=nil,window.ScriptWdgt.prototype.functionFromCompiledCode=nil,window.ScriptWdgt.prototype.externalPadding=0,window.ScriptWdgt.prototype.internalPadding=5,window.ScriptWdgt.prototype.colloquialName=function(){return"script"},window.ScriptWdgt.prototype.representativeIcon=function(){return new ScriptIconWdgt},window.ScriptWdgt.prototype.closeFromContainerWindow=function(t){return world.anyReferenceToWdgt(t)?t.close():new SaveShortcutPromptWdgt(this,t).popUpAtHand()},window.ScriptWdgt.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new SimplePlainTextScrollPanelWdgt(this.savedScript,!1,5),this.tempPromptEntryField.disableDrops(),this.tempPromptEntryField.contents.disableDrops(),this.tempPromptEntryField.color=Color.WHITE,this.tempPromptEntryField.addModifiedContentIndicator(),this.tempPromptEntryField.widgetToBeNotifiedOfTextModificationChange=this,this.textMorph=this.tempPromptEntryField.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!0,this.textMorph.enableSelecting(),this.add(this.tempPromptEntryField),this.runItButton=new SimpleButtonMorph(!0,this,"tryIt","try it"),this.add(this.runItButton),this.saveTextWdgt=new StringMorph2("save + close",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.saveTextWdgt.alignCenter(),this.saveButton=new SimpleButtonMorph(!0,this,"saveScriptAndClose",this.saveTextWdgt),this.add(this.saveButton),this.tempPromptEntryField.checkIfTextContentWasModifiedFromTextAtStart(),this.invalidateLayout()},window.ScriptWdgt.prototype.saveScript=function(){var t;return this.savedScript=this.textMorph.text,t=compileFGCode(this.savedScript,!0),this.functionFromCompiledCode=new Function(t),this.textMorph.considerCurrentTextAsReferenceText(),this.tempPromptEntryField.checkIfTextContentWasModifiedFromTextAtStart()},window.ScriptWdgt.prototype.saveScriptAndClose=function(){return this.saveScript(),this.closeFromContainerWindow(this.parent)},window.ScriptWdgt.prototype.doAll=function(){var t;return null!=(t=this.functionFromCompiledCode)?t.call(world):void 0},window.ScriptWdgt.prototype.tryIt=function(){return world.evaluateString(this.textMorph.text)},window.ScriptWdgt.prototype.textContentModified=function(){},window.ScriptWdgt.prototype.textContentUnmodified=function(){},window.ScriptWdgt.prototype.doLayout=function(t){var e,n,o,i,r;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(ScriptWdgt.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),i=this.height()-2*this.externalPadding-this.internalPadding-15,o=this.top()+this.externalPadding+i,r=this.width()-2*this.externalPadding,n=Math.round((r-2*this.internalPadding-WorldMorph.preferencesAndSettings.handleSize)/2),this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(r,i))),this.runItButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding,o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.runItButton.doLayout(e)),this.saveButton.parent===this&&(e=(e=new Rectangle(new Point(e.right()+this.internalPadding,o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.saveButton.doLayout(e)),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.ScriptWdgt.instances=new Set,"function"==typeof window.ScriptWdgt.initStaticConstsAfterClassDefinition&&window.ScriptWdgt.initStaticConstsAfterClassDefinition(),window.ShadowInfo=function(t=new Point(7,7),e=.2){this.offset=t,this.alpha=e,this.offset.debugIfFloats(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ShadowInfo,"name",{value:"ShadowInfo"}),window.ShadowInfo.__super__=Object.prototype,window.ShadowInfo.augmentWith(window.DeepCopierMixin,"ShadowInfo"),window.ShadowInfo.prototype.offset=nil,window.ShadowInfo.prototype.alpha=0,window.ShadowInfo.noShadow=function(){return new ShadowInfo(new Point(0,0),0)},window.ShadowInfo.instances=new Set,"function"==typeof window.ShadowInfo.initStaticConstsAfterClassDefinition&&window.ShadowInfo.initStaticConstsAfterClassDefinition(),window.SimpleButtonMorph=function(t=!0,e=nil,n=nil,o=nil,i=nil,r,s=nil,a=nil,l=nil,d=nil,h=!1,p=0){this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=t,this.target=e,this.action=n,this.faceMorph=o,this.dataSourceMorphForTarget=i,this.morphEnv=r,this.toolTipMessage=s,this.doubleClickAction=a,this.argumentToAction1=l,this.argumentToAction2=d,this.representsAMorph=h,this.padding=p,SimpleButtonMorph.__super__.constructor.apply(this,arguments),this.appearance=new BoxyAppearance(this),this.strokeColor=new Color(196,195,196),this.color=new Color(245,244,245),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleButtonMorph,"name",{value:"SimpleButtonMorph"}),window.SimpleButtonMorph.__super__=window.EmptyButtonMorph.prototype,window.SimpleButtonMorph=extend(window.SimpleButtonMorph,window.EmptyButtonMorph),window.SimpleButtonMorph.instances=new Set,"function"==typeof window.SimpleButtonMorph.initStaticConstsAfterClassDefinition&&window.SimpleButtonMorph.initStaticConstsAfterClassDefinition(),window.SimpleDocumentPanelWdgt=function(){window.SimpleDocumentPanelWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleDocumentPanelWdgt,"name",{value:"SimpleDocumentPanelWdgt"}),window.SimpleDocumentPanelWdgt.__super__=window.SimpleVerticalStackPanelWdgt.prototype,window.SimpleDocumentPanelWdgt=extend(window.SimpleDocumentPanelWdgt,window.SimpleVerticalStackPanelWdgt),window.SimpleDocumentPanelWdgt.prototype.colloquialName=function(){return"document"},window.SimpleDocumentPanelWdgt.instances=new Set,"function"==typeof window.SimpleDocumentPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimpleDocumentPanelWdgt.initStaticConstsAfterClassDefinition(),window.SimpleVerticalStackScrollPanelWdgt=function(t=!0){var e,n;this.isTextLineWrapping=t,e=new SimpleVerticalStackPanelWdgt,this.isTextLineWrapping||(e.constrainContentWidth=!1),e.tight=!1,e.isLockingToPanels=!0,SimpleVerticalStackScrollPanelWdgt.__super__.constructor.call(this,e),this.disableDrops(),(n=new SimplePlainTextWdgt("A small string\n\n\nhere another.",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).isEditable=!0,n.enableSelecting(),this.setContents(n,5),this.setColor(new Color(249,249,249)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleVerticalStackScrollPanelWdgt,"name",{value:"SimpleVerticalStackScrollPanelWdgt"}),window.SimpleVerticalStackScrollPanelWdgt.__super__=window.ScrollPanelWdgt.prototype,window.SimpleVerticalStackScrollPanelWdgt=extend(window.SimpleVerticalStackScrollPanelWdgt,window.ScrollPanelWdgt),window.SimpleVerticalStackScrollPanelWdgt.prototype.colloquialName=function(){return"stack"},window.SimpleVerticalStackScrollPanelWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return SimpleVerticalStackScrollPanelWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.removeMenuItem("move all inside"),null!=this.contents&&(n=this.childrenNotHandlesNorCarets(this.contents)),null!=n&&n.length>0&&(e.addLine(),this.dragsDropsAndEditingEnabled?e.addMenuItem("disable editing",!0,this,"disableDragsDropsAndEditing","prevents dragging content in and out"):e.addMenuItem("enable editing",!0,this,"enableDragsDropsAndEditing","lets you drag content in and out")),e.removeConsecutiveLines()},window.SimpleVerticalStackScrollPanelWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),null!=this.parent&&this.parent!==t&&this.parent instanceof SimpleDocumentWdgt?this.parent.enableDragsDropsAndEditing(this):SimpleVerticalStackScrollPanelWdgt.__super__.enableDragsDropsAndEditing.call(this,this)},window.SimpleVerticalStackScrollPanelWdgt.prototype.disableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilClear&&e.makePencilClear(),null!=this.parent&&this.parent!==t&&this.parent instanceof SimpleDocumentWdgt?this.parent.disableDragsDropsAndEditing(this):SimpleVerticalStackScrollPanelWdgt.__super__.disableDragsDropsAndEditing.call(this,this)},window.SimpleVerticalStackScrollPanelWdgt.instances=new Set,"function"==typeof window.SimpleVerticalStackScrollPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimpleVerticalStackScrollPanelWdgt.initStaticConstsAfterClassDefinition(),window.SimpleDocumentScrollPanelWdgt=function(){window.SimpleDocumentScrollPanelWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleDocumentScrollPanelWdgt,"name",{value:"SimpleDocumentScrollPanelWdgt"}),window.SimpleDocumentScrollPanelWdgt.__super__=window.SimpleVerticalStackScrollPanelWdgt.prototype,window.SimpleDocumentScrollPanelWdgt=extend(window.SimpleDocumentScrollPanelWdgt,window.SimpleVerticalStackScrollPanelWdgt),window.SimpleDocumentScrollPanelWdgt.prototype.colloquialName=function(){return"document"},window.SimpleDocumentScrollPanelWdgt.prototype.getNormalParagraph=function(t){var e;return(e=new SimplePlainTextWdgt(t,nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).isEditable=!0,e.enableSelecting(),e},window.SimpleDocumentScrollPanelWdgt.prototype.makeAllContentIntoTemplates=function(){var t,e,n,o,i;for(o=[],e=0,n=(t=this.childrenNotHandlesNorCarets(this.contents)).length;e<n;e++)i=t[e],o.push(i.isTemplate=!0);return o},window.SimpleDocumentScrollPanelWdgt.prototype.addNormalParagraph=function(t){var e;return e=this.getNormalParagraph(t),this.add(e),e},window.SimpleDocumentScrollPanelWdgt.prototype.addDivider=function(){var t;return(t=this.getNormalParagraph("")).toggleHeaderLine(),this.add(t),t},window.SimpleDocumentScrollPanelWdgt.prototype.addIndentedText=function(t){var e;return(e=this.getNormalParagraph(t)).rawSetExtent(new Point(Math.round(92*this.width()/100),335)),this.add(e),e.layoutSpecDetails.setAlignmentToRight(),e},window.SimpleDocumentScrollPanelWdgt.prototype.addBulletPoint=function(t){return this.addIndentedText("• "+t)},window.SimpleDocumentScrollPanelWdgt.prototype.addCodeBlock=function(t){var e;return(e=this.addIndentedText("a code block with\n  some example\n    code in here")).setFontName(nil,nil,e.monoFontStack),this.add(e),e},window.SimpleDocumentScrollPanelWdgt.prototype.addSpacer=function(t=1){var e,n;return e=function(t,e){var n;for(n="";e>0;)n+=t,e--;return n},(n=this.getNormalParagraph(e("\n",t-1))).isEditable=!0,n.enableSelecting(),this.add(n),n},window.SimpleDocumentScrollPanelWdgt.instances=new Set,"function"==typeof window.SimpleDocumentScrollPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimpleDocumentScrollPanelWdgt.initStaticConstsAfterClassDefinition(),window.SimpleLinkWdgt=function(t="insert link caption here",e="http://www.google.com"){this.descriptionString=t,this.linkString=e,SimpleLinkWdgt.__super__.constructor.call(this,new Point(405,50)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleLinkWdgt,"name",{value:"SimpleLinkWdgt"}),window.SimpleLinkWdgt.__super__=window.Widget.prototype,window.SimpleLinkWdgt=extend(window.SimpleLinkWdgt,window.Widget),window.SimpleLinkWdgt.prototype.tempPromptEntryField=nil,window.SimpleLinkWdgt.prototype.textMorph=nil,window.SimpleLinkWdgt.prototype.outputTextArea=nil,window.SimpleLinkWdgt.prototype.outputTextAreaText=nil,window.SimpleLinkWdgt.prototype.externalLinkIcon=nil,window.SimpleLinkWdgt.prototype.externalPadding=5,window.SimpleLinkWdgt.prototype.internalPadding=5,window.SimpleLinkWdgt.prototype.descriptionString=nil,window.SimpleLinkWdgt.prototype.linkString=nil,window.SimpleLinkWdgt.prototype.colloquialName=function(){return"Simple link"},window.SimpleLinkWdgt.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new StringMorph2(this.descriptionString),this.tempPromptEntryField.isEditable=!0,this.tempPromptEntryField.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.tempPromptEntryField.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.tempPromptEntryField.alignMiddle(),this.tempPromptEntryField.alignRight(),this.add(this.tempPromptEntryField),this.outputTextArea=new StringMorph2(this.linkString),this.outputTextArea.isEditable=!0,this.outputTextArea.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.outputTextArea.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.outputTextArea.alignMiddle(),this.outputTextArea.alignRight(),this.add(this.outputTextArea),this.createLinkIcon(),this.add(this.externalLinkIcon),this.invalidateLayout()},window.SimpleLinkWdgt.prototype.createLinkIcon=function(){return this.externalLinkIcon=new ExternalLinkButtonWdgt},window.SimpleLinkWdgt.prototype.rawSetExtent=function(t){return SimpleLinkWdgt.__super__.rawSetExtent.apply(this,arguments),this.invalidateLayout()},window.SimpleLinkWdgt.prototype.doLayout=function(t){var e,n,o,i;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(SimpleLinkWdgt.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),i=(e=this.height()-2*this.externalPadding-this.internalPadding)-(o=Math.round(50*e/100))-this.externalPadding,n=Math.min(this.width(),this.height()-2*this.externalPadding),this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(this.width()-2*this.externalPadding-this.internalPadding-n,o))),this.outputTextArea.parent===this&&(this.outputTextArea.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.tempPromptEntryField.bottom()+this.internalPadding)),this.outputTextArea.rawSetExtent(new Point(this.width()-2*this.externalPadding-this.internalPadding-n,i))),this.externalLinkIcon.parent===this&&(this.externalLinkIcon.fullRawMoveTo(new Point(this.right()-this.externalPadding-n,this.top()+this.externalPadding)),this.externalLinkIcon.rawSetExtent(new Point(n,n))),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.SimpleLinkWdgt.instances=new Set,"function"==typeof window.SimpleLinkWdgt.initStaticConstsAfterClassDefinition&&window.SimpleLinkWdgt.initStaticConstsAfterClassDefinition(),window.SimplePlainTextPanelWdgt=function(t,e,n){var o;SimplePlainTextPanelWdgt.__super__.constructor.call(this),this.takesOverAndCoalescesChildrensMenus=!0,this.disableDrops(),this.disableDrops(),this.isTextLineWrapping=e,this.color=Color.WHITE,(o=new SimplePlainTextWdgt(t,nil,nil,nil,nil,nil,new Color(230,230,130),1)).isEditable=!0,e||(o.maxTextWidth=0),o.enableSelecting(),this.add(o),o.lockToPanels(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimplePlainTextPanelWdgt,"name",{value:"SimplePlainTextPanelWdgt"}),window.SimplePlainTextPanelWdgt.__super__=window.PanelWdgt.prototype,window.SimplePlainTextPanelWdgt=extend(window.SimplePlainTextPanelWdgt,window.PanelWdgt),window.SimplePlainTextPanelWdgt.instances=new Set,"function"==typeof window.SimplePlainTextPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimplePlainTextPanelWdgt.initStaticConstsAfterClassDefinition(),window.Point=function(t=0,e=0){this.x=t,this.y=e,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Point,"name",{value:"Point"}),window.Point.__super__=Object.prototype,window.Point.augmentWith(window.DeepCopierMixin,"Point"),window.Point.prototype.x=nil,window.Point.prototype.y=nil,window.Point.prototype.debugIfFloats=function(){},window.Point.prototype.toString=function(){return Math.round(this.x)+"@"+Math.round(this.y)},window.Point.prototype.copy=function(){return new this.constructor(this.x,this.y)},window.Point.prototype.isZero=function(t){return 0===this.x&&0===this.y},window.Point.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},window.Point.prototype.lt=function(t){return this.x<t.x&&this.y<t.y},window.Point.prototype.gt=function(t){return this.x>t.x&&this.y>t.y},window.Point.prototype.ge=function(t){return this.x>=t.x&&this.y>=t.y},window.Point.prototype.le=function(t){return this.x<=t.x&&this.y<=t.y},window.Point.prototype.max=function(t){return this.debugIfFloats(),new this.constructor(Math.max(this.x,t.x),Math.max(this.y,t.y))},window.Point.prototype.min=function(t){return this.debugIfFloats(),new this.constructor(Math.min(this.x,t.x),Math.min(this.y,t.y))},window.Point.prototype.round=function(){return new this.constructor(Math.round(this.x),Math.round(this.y))},window.Point.prototype.abs=function(){return this.debugIfFloats(),new this.constructor(Math.abs(this.x),Math.abs(this.y))},window.Point.prototype.neg=function(){return this.debugIfFloats(),new this.constructor(-this.x,-this.y)},window.Point.prototype.mirror=function(){return this.debugIfFloats(),new this.constructor(this.y,this.x)},window.Point.prototype.floor=function(){return new this.constructor(Math.max(Math.floor(this.x),0),Math.max(Math.floor(this.y),0))},window.Point.prototype.ceil=function(){return new this.constructor(Math.ceil(this.x),Math.ceil(this.y))},window.Point.prototype.width=function(){return this.x},window.Point.prototype.height=function(){return this.y},window.Point.prototype.add=function(t){return this.debugIfFloats(),t instanceof Point?new this.constructor(this.x+t.x,this.y+t.y):new this.constructor(this.x+t,this.y+t)},window.Point.prototype.subtract=function(t){return this.debugIfFloats(),t instanceof Point?new this.constructor(this.x-t.x,this.y-t.y):new this.constructor(this.x-t,this.y-t)},window.Point.prototype.multiplyBy=function(t){return this.debugIfFloats(),t instanceof Point?new this.constructor(this.x*t.x,this.y*t.y):new this.constructor(this.x*t,this.y*t)},window.Point.prototype.divideBy=function(t){return this.debugIfFloats(),t instanceof Point?new this.constructor(this.x/t.x,this.y/t.y):new this.constructor(this.x/t,this.y/t)},window.Point.prototype.floorDivideBy=function(t){return this.debugIfFloats(),t instanceof Point?new this.constructor(Math.floor(this.x/t.x),Math.floor(this.y/t.y)):new this.constructor(Math.floor(this.x/t),Math.floor(this.y/t))},window.Point.prototype.toLocalCoordinatesOf=function(t){return new this.constructor(this.x-t.left(),this.y-t.top())},window.Point.prototype.r=function(){var t;return t=this.multiplyBy(this),Math.sqrt(t.x+t.y)},window.Point.prototype.degrees=function(){var t,e;return 0===this.x?this.y>=0?90:270:(t=this.y/this.x,e=Math.atan(t),this.x>=0?this.y>=0?radiansToDegrees(e):360+radiansToDegrees(e):180+radiansToDegrees(e))},window.Point.prototype.theta=function(){var t,e;return 0===this.x?this.y>=0?degreesToRadians(90):degreesToRadians(270):(t=this.y/this.x,e=Math.atan(t),this.x>=0?this.y>=0?e:degreesToRadians(360)+e:degreesToRadians(180)+e)},window.Point.prototype.distanceTo=function(t){return t.subtract(this).r()},window.Point.prototype.rotate=function(t,e){var n;return n=this.subtract(e),"right"===t?new this.constructor(-n.y,n.y).add(e):"left"===t?new this.constructor(n.y,-n.y).add(e):e.subtract(n)},window.Point.prototype.flip=function(t,e){return"vertical"===t?new this.constructor(this.x,2*e.y-this.y):new this.constructor(2*e.x-this.x,this.y)},window.Point.prototype.distanceAngle=function(t,e){var n,o,i;return(n=e)>270?n-=360:n<-270&&(n+=360),-90<=n&&n<=90?(o=Math.sin(degreesToRadians(n))*t,i=Math.sqrt(t*t-o*o),new this.constructor(o+this.x,this.y-i)):(o=Math.sin(degreesToRadians(180-n))*t,i=Math.sqrt(t*t-o*o),new this.constructor(o+this.x,this.y+i))},window.Point.prototype.scaleBy=function(t){return this.multiplyBy(t)},window.Point.prototype.translateBy=function(t){return this.add(t)},window.Point.prototype.rotateBy=function(t,e=new this.constructor(0,0)){var n,o,i;return o=(n=this.subtract(e)).r(),i=t-n.theta(),new this.constructor(e.x+o*Math.cos(i),e.y-o*Math.sin(i))},window.Point.prototype.asArray=function(){return[this.x,this.y]},window.Point.prototype.corner=function(t){return new Rectangle(this.x,this.y,t.x,t.y)},window.Point.prototype.rectangle=function(t){var e,n;return n=this.min(t),e=this.max(t),new Rectangle(n.x,n.y,e.x,e.y)},window.Point.prototype.extent=function(t){var e;return e=this.add(t),new Rectangle(this.x,this.y,e.x,e.y)},window.Point.instances=new Set,"function"==typeof window.Point.initStaticConstsAfterClassDefinition&&window.Point.initStaticConstsAfterClassDefinition(),window.IconAppearance=function(){window.IconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IconAppearance,"name",{value:"IconAppearance"}),window.IconAppearance.__super__=window.Appearance.prototype,window.IconAppearance=extend(window.IconAppearance,window.Appearance),window.IconAppearance.prototype.preferredSize=new Point(200,200),window.IconAppearance.prototype.specificationSize=new Point(200,200),window.IconAppearance.prototype.paintFunction=function(t){var e;return e=this.color,t.beginPath(),t.moveTo(100.5,7),t.bezierCurveTo(50.05,7,9,48.04,9,98.5),t.bezierCurveTo(9,148.95,50.05,190,100.5,190),t.bezierCurveTo(150.95,190,192,148.95,192,98.5),t.bezierCurveTo(192,48.04,150.95,7,100.5,7),t.closePath(),t.moveTo(100.5,20.39),t.bezierCurveTo(143.72,20.39,178.61,55.28,178.61,98.5),t.bezierCurveTo(178.61,141.72,143.72,176.61,100.5,176.61),t.bezierCurveTo(57.28,176.61,22.39,141.72,22.39,98.5),t.bezierCurveTo(22.39,55.28,57.28,20.39,100.5,20.39),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.IconAppearance.prototype.calculateRectangleOfIcon=function(){var t,e,n,o,i,r,s,a,l;return t=this.morph.height(),l=this.morph.width(),a=Math.abs(l/this.preferredSize.width()),s=Math.abs(t/this.preferredSize.height()),s=a=Math.min(a,s),o=(e=new Rectangle(Math.min(0,this.preferredSize.width()),Math.min(0,this.preferredSize.height()),Math.abs(this.preferredSize.width()),Math.abs(this.preferredSize.height()))).width()*a,n=e.height()*s,i=this.morph.left()+(l-o)/2,r=this.morph.top()+(t-n)/2,(e=new Rectangle(i,r,i+o,r+n)).round()},window.IconAppearance.prototype.widthWithoutSpacing=function(){return this.calculateRectangleOfIcon().width()},window.IconAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.morph.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.morph.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,t.useLogicalPixelsUntilRestore(),a=this.calculateRectangleOfIcon(),t.translate(a.left(),a.top()),t.scale(a.width()/this.preferredSize.width(),a.height()/this.preferredSize.height()),t.scale(this.preferredSize.width()/this.specificationSize.width(),this.preferredSize.height()/this.specificationSize.height()),this.paintFunction(t),t.restore())},window.IconAppearance.prototype.oval=function(t,e,n,o,i){t.save(),t.beginPath(),t.translate(e,n),t.scale(o/2,i/2),t.arc(1,1,1,0,2*Math.PI),t.closePath(),t.restore()},window.IconAppearance.prototype.arc=function(t,e,n,o,i,r,s,a){t.save(),t.beginPath(),t.translate(e,n),t.scale(o/2,i/2),t.arc(1,1,1,Math.PI/180*r,Math.PI/180*s),a&&(t.lineTo(1,1),t.closePath()),t.restore()},window.IconAppearance.instances=new Set,"function"==typeof window.IconAppearance.initStaticConstsAfterClassDefinition&&window.IconAppearance.initStaticConstsAfterClassDefinition(),window.IncreaseFontSizeIconAppearance=function(t){this.morph=t,IncreaseFontSizeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IncreaseFontSizeIconAppearance,"name",{value:"IncreaseFontSizeIconAppearance"}),window.IncreaseFontSizeIconAppearance.__super__=window.IconAppearance.prototype,window.IncreaseFontSizeIconAppearance=extend(window.IncreaseFontSizeIconAppearance,window.IconAppearance),window.IncreaseFontSizeIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(37.91,19.09),t.bezierCurveTo(37.42,17.84,36.06,17,34.52,17),t.bezierCurveTo(32.98,17,31.62,17.84,31.13,19.09),t.lineTo(9.41,74.96),t.bezierCurveTo(8.79,76.56,9.8,78.3,11.67,78.84),t.bezierCurveTo(13.55,79.38,15.56,78.51,16.19,76.9),t.lineTo(20.88,64.84),t.lineTo(47.93,64.84),t.bezierCurveTo(48.01,64.84,48.07,64.8,48.14,64.8),t.lineTo(52.85,76.9),t.bezierCurveTo(53.35,78.19,54.74,79,56.23,79),t.bezierCurveTo(56.61,79,56.99,78.95,57.36,78.84),t.bezierCurveTo(59.23,78.3,60.24,76.57,59.62,74.97),t.lineTo(37.91,19.09),t.closePath(),t.moveTo(23.26,58.71),t.lineTo(34.52,29.74),t.lineTo(45.78,58.71),t.lineTo(23.26,58.71),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(91.5,56.79),t.lineTo(74.97,40.34),t.lineTo(58.44,56.79),t.lineTo(91.5,56.79),t.closePath(),t.fillStyle=e,t.fill()},window.IncreaseFontSizeIconAppearance.instances=new Set,"function"==typeof window.IncreaseFontSizeIconAppearance.initStaticConstsAfterClassDefinition&&window.IncreaseFontSizeIconAppearance.initStaticConstsAfterClassDefinition(),window.IncreaseFontSizeIconWdgt=function(t){this.color=t,IncreaseFontSizeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new IncreaseFontSizeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IncreaseFontSizeIconWdgt,"name",{value:"IncreaseFontSizeIconWdgt"}),window.IncreaseFontSizeIconWdgt.__super__=window.IconMorph.prototype,window.IncreaseFontSizeIconWdgt=extend(window.IncreaseFontSizeIconWdgt,window.IconMorph),window.IncreaseFontSizeIconWdgt.instances=new Set,"function"==typeof window.IncreaseFontSizeIconWdgt.initStaticConstsAfterClassDefinition&&window.IncreaseFontSizeIconWdgt.initStaticConstsAfterClassDefinition(),window.InternalIconAppearance=function(t){this.morph=t,InternalIconAppearance.__super__.constructor.apply(this,arguments),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.InternalIconAppearance,"name",{value:"InternalIconAppearance"}),window.InternalIconAppearance.__super__=window.IconAppearance.prototype,window.InternalIconAppearance=extend(window.InternalIconAppearance,window.IconAppearance),window.InternalIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(3,66),t.lineTo(15,66),t.lineTo(15,72.56),t.bezierCurveTo(15,80.02,20.97,85.08,28.46,85.08),t.lineTo(71.54,85.08),t.bezierCurveTo(79.03,85.08,85.12,79.02,85.12,71.56),t.lineTo(85.12,27.43),t.bezierCurveTo(85.12,19.97,79.03,13.91,71.54,13.91),t.lineTo(28.46,13.91),t.bezierCurveTo(20.97,13.91,15,18.97,15,26.43),t.lineTo(15,33),t.lineTo(3,33),t.lineTo(3,26.43),t.bezierCurveTo(3,12.46,14.42,2.08,28.46,2.08),t.lineTo(71.54,2.08),t.bezierCurveTo(85.57,2.08,97,13.46,97,27.43),t.lineTo(97,71.56),t.bezierCurveTo(97,85.54,85.57,96.92,71.54,96.92),t.lineTo(28.46,96.92),t.bezierCurveTo(14.42,96.92,3,86.54,3,72.56),t.lineTo(3,66),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.moveTo(75.62,55.11),t.lineTo(43.42,55.11),t.lineTo(43.42,73.92),t.lineTo(9.44,49.19),t.lineTo(43.42,24.48),t.lineTo(43.42,43.29),t.lineTo(75.62,43.29),t.lineTo(75.62,55.11),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.InternalIconAppearance.instances=new Set,"function"==typeof window.InternalIconAppearance.initStaticConstsAfterClassDefinition&&window.InternalIconAppearance.initStaticConstsAfterClassDefinition(),window.InternalIconMorph=function(t){this.color=t,InternalIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new InternalIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.InternalIconMorph,"name",{value:"InternalIconMorph"}),window.InternalIconMorph.__super__=window.IconMorph.prototype,window.InternalIconMorph=extend(window.InternalIconMorph,window.IconMorph),window.InternalIconMorph.instances=new Set,"function"==typeof window.InternalIconMorph.initStaticConstsAfterClassDefinition&&window.InternalIconMorph.initStaticConstsAfterClassDefinition(),window.ItalicIconAppearance=function(t){this.morph=t,ItalicIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ItalicIconAppearance,"name",{value:"ItalicIconAppearance"}),window.ItalicIconAppearance.__super__=window.IconAppearance.prototype,window.ItalicIconAppearance=extend(window.ItalicIconAppearance,window.IconAppearance),window.ItalicIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(37.67,4),t.lineTo(37.67,13.56),t.lineTo(51.84,13.56),t.bezierCurveTo(53.54,13.56,52.14,15.67,52.14,17.34),t.lineTo(33.06,83.66),t.bezierCurveTo(32.5,85.33,30.86,85.44,29.16,85.44),t.lineTo(16,85.44),t.lineTo(16,95),t.lineTo(64.33,95),t.lineTo(64.33,85.44),t.lineTo(51.16,85.44),t.bezierCurveTo(49.46,85.44,48.86,85.33,48.86,83.66),t.lineTo(68.94,15.34),t.bezierCurveTo(69.5,13.67,71.13,13.56,72.83,13.56),t.lineTo(86,13.56),t.lineTo(86,4),t.lineTo(37.67,4),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(40,6),t.lineTo(40,11.44),t.lineTo(53.75,11.44),t.bezierCurveTo(55.4,11.44,55.98,12.52,55.98,14.16),t.lineTo(35.53,84.84),t.bezierCurveTo(34.98,86.48,33.4,87.56,31.75,87.56),t.lineTo(18,87.56),t.lineTo(18,93),t.lineTo(62,93),t.lineTo(62,87.56),t.lineTo(48.25,87.56),t.bezierCurveTo(46.6,87.56,46.01,86.48,46.01,84.84),t.lineTo(66.47,14.16),t.bezierCurveTo(67.02,12.52,68.6,11.44,70.25,11.44),t.lineTo(84,11.44),t.lineTo(84,6),t.lineTo(40,6),t.closePath(),t.fillStyle=e,t.fill()},window.ItalicIconAppearance.instances=new Set,"function"==typeof window.ItalicIconAppearance.initStaticConstsAfterClassDefinition&&window.ItalicIconAppearance.initStaticConstsAfterClassDefinition(),window.ItalicIconWdgt=function(t){this.color=t,ItalicIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ItalicIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ItalicIconWdgt,"name",{value:"ItalicIconWdgt"}),window.ItalicIconWdgt.__super__=window.IconMorph.prototype,window.ItalicIconWdgt=extend(window.ItalicIconWdgt,window.IconMorph),window.ItalicIconWdgt.instances=new Set,"function"==typeof window.ItalicIconWdgt.initStaticConstsAfterClassDefinition&&window.ItalicIconWdgt.initStaticConstsAfterClassDefinition(),window.LittleUSAIconAppearance=function(t){this.morph=t,LittleUSAIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LittleUSAIconAppearance,"name",{value:"LittleUSAIconAppearance"}),window.LittleUSAIconAppearance.__super__=window.IconAppearance.prototype,window.LittleUSAIconAppearance=extend(window.LittleUSAIconAppearance,window.IconAppearance),window.LittleUSAIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(96.16,27.93),t.lineTo(91.98,24.05),t.lineTo(90.7,24.59),t.lineTo(87.81,30.51),t.lineTo(82.78,32.02),t.lineTo(73.37,40.43),t.lineTo(72.08,39.78),t.lineTo(69.3,32.78),t.lineTo(60.1,28.03),t.lineTo(59.89,27.93),t.lineTo(50.36,25.88),t.lineTo(50.26,25.88),t.lineTo(8.64,22),t.lineTo(3.5,39.35),t.lineTo(6.07,52.92),t.lineTo(12.59,60.36),t.lineTo(27.36,66.29),t.lineTo(31.1,66.29),t.lineTo(36.56,71.89),t.lineTo(39.99,70.92),t.lineTo(47.05,78.35),t.lineTo(54.43,71.46),t.lineTo(62.88,71.78),t.lineTo(64.7,69.52),t.lineTo(73.58,69.09),t.lineTo(79.79,78.57),t.lineTo(80.64,79),t.lineTo(83.53,78.89),t.lineTo(84.07,77.71),t.lineTo(79.79,67.04),t.lineTo(88.03,54.65),t.lineTo(86.42,49.48),t.lineTo(88.13,41.93),t.lineTo(93.7,38.05),t.lineTo(92.73,33.53),t.lineTo(96.16,27.93),t.closePath(),t.strokeStyle=e,t.lineWidth=3,t.miterLimit=4,t.stroke()},window.LittleUSAIconAppearance.instances=new Set,"function"==typeof window.LittleUSAIconAppearance.initStaticConstsAfterClassDefinition&&window.LittleUSAIconAppearance.initStaticConstsAfterClassDefinition(),window.LittleUSAIconWdgt=function(t){this.color=t,LittleUSAIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new LittleUSAIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LittleUSAIconWdgt,"name",{value:"LittleUSAIconWdgt"}),window.LittleUSAIconWdgt.__super__=window.IconMorph.prototype,window.LittleUSAIconWdgt=extend(window.LittleUSAIconWdgt,window.IconMorph),window.LittleUSAIconWdgt.instances=new Set,"function"==typeof window.LittleUSAIconWdgt.initStaticConstsAfterClassDefinition&&window.LittleUSAIconWdgt.initStaticConstsAfterClassDefinition(),window.LittleWorldIconAppearance=function(t){this.morph=t,LittleWorldIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LittleWorldIconAppearance,"name",{value:"LittleWorldIconAppearance"}),window.LittleWorldIconAppearance.__super__=window.IconAppearance.prototype,window.LittleWorldIconAppearance=extend(window.LittleWorldIconAppearance,window.IconAppearance),window.LittleWorldIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(62,10),t.lineTo(65,15),t.lineTo(75,19),t.lineTo(73,22),t.lineTo(78,30),t.lineTo(78,44),t.lineTo(81,55),t.lineTo(89,52),t.lineTo(90,48),t.lineTo(93,52),t.strokeStyle=e,t.lineWidth=3.5,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(43,10),t.lineTo(48.2,15.8),t.lineTo(50.5,18.3),t.lineTo(50.2,20.7),t.lineTo(46.6,21.8),t.lineTo(46.4,21.8),t.lineTo(39.3,24.6),t.lineTo(34.1,34.3),t.lineTo(27.8,33),t.lineTo(24.7,36.1),t.lineTo(26.6,38.5),t.lineTo(31.5,43.3),t.lineTo(33.3,43),t.lineTo(41.3,42.7),t.lineTo(44.7,43.9),t.lineTo(48,47),t.lineTo(55.1,47),t.lineTo(57.1,49.1),t.lineTo(61.1,52.1),t.lineTo(65,54.4),t.lineTo(66.7,58.6),t.lineTo(61.4,68.3),t.lineTo(57.7,71.6),t.lineTo(54.2,77.8),t.lineTo(51,79.5),t.lineTo(47.9,81.3),t.lineTo(48,85.8),t.lineTo(45,88.8),t.lineTo(42.8,75.5),t.lineTo(42.5,69.1),t.lineTo(38.9,65.7),t.lineTo(35.9,62),t.lineTo(34.9,56.1),t.lineTo(34.6,52.8),t.lineTo(31.8,50),t.lineTo(28.4,48.8),t.lineTo(23.5,45),t.lineTo(20.4,43.7),t.lineTo(13.9,36.6),t.lineTo(14,26),t.strokeStyle=e,t.lineWidth=3.5,t.miterLimit=4,t.lineCap="round",t.lineJoin="round",t.stroke(),this.oval(t,6,7,87,87),t.strokeStyle=e,t.lineWidth=3.5,t.stroke()},window.LittleWorldIconAppearance.instances=new Set,"function"==typeof window.LittleWorldIconAppearance.initStaticConstsAfterClassDefinition&&window.LittleWorldIconAppearance.initStaticConstsAfterClassDefinition(),window.LittleWorldIconWdgt=function(t){this.color=t,LittleWorldIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new LittleWorldIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LittleWorldIconWdgt,"name",{value:"LittleWorldIconWdgt"}),window.LittleWorldIconWdgt.__super__=window.IconMorph.prototype,window.LittleWorldIconWdgt=extend(window.LittleWorldIconWdgt,window.IconMorph),window.LittleWorldIconWdgt.instances=new Set,"function"==typeof window.LittleWorldIconWdgt.initStaticConstsAfterClassDefinition&&window.LittleWorldIconWdgt.initStaticConstsAfterClassDefinition(),window.MapPinIconAppearance=function(t){this.morph=t,MapPinIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(70,100),this.specificationSize=new Point(70,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MapPinIconAppearance,"name",{value:"MapPinIconAppearance"}),window.MapPinIconAppearance.__super__=window.IconAppearance.prototype,window.MapPinIconAppearance=extend(window.MapPinIconAppearance,window.IconAppearance),window.MapPinIconAppearance.prototype.paintFunction=function(t){return"rgb(255, 0, 0)",t.beginPath(),t.moveTo(35,3.5),t.bezierCurveTo(18,3.5,4.2,16.69,4.2,32.94),t.bezierCurveTo(4.2,37.95,5.48,42.65,7.73,46.74),t.bezierCurveTo(14.36,58.8,35,95.9,35,95.9),t.lineTo(62.06,46.94),t.bezierCurveTo(62.06,46.84,65.8,37.74,65.8,32.94),t.bezierCurveTo(65.8,16.69,52,3.5,35,3.5),t.closePath(),t.moveTo(35,40.24),t.bezierCurveTo(30.16,40.12,28.29,37.8,28.25,33.21),t.bezierCurveTo(28.21,28.62,31.13,26.59,35,26.55),t.bezierCurveTo(38.87,26.5,41.79,29.58,41.75,33.21),t.bezierCurveTo(41.71,36.84,39.84,40.36,35,40.24),t.closePath(),t.fillStyle="rgb(170, 170, 170)",t.fill(),t.beginPath(),t.moveTo(35,6.79),t.bezierCurveTo(20.07,6.79,7.96,18.9,7.96,33.83),t.bezierCurveTo(7.96,38.43,9.08,42.75,11.05,46.51),t.bezierCurveTo(16.88,57.59,35,91.67,35,91.67),t.bezierCurveTo(35,91.67,52.84,57.87,58.76,46.79),t.lineTo(58.76,46.7),t.bezierCurveTo(58.76,46.6,58.85,46.6,58.85,46.51),t.bezierCurveTo(58.95,46.41,58.95,46.32,59.04,46.13),t.bezierCurveTo(60.92,42.47,62.04,38.24,62.04,33.83),t.bezierCurveTo(62.04,18.9,49.93,6.79,35,6.79),t.closePath(),t.moveTo(35,43.22),t.bezierCurveTo(29.84,43.22,25.61,39,25.61,33.83),t.bezierCurveTo(25.61,28.67,29.84,24.44,35,24.44),t.bezierCurveTo(40.16,24.44,44.39,28.67,44.39,33.83),t.bezierCurveTo(44.39,39,40.16,43.22,35,43.22),t.closePath(),t.fillStyle="rgb(255, 0, 0)",t.fill()},window.MapPinIconAppearance.instances=new Set,"function"==typeof window.MapPinIconAppearance.initStaticConstsAfterClassDefinition&&window.MapPinIconAppearance.initStaticConstsAfterClassDefinition(),window.MapPinIconWdgt=function(t){this.color=t,MapPinIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new MapPinIconAppearance(this),this.toolTipMessage="map pin","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MapPinIconWdgt,"name",{value:"MapPinIconWdgt"}),window.MapPinIconWdgt.__super__=window.IconMorph.prototype,window.MapPinIconWdgt=extend(window.MapPinIconWdgt,window.IconMorph),window.MapPinIconWdgt.instances=new Set,"function"==typeof window.MapPinIconWdgt.initStaticConstsAfterClassDefinition&&window.MapPinIconWdgt.initStaticConstsAfterClassDefinition(),window.ObjectIconAppearance=function(t){this.morph=t,ObjectIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ObjectIconAppearance,"name",{value:"ObjectIconAppearance"}),window.ObjectIconAppearance.__super__=window.IconAppearance.prototype,window.ObjectIconAppearance=extend(window.ObjectIconAppearance,window.IconAppearance),window.ObjectIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(85.5,20.73),t.lineTo(68.35,3.5),t.bezierCurveTo(68.03,3.18,67.6,3,67.14,3),t.lineTo(15.71,3),t.bezierCurveTo(14.77,3,14,3.77,14,4.72),t.lineTo(14,94.28),t.bezierCurveTo(14,95.23,14.77,96,15.71,96),t.lineTo(84.29,96),t.bezierCurveTo(85.23,96,86,95.23,86,94.28),t.lineTo(86,21.94),t.bezierCurveTo(86,21.49,85.82,21.05,85.5,20.73),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(83.64,22.31),t.lineTo(67.62,6.32),t.bezierCurveTo(67.32,6.01,66.91,5.85,66.49,5.85),t.lineTo(18.44,5.85),t.bezierCurveTo(17.56,5.85,16.84,6.56,16.84,7.45),t.lineTo(16.84,90.6),t.bezierCurveTo(16.84,91.49,17.56,92.2,18.44,92.2),t.lineTo(82.5,92.2),t.bezierCurveTo(83.39,92.2,84.11,91.49,84.11,90.6),t.lineTo(84.11,23.44),t.bezierCurveTo(84.11,23.01,83.94,22.61,83.64,22.31),t.closePath(),t.moveTo(68.09,11.31),t.lineTo(78.64,21.84),t.lineTo(68.09,21.84),t.lineTo(68.09,11.31),t.closePath(),t.moveTo(20.05,89.01),t.lineTo(20.05,9.05),t.lineTo(64.89,9.05),t.lineTo(64.89,23.44),t.bezierCurveTo(64.89,24.32,65.6,25.04,66.49,25.04),t.lineTo(80.9,25.04),t.lineTo(80.9,89.01),t.lineTo(20.05,89.01),t.closePath(),t.fillStyle=e,t.fill()},window.ObjectIconAppearance.instances=new Set,"function"==typeof window.ObjectIconAppearance.initStaticConstsAfterClassDefinition&&window.ObjectIconAppearance.initStaticConstsAfterClassDefinition(),window.ObjectIconWdgt=function(t){this.color=t,ObjectIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ObjectIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ObjectIconWdgt,"name",{value:"ObjectIconWdgt"}),window.ObjectIconWdgt.__super__=window.IconMorph.prototype,window.ObjectIconWdgt=extend(window.ObjectIconWdgt,window.IconMorph),window.ObjectIconWdgt.instances=new Set,"function"==typeof window.ObjectIconWdgt.initStaticConstsAfterClassDefinition&&window.ObjectIconWdgt.initStaticConstsAfterClassDefinition(),window.PaintBucketIconAppearance=function(t){this.morph=t,PaintBucketIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PaintBucketIconAppearance,"name",{value:"PaintBucketIconAppearance"}),window.PaintBucketIconAppearance.__super__=window.IconAppearance.prototype,window.PaintBucketIconAppearance=extend(window.PaintBucketIconAppearance,window.IconAppearance),window.PaintBucketIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(82.94,30.28),t.lineTo(82.94,22.75),t.bezierCurveTo(82.94,22.54,82.94,22.34,82.94,22.23),t.bezierCurveTo(82.94,14.29,66.23,10,50.47,10),t.bezierCurveTo(34.71,10,18,14.29,18,22.23),t.bezierCurveTo(18,22.44,18,22.65,18,22.75),t.lineTo(18,80.46),t.bezierCurveTo(18,80.56,18,80.66,18,80.77),t.bezierCurveTo(18,88.71,34.71,93,50.47,93),t.bezierCurveTo(66.23,93,82.94,88.71,82.94,80.77),t.bezierCurveTo(82.94,80.66,82.94,80.56,82.94,80.46),t.lineTo(82.94,71.94),t.bezierCurveTo(84.74,72.36,86.33,72.57,87.81,72.57),t.bezierCurveTo(90.98,72.57,93.52,70.73,95.32,68.96),t.bezierCurveTo(101.56,62.79,96.69,47.63,82.94,30.28),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(80.88,31.06),t.lineTo(80.88,23.98),t.bezierCurveTo(80.88,23.79,80.88,23.59,80.88,23.49),t.bezierCurveTo(80.88,16.03,65.22,12,50.44,12),t.bezierCurveTo(35.67,12,20,16.03,20,23.49),t.bezierCurveTo(20,23.69,20,23.89,20,23.98),t.lineTo(20,78.21),t.bezierCurveTo(20,78.31,20,78.41,20,78.51),t.bezierCurveTo(20,85.97,35.67,90,50.44,90),t.bezierCurveTo(65.22,90,80.88,85.97,80.88,78.51),t.bezierCurveTo(80.88,78.41,80.88,78.31,80.88,78.21),t.lineTo(80.88,69.27),t.bezierCurveTo(82.57,69.66,84.06,69.86,85.45,69.86),t.bezierCurveTo(88.42,69.86,90.8,69.08,92.49,67.41),t.bezierCurveTo(98.34,61.61,93.78,47.37,80.88,31.06),t.closePath(),t.moveTo(30.61,17.8),t.bezierCurveTo(35.87,15.93,43.01,14.95,50.54,14.95),t.bezierCurveTo(58.08,14.95,65.12,15.93,70.47,17.8),t.bezierCurveTo(74.84,19.27,77.61,21.23,77.91,23.1),t.lineTo(77.91,23.1),t.lineTo(77.91,23.69),t.bezierCurveTo(77.61,25.46,75.13,27.32,70.97,28.8),t.bezierCurveTo(65.51,26.93,58.18,25.95,50.54,25.95),t.bezierCurveTo(42.81,25.95,35.67,26.93,30.11,28.8),t.bezierCurveTo(28.23,28.11,26.74,27.32,25.55,26.54),t.lineTo(25.55,26.54),t.bezierCurveTo(24.56,25.85,23.47,24.87,23.27,23.69),t.lineTo(23.27,23.1),t.lineTo(23.27,23.1),t.bezierCurveTo(23.47,21.33,26.25,19.37,30.61,17.8),t.closePath(),t.moveTo(37.15,42.16),t.bezierCurveTo(37.15,40.78,35.37,39.21,33.19,39.21),t.bezierCurveTo(30.91,39.21,30.02,40.98,29.92,42.16),t.lineTo(29.92,60.92),t.bezierCurveTo(29.92,62.89,29.32,62.89,28.92,62.89),t.bezierCurveTo(28.63,62.89,27.73,62.89,27.73,60.92),t.lineTo(27.73,31.16),t.bezierCurveTo(30.71,32.34,34.38,33.32,38.44,33.91),t.bezierCurveTo(38.25,34.5,38.25,35.09,38.25,35.18),t.lineTo(38.25,49.53),t.bezierCurveTo(38.25,49.82,37.95,50.12,37.65,50.12),t.bezierCurveTo(37.35,50.12,37.06,49.82,37.06,49.53),t.lineTo(37.15,42.16),t.lineTo(37.15,42.16),t.closePath(),t.moveTo(42.41,31.45),t.bezierCurveTo(38.84,31.06,35.47,30.47,32.69,29.68),t.bezierCurveTo(37.75,28.31,44,27.52,50.54,27.52),t.bezierCurveTo(57.09,27.52,63.33,28.31,68.39,29.68),t.bezierCurveTo(63.43,31.06,57.19,31.84,50.54,31.84),t.bezierCurveTo(47.76,31.84,45.09,31.65,42.41,31.45),t.closePath(),t.moveTo(77.81,76.35),t.bezierCurveTo(76.62,77.92,74.04,79.49,70.37,80.67),t.bezierCurveTo(69.98,80.77,69.78,81.26,69.88,81.65),t.bezierCurveTo(69.98,81.94,70.27,82.14,70.57,82.14),t.bezierCurveTo(70.67,82.14,70.77,82.14,70.77,82.14),t.bezierCurveTo(73.74,81.16,76.12,79.88,77.71,78.6),t.lineTo(77.71,78.7),t.bezierCurveTo(77.61,80.57,74.84,82.53,70.27,84.11),t.bezierCurveTo(65.02,85.97,57.88,86.95,50.34,86.95),t.bezierCurveTo(42.81,86.95,35.77,85.97,30.41,84.11),t.bezierCurveTo(25.85,82.53,23.17,80.57,22.97,78.7),t.bezierCurveTo(22.97,78.6,22.97,78.6,22.97,78.51),t.bezierCurveTo(27.44,82.34,37.85,84.99,50.24,84.99),t.bezierCurveTo(51.14,84.99,52.13,84.99,53.02,84.99),t.bezierCurveTo(53.42,84.99,53.81,84.6,53.81,84.2),t.bezierCurveTo(53.81,83.81,53.42,83.42,53.02,83.42),t.bezierCurveTo(52.13,83.42,51.24,83.42,50.34,83.42),t.bezierCurveTo(36.16,83.42,25.95,80.08,23.07,76.35),t.lineTo(23.07,28.7),t.bezierCurveTo(23.07,28.7,23.17,28.7,23.17,28.8),t.bezierCurveTo(23.27,28.9,23.37,28.99,23.47,29.09),t.bezierCurveTo(23.97,29.49,24.66,30.27,24.66,30.76),t.lineTo(24.66,61.02),t.bezierCurveTo(24.66,64.07,26.35,66.03,28.92,66.03),t.bezierCurveTo(30.11,66.03,32.99,65.54,32.99,61.02),t.lineTo(32.99,42.36),t.bezierCurveTo(32.99,42.36,33.09,42.36,33.19,42.36),t.bezierCurveTo(33.58,42.36,33.88,42.55,34.08,42.65),t.lineTo(34.08,49.62),t.bezierCurveTo(34.08,51.59,35.77,53.26,37.75,53.26),t.bezierCurveTo(39.73,53.26,41.42,51.59,41.42,49.62),t.lineTo(41.42,35.28),t.bezierCurveTo(41.42,35.09,41.52,34.69,41.72,34.5),t.bezierCurveTo(41.82,34.4,42.01,34.4,42.21,34.4),t.lineTo(42.21,34.4),t.bezierCurveTo(44.89,34.69,47.76,34.79,50.54,34.79),t.bezierCurveTo(61.25,34.79,72.55,32.63,77.81,28.6),t.lineTo(77.81,65.05),t.bezierCurveTo(76.42,64.56,74.84,63.87,73.25,63.18),t.bezierCurveTo(64.52,58.96,54.71,51.69,45.48,42.55),t.bezierCurveTo(44.89,41.96,43.9,41.96,43.3,42.55),t.bezierCurveTo(42.71,43.14,42.71,44.12,43.3,44.71),t.bezierCurveTo(52.72,54.05,62.94,61.61,71.96,65.93),t.bezierCurveTo(74.04,66.91,76.03,67.7,77.81,68.29),t.lineTo(77.81,76.35),t.closePath(),t.moveTo(90.3,65.15),t.bezierCurveTo(88.52,66.91,85.25,67.21,80.88,66.13),t.lineTo(80.88,36.17),t.bezierCurveTo(85.35,42.26,88.62,48.15,90.4,53.16),t.bezierCurveTo(92.49,58.86,92.39,63.08,90.3,65.15),t.closePath(),t.fillStyle=e,t.fill()},window.PaintBucketIconAppearance.instances=new Set,"function"==typeof window.PaintBucketIconAppearance.initStaticConstsAfterClassDefinition&&window.PaintBucketIconAppearance.initStaticConstsAfterClassDefinition(),window.PaintBucketIconWdgt=function(t){this.color=t,PaintBucketIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new PaintBucketIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PaintBucketIconWdgt,"name",{value:"PaintBucketIconWdgt"}),window.PaintBucketIconWdgt.__super__=window.IconMorph.prototype,window.PaintBucketIconWdgt=extend(window.PaintBucketIconWdgt,window.IconMorph),window.PaintBucketIconWdgt.instances=new Set,"function"==typeof window.PaintBucketIconWdgt.initStaticConstsAfterClassDefinition&&window.PaintBucketIconWdgt.initStaticConstsAfterClassDefinition(),window.PatchProgrammingComponentsIconAppearance=function(t){this.morph=t,PatchProgrammingComponentsIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingComponentsIconAppearance,"name",{value:"PatchProgrammingComponentsIconAppearance"}),window.PatchProgrammingComponentsIconAppearance.__super__=window.IconAppearance.prototype,window.PatchProgrammingComponentsIconAppearance=extend(window.PatchProgrammingComponentsIconAppearance,window.IconAppearance),window.PatchProgrammingComponentsIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.rect(66.5,69.5,22,24),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(64.59,72.77),t.lineTo(60.59,72.77),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(64.59,89.5),t.lineTo(60.59,89.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,57.5,87.6,4,4),t.fillStyle=e,t.fill(),this.oval(t,57.5,70.7,4,4),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(94.05,72.77),t.lineTo(90.41,72.77),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(94.05,89.5),t.lineTo(90.41,89.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,93.5,87.5,4,4),t.fillStyle=e,t.fill(),this.oval(t,93.5,70.7,4,4),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(13.5,8.5,48,50),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(13.55,15.32),t.lineTo(5.82,15.32),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(13.16,50.17),t.lineTo(5.43,50.17),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,3.5,47.5,5,5),t.fillStyle=e,t.fill(),this.oval(t,3.5,12.5,5,5),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(68.41,15.32),t.lineTo(60.68,15.32),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(68.02,50.17),t.lineTo(60.3,50.17),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,66.5,47.5,5,5),t.fillStyle=e,t.fill(),this.oval(t,66.5,12.5,5,5),t.fillStyle=e,t.fill()},window.PatchProgrammingComponentsIconAppearance.instances=new Set,"function"==typeof window.PatchProgrammingComponentsIconAppearance.initStaticConstsAfterClassDefinition&&window.PatchProgrammingComponentsIconAppearance.initStaticConstsAfterClassDefinition(),window.PatchProgrammingComponentsIconWdgt=function(t){this.color=t,PatchProgrammingComponentsIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new PatchProgrammingComponentsIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingComponentsIconWdgt,"name",{value:"PatchProgrammingComponentsIconWdgt"}),window.PatchProgrammingComponentsIconWdgt.__super__=window.IconMorph.prototype,window.PatchProgrammingComponentsIconWdgt=extend(window.PatchProgrammingComponentsIconWdgt,window.IconMorph),window.PatchProgrammingComponentsIconWdgt.instances=new Set,"function"==typeof window.PatchProgrammingComponentsIconWdgt.initStaticConstsAfterClassDefinition&&window.PatchProgrammingComponentsIconWdgt.initStaticConstsAfterClassDefinition(),window.PatchProgrammingIconAppearance=function(t){this.morph=t,PatchProgrammingIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingIconAppearance,"name",{value:"PatchProgrammingIconAppearance"}),window.PatchProgrammingIconAppearance.__super__=window.IconAppearance.prototype,window.PatchProgrammingIconAppearance=extend(window.PatchProgrammingIconAppearance,window.IconAppearance),window.PatchProgrammingIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(87.54,18),t.lineTo(13.57,18),t.bezierCurveTo(10.05,18,7.12,20.67,7.12,23.87),t.lineTo(7,76.13),t.bezierCurveTo(7,79.33,9.94,82,13.46,82),t.lineTo(87.43,82),t.bezierCurveTo(90.95,82,93.88,79.33,93.88,76.13),t.lineTo(94,23.87),t.bezierCurveTo(94,20.67,91.06,18,87.54,18),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(85.84,20),t.lineTo(15.27,20),t.bezierCurveTo(11.91,20,9.11,22.5,9.11,25.5),t.lineTo(9,74.5),t.bezierCurveTo(9,77.5,11.8,80,15.16,80),t.lineTo(85.73,80),t.bezierCurveTo(89.09,80,91.89,77.5,91.89,74.5),t.lineTo(92,25.5),t.bezierCurveTo(92,22.5,89.2,20,85.84,20),t.closePath(),t.moveTo(88.53,74.5),t.bezierCurveTo(88.53,75.9,87.3,77,85.73,77),t.lineTo(15.16,77),t.bezierCurveTo(13.59,77,12.36,75.9,12.36,74.5),t.lineTo(12.47,25.5),t.bezierCurveTo(12.47,24.1,13.7,23,15.27,23),t.lineTo(85.84,23),t.bezierCurveTo(87.41,23,88.64,24.1,88.64,25.5),t.lineTo(88.53,74.5),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(30.43,50),t.lineTo(68.41,50),t.strokeStyle=e,t.lineWidth=3.5,t.lineCap="round",t.stroke(),this.oval(t,20,40,20,20),t.strokeStyle=e,t.lineWidth=3.5,t.stroke(),t.beginPath(),t.rect(59,40,20,20),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke()},window.PatchProgrammingIconAppearance.instances=new Set,"function"==typeof window.PatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition&&window.PatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition(),window.PatchProgrammingIconWdgt=function(t){this.color=t,PatchProgrammingIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new PatchProgrammingIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingIconWdgt,"name",{value:"PatchProgrammingIconWdgt"}),window.PatchProgrammingIconWdgt.__super__=window.IconMorph.prototype,window.PatchProgrammingIconWdgt=extend(window.PatchProgrammingIconWdgt,window.IconMorph),window.PatchProgrammingIconWdgt.instances=new Set,"function"==typeof window.PatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition&&window.PatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition(),window.Pencil2IconAppearance=function(){window.Pencil2IconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Pencil2IconAppearance,"name",{value:"Pencil2IconAppearance"}),window.Pencil2IconAppearance.__super__=window.IconAppearance.prototype,window.Pencil2IconAppearance=extend(window.Pencil2IconAppearance,window.IconAppearance),window.Pencil2IconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(130.06,5.85),t.lineTo(130.08,5.84),t.bezierCurveTo(129.08,6.22,128.25,6.92,127.7,7.83),t.lineTo(42.95,154.23),t.lineTo(42.94,154.24),t.bezierCurveTo(42.44,155.11,42.23,156.11,42.33,157.11),t.lineTo(45.8,189.26),t.lineTo(45.8,189.24),t.bezierCurveTo(46.07,191.86,48.42,193.75,51.04,193.48),t.bezierCurveTo(51.54,193.43,52.03,193.3,52.49,193.09),t.lineTo(82.12,179.94),t.lineTo(82.11,179.95),t.bezierCurveTo(83.01,179.57,83.77,178.92,84.29,178.09),t.lineTo(169.04,31.69),t.lineTo(169.06,31.67),t.bezierCurveTo(170.37,29.39,169.59,26.48,167.31,25.17),t.bezierCurveTo(167.28,25.15,167.26,25.14,167.24,25.13),t.lineTo(134.23,6.12),t.lineTo(134.25,6.13),t.bezierCurveTo(132.98,5.4,131.44,5.29,130.08,5.84),t.lineTo(130.06,5.85),t.closePath(),t.moveTo(133.54,16.77),t.lineTo(158.31,31.1),t.lineTo(152.4,41.3),t.lineTo(127.58,27.07),t.lineTo(133.54,16.77),t.closePath(),t.moveTo(122.79,35.35),t.lineTo(147.55,49.67),t.lineTo(76.8,171.9),t.lineTo(54.59,181.76),t.lineTo(52.03,157.57),t.lineTo(122.79,35.35),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.Pencil2IconAppearance.instances=new Set,"function"==typeof window.Pencil2IconAppearance.initStaticConstsAfterClassDefinition&&window.Pencil2IconAppearance.initStaticConstsAfterClassDefinition(),window.Pencil2IconMorph=function(t){this.color=t,Pencil2IconMorph.__super__.constructor.apply(this,arguments),this.appearance=new Pencil2IconAppearance(this),this.toolTipMessage="pencil","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Pencil2IconMorph,"name",{value:"Pencil2IconMorph"}),window.Pencil2IconMorph.__super__=window.IconMorph.prototype,window.Pencil2IconMorph=extend(window.Pencil2IconMorph,window.IconMorph),window.Pencil2IconMorph.instances=new Set,"function"==typeof window.Pencil2IconMorph.initStaticConstsAfterClassDefinition&&window.Pencil2IconMorph.initStaticConstsAfterClassDefinition(),window.PencilIconAppearance=function(){window.PencilIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PencilIconAppearance,"name",{value:"PencilIconAppearance"}),window.PencilIconAppearance.__super__=window.IconAppearance.prototype,window.PencilIconAppearance=extend(window.PencilIconAppearance,window.IconAppearance),window.PencilIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.save(),t.translate(90.18,101.32),t.rotate(13.16*Math.PI/180),t.beginPath(),t.moveTo(23.88,-86.27),t.lineTo(74.38,-51.12),t.lineTo(88.21,-73.65),t.lineTo(86.24,-90.9),t.lineTo(54.61,-112.65),t.lineTo(37.52,-108.5),t.lineTo(23.88,-86.27),t.closePath(),t.moveTo(16.57,-74.36),t.lineTo(67.23,-39.53),t.lineTo(-16.17,96.43),t.lineTo(-62.07,112.55),t.lineTo(-66.83,61.61),t.lineTo(16.57,-74.36),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.restore()},window.PencilIconAppearance.instances=new Set,"function"==typeof window.PencilIconAppearance.initStaticConstsAfterClassDefinition&&window.PencilIconAppearance.initStaticConstsAfterClassDefinition(),window.PencilIconMorph=function(t){this.color=t,PencilIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new PencilIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PencilIconMorph,"name",{value:"PencilIconMorph"}),window.PencilIconMorph.__super__=window.IconMorph.prototype,window.PencilIconMorph=extend(window.PencilIconMorph,window.IconMorph),window.PencilIconMorph.instances=new Set,"function"==typeof window.PencilIconMorph.initStaticConstsAfterClassDefinition&&window.PencilIconMorph.initStaticConstsAfterClassDefinition(),window.Plot3DIconAppearance=function(t){this.morph=t,Plot3DIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Plot3DIconAppearance,"name",{value:"Plot3DIconAppearance"}),window.Plot3DIconAppearance.__super__=window.IconAppearance.prototype,window.Plot3DIconAppearance=extend(window.Plot3DIconAppearance,window.IconAppearance),window.Plot3DIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(50.98,58.41),t.lineTo(50.98,30.88),t.bezierCurveTo(50.98,30.06,50.32,29.39,49.5,29.39),t.bezierCurveTo(48.68,29.39,48.02,30.06,48.02,30.88),t.lineTo(48.02,58.44),t.lineTo(21.92,77.36),t.bezierCurveTo(21.26,77.84,21.11,78.78,21.6,79.45),t.bezierCurveTo(22.07,80.12,23.01,80.27,23.67,79.79),t.lineTo(49.53,61.03),t.lineTo(76.85,79.81),t.bezierCurveTo(77.1,79.97,77.39,80.06,77.68,80.06),t.bezierCurveTo(78.16,80.06,78.62,79.84,78.91,79.4),t.bezierCurveTo(79.37,78.72,79.21,77.79,78.53,77.33),t.lineTo(50.98,58.41),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(48.02,19.57),t.lineTo(48.02,23.43),t.bezierCurveTo(48.02,24.25,48.68,24.92,49.5,24.92),t.bezierCurveTo(50.32,24.92,50.98,24.25,50.98,23.43),t.lineTo(50.98,19.57),t.lineTo(55,15.53),t.bezierCurveTo(55.58,14.95,55.58,14.01,55,13.43),t.bezierCurveTo(54.42,12.85,53.49,12.85,52.91,13.43),t.lineTo(49.5,16.86),t.lineTo(46.1,13.45),t.bezierCurveTo(45.52,12.87,44.59,12.87,44.01,13.45),t.bezierCurveTo(43.43,14.03,43.43,14.97,44.01,15.55),t.lineTo(48.02,19.57),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(90.16,83.04),t.lineTo(93.55,79.63),t.bezierCurveTo(94.13,79.05,94.13,78.11,93.55,77.53),t.bezierCurveTo(92.98,76.94,92.04,76.94,91.46,77.53),t.lineTo(88.07,80.94),t.lineTo(84.67,77.53),t.bezierCurveTo(84.09,76.94,83.16,76.94,82.58,77.53),t.bezierCurveTo(82,78.11,82,79.05,82.58,79.63),t.lineTo(85.97,83.04),t.lineTo(82.58,86.45),t.bezierCurveTo(82,87.03,82,87.97,82.58,88.55),t.bezierCurveTo(82.86,88.85,83.23,89,83.62,89),t.bezierCurveTo(84,89,84.37,88.85,84.67,88.57),t.lineTo(88.07,85.14),t.lineTo(91.46,88.55),t.bezierCurveTo(91.76,88.85,92.13,89,92.52,89),t.bezierCurveTo(92.9,89,93.27,88.85,93.57,88.57),t.bezierCurveTo(94.15,87.99,94.15,87.05,93.57,86.47),t.lineTo(90.16,83.04),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(16.75,79.14),t.bezierCurveTo(16.9,78.78,16.9,78.36,16.75,78),t.bezierCurveTo(16.6,77.64,16.3,77.35,15.95,77.2),t.bezierCurveTo(15.77,77.12,15.58,77.08,15.38,77.08),t.lineTo(6.48,77.08),t.bezierCurveTo(5.67,77.08,5,77.75,5,78.57),t.bezierCurveTo(5,79.39,5.67,80.06,6.48,80.06),t.lineTo(11.81,80.06),t.lineTo(5.44,86.45),t.bezierCurveTo(5.31,86.59,5.19,86.75,5.12,86.94),t.bezierCurveTo(4.97,87.3,4.97,87.72,5.12,88.08),t.bezierCurveTo(5.27,88.43,5.56,88.73,5.92,88.88),t.bezierCurveTo(6.1,88.96,6.29,89,6.48,89),t.lineTo(15.38,89),t.bezierCurveTo(16.2,89,16.87,88.33,16.87,87.51),t.bezierCurveTo(16.87,86.69,16.2,86.02,15.38,86.02),t.lineTo(10.06,86.02),t.lineTo(16.42,79.63),t.bezierCurveTo(16.57,79.49,16.67,79.31,16.75,79.14),t.closePath(),t.fillStyle=e,t.fill()},window.Plot3DIconAppearance.instances=new Set,"function"==typeof window.Plot3DIconAppearance.initStaticConstsAfterClassDefinition&&window.Plot3DIconAppearance.initStaticConstsAfterClassDefinition(),window.Plot3DIconWdgt=function(t){this.color=t,Plot3DIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new Plot3DIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Plot3DIconWdgt,"name",{value:"Plot3DIconWdgt"}),window.Plot3DIconWdgt.__super__=window.IconMorph.prototype,window.Plot3DIconWdgt=extend(window.Plot3DIconWdgt,window.IconMorph),window.Plot3DIconWdgt.instances=new Set,"function"==typeof window.Plot3DIconWdgt.initStaticConstsAfterClassDefinition&&window.Plot3DIconWdgt.initStaticConstsAfterClassDefinition(),window.ScatterPlotIconAppearance=function(t){this.morph=t,ScatterPlotIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScatterPlotIconAppearance,"name",{value:"ScatterPlotIconAppearance"}),window.ScatterPlotIconAppearance.__super__=window.IconAppearance.prototype,window.ScatterPlotIconAppearance=extend(window.ScatterPlotIconAppearance,window.IconAppearance),window.ScatterPlotIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(7,8),t.lineTo(11.25,8),t.lineTo(11.25,88.76),t.lineTo(92,88.76),t.lineTo(92,93),t.lineTo(7,93),t.lineTo(7,8),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,35,25,5,5),t.fillStyle=e,t.fill(),this.oval(t,18,39,5,5),t.fillStyle=e,t.fill(),this.oval(t,16,56,5,5),t.fillStyle=e,t.fill(),this.oval(t,15,69,5,5),t.fillStyle=e,t.fill(),this.oval(t,28,79,5,5),t.fillStyle=e,t.fill(),this.oval(t,39,73,5,5),t.fillStyle=e,t.fill(),this.oval(t,51,71,5,5),t.fillStyle=e,t.fill(),this.oval(t,66,74,5,5),t.fillStyle=e,t.fill(),this.oval(t,41,62,5,5),t.fillStyle=e,t.fill(),this.oval(t,36,49,5,5),t.fillStyle=e,t.fill(),this.oval(t,38,39,5,5),t.fillStyle=e,t.fill(),this.oval(t,51,34,5,5),t.fillStyle=e,t.fill(),this.oval(t,51,24,5,5),t.fillStyle=e,t.fill(),this.oval(t,51,54,5,5),t.fillStyle=e,t.fill(),this.oval(t,63,61,5,5),t.fillStyle=e,t.fill(),this.oval(t,72,50,5,5),t.fillStyle=e,t.fill(),this.oval(t,65,41,5,5),t.fillStyle=e,t.fill(),this.oval(t,85,41,5,5),t.fillStyle=e,t.fill(),this.oval(t,78,32,5,5),t.fillStyle=e,t.fill(),this.oval(t,85,23,5,5),t.fillStyle=e,t.fill(),this.oval(t,80,14,5,5),t.fillStyle=e,t.fill(),this.oval(t,69,17,5,5),t.fillStyle=e,t.fill()},window.ScatterPlotIconAppearance.instances=new Set,"function"==typeof window.ScatterPlotIconAppearance.initStaticConstsAfterClassDefinition&&window.ScatterPlotIconAppearance.initStaticConstsAfterClassDefinition(),window.ScatterPlotIconWdgt=function(t){this.color=t,ScatterPlotIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ScatterPlotIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScatterPlotIconWdgt,"name",{value:"ScatterPlotIconWdgt"}),window.ScatterPlotIconWdgt.__super__=window.IconMorph.prototype,window.ScatterPlotIconWdgt=extend(window.ScatterPlotIconWdgt,window.IconMorph),window.ScatterPlotIconWdgt.instances=new Set,"function"==typeof window.ScatterPlotIconWdgt.initStaticConstsAfterClassDefinition&&window.ScatterPlotIconWdgt.initStaticConstsAfterClassDefinition(),window.ScooterIconAppearance=function(t){this.morph=t,ScooterIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScooterIconAppearance,"name",{value:"ScooterIconAppearance"}),window.ScooterIconAppearance.__super__=window.IconAppearance.prototype,window.ScooterIconAppearance=extend(window.ScooterIconAppearance,window.IconAppearance),window.ScooterIconAppearance.prototype.paintFunction=function(t){return"rgb(0, 0, 0)",this.oval(t,10.5,136.5,34.5,34.5),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=10,t.stroke(),this.oval(t,154,135.5,34.5,34.5),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=10,t.stroke(),this.arc(t,141,123,57,57,176,268,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=7.5,t.stroke(),t.beginPath(),t.moveTo(171.5,153.5),t.lineTo(167,38),t.lineCap="round",t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=8,t.stroke(),t.beginPath(),t.moveTo(146.5,36.5),t.lineTo(190.5,36.5),t.lineCap="round",t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=7,t.stroke(),t.beginPath(),t.moveTo(28.5,153.5),t.lineTo(140.5,153.5),t.lineCap="round",t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=7,t.stroke()},window.ScooterIconAppearance.instances=new Set,"function"==typeof window.ScooterIconAppearance.initStaticConstsAfterClassDefinition&&window.ScooterIconAppearance.initStaticConstsAfterClassDefinition(),window.ScooterIconMorph=function(t){this.color=t,ScooterIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new ScooterIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScooterIconMorph,"name",{value:"ScooterIconMorph"}),window.ScooterIconMorph.__super__=window.IconMorph.prototype,window.ScooterIconMorph=extend(window.ScooterIconMorph,window.IconMorph),window.ScooterIconMorph.instances=new Set,"function"==typeof window.ScooterIconMorph.initStaticConstsAfterClassDefinition&&window.ScooterIconMorph.initStaticConstsAfterClassDefinition(),window.ScratchAreaIconAppearance=function(t){this.morph=t,ScratchAreaIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScratchAreaIconAppearance,"name",{value:"ScratchAreaIconAppearance"}),window.ScratchAreaIconAppearance.__super__=window.IconAppearance.prototype,window.ScratchAreaIconAppearance=extend(window.ScratchAreaIconAppearance,window.IconAppearance),window.ScratchAreaIconAppearance.prototype.paintFunction=function(t){var e;return e="rgb(0, 0, 0)",t.beginPath(),t.moveTo(40.5,118.5),t.lineTo(40.5,184.5),t.lineTo(145.5,184.5),t.lineTo(145.5,92.5),t.lineTo(40.5,92.5),t.lineTo(67.5,67.5),t.lineTo(78.5,67.5),t.lineCap="round",t.lineJoin="round",t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(146,185),t.lineTo(172.83,159.74),t.lineTo(172.29,102.66),t.lineTo(190,87),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(172.5,102.5),t.lineTo(161.5,112.5),t.strokeStyle=e,t.lineWidth=5.5,t.stroke(),t.beginPath(),t.moveTo(19.5,117.5),t.bezierCurveTo(127.5,117.5,127.5,117.5,127.5,117.5),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,128.5,94.5,33,49,180,273,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,22,93,33,49,180,273,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,135,93,26,49,266,355,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,162.5,67.5,26,49,266,355,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(103.5,67.5),t.lineTo(172,67.5),t.lineTo(146,92.5),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,-9.5,76,51,49,254,339,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,17,52.5,51,49,254,339,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(10,77),t.lineTo(37,53),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(65.5,68),t.lineTo(72,56),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(89.5,45.5),t.lineTo(105.5,45.5),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.moveTo(150.5,45.5),t.lineTo(188,45),t.lineCap="round",t.lineJoin="round",t.strokeStyle=e,t.lineWidth=4,t.stroke(),this.arc(t,171.5,45.5,33,49,180,273,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,92,80,18,18.5,181,0,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(83,59.5),t.lineTo(83.5,73.5),t.lineTo(98.5,73.5),t.lineTo(98,58),t.lineTo(83,59.5),t.closePath(),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),t.beginPath(),t.moveTo(106.5,39.5),t.lineTo(117.5,20.5),t.lineTo(139.5,20.5),t.lineTo(149.5,38.5),t.lineTo(138.5,57.5),t.lineTo(116.5,57.5),t.lineTo(106.5,39.5),t.closePath(),t.strokeStyle=e,t.lineWidth=4.5,t.stroke(),this.arc(t,64.5,27,22.5,23.5,181,180,!1),t.strokeStyle=e,t.lineWidth=4.5,t.stroke()},window.ScratchAreaIconAppearance.instances=new Set,"function"==typeof window.ScratchAreaIconAppearance.initStaticConstsAfterClassDefinition&&window.ScratchAreaIconAppearance.initStaticConstsAfterClassDefinition(),window.ScratchAreaIconMorph=function(t){this.color=t,ScratchAreaIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new ScratchAreaIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScratchAreaIconMorph,"name",{value:"ScratchAreaIconMorph"}),window.ScratchAreaIconMorph.__super__=window.IconMorph.prototype,window.ScratchAreaIconMorph=extend(window.ScratchAreaIconMorph,window.IconMorph),window.ScratchAreaIconMorph.instances=new Set,"function"==typeof window.ScratchAreaIconMorph.initStaticConstsAfterClassDefinition&&window.ScratchAreaIconMorph.initStaticConstsAfterClassDefinition(),window.ShortcutArrowIconAppearance=function(t){this.morph=t,ShortcutArrowIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ShortcutArrowIconAppearance,"name",{value:"ShortcutArrowIconAppearance"}),window.ShortcutArrowIconAppearance.__super__=window.IconAppearance.prototype,window.ShortcutArrowIconAppearance=extend(window.ShortcutArrowIconAppearance,window.IconAppearance),window.ShortcutArrowIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(81.16,4),t.lineTo(19.84,4),t.lineTo(19.84,4),t.bezierCurveTo(11.09,4,4,11.09,4,19.84),t.lineTo(4,81.16),t.lineTo(4,81.16),t.bezierCurveTo(4,89.91,11.09,97,19.84,97),t.lineTo(81.16,97),t.lineTo(81.16,97),t.bezierCurveTo(89.91,97,97,89.91,97,81.16),t.lineTo(97,19.84),t.lineTo(97,19.84),t.bezierCurveTo(97,11.09,89.91,4,81.16,4),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(78.82,7.72),t.lineTo(22.83,7.72),t.lineTo(22.83,7.72),t.bezierCurveTo(14.84,7.72,8.37,14.19,8.37,22.18),t.lineTo(8.37,78.17),t.lineTo(8.37,78.17),t.bezierCurveTo(8.37,86.16,14.84,92.63,22.83,92.63),t.lineTo(78.82,92.63),t.lineTo(78.82,92.63),t.bezierCurveTo(86.81,92.63,93.28,86.16,93.28,78.17),t.lineTo(93.28,22.18),t.lineTo(93.28,22.18),t.bezierCurveTo(93.28,14.19,86.81,7.72,78.82,7.72),t.closePath(),t.moveTo(85.39,78.17),t.lineTo(85.39,78.17),t.bezierCurveTo(85.39,81.8,82.45,84.74,78.82,84.74),t.lineTo(22.83,84.74),t.lineTo(22.83,84.74),t.bezierCurveTo(19.2,84.74,16.26,81.8,16.26,78.17),t.lineTo(16.26,22.18),t.lineTo(16.26,22.18),t.bezierCurveTo(16.26,18.55,19.2,15.61,22.83,15.61),t.lineTo(78.82,15.61),t.lineTo(78.82,15.61),t.bezierCurveTo(82.45,15.61,85.39,18.55,85.39,22.18),t.lineTo(85.39,78.17),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(57.22,52.5),t.bezierCurveTo(59.32,57.3,61.42,62.16,63.58,66.95),t.lineTo(80.52,33.87),t.lineTo(45.39,25.61),t.bezierCurveTo(47.85,31.09,49.05,33.87,51.45,39.37),t.bezierCurveTo(48.37,40.19,39.96,42.92,33.54,51.48),t.bezierCurveTo(24.46,63.49,26.53,77.54,26.9,79.91),t.bezierCurveTo(27.64,76.82,30.09,67.94,38.14,60.81),t.bezierCurveTo(45.79,54.01,54.12,52.78,57.22,52.5),t.closePath(),t.fillStyle=e,t.fill()},window.ShortcutArrowIconAppearance.instances=new Set,"function"==typeof window.ShortcutArrowIconAppearance.initStaticConstsAfterClassDefinition&&window.ShortcutArrowIconAppearance.initStaticConstsAfterClassDefinition(),window.ShortcutArrowIconWdgt=function(t){this.color=t,ShortcutArrowIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ShortcutArrowIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ShortcutArrowIconWdgt,"name",{value:"ShortcutArrowIconWdgt"}),window.ShortcutArrowIconWdgt.__super__=window.IconMorph.prototype,window.ShortcutArrowIconWdgt=extend(window.ShortcutArrowIconWdgt,window.IconMorph),window.ShortcutArrowIconWdgt.instances=new Set,"function"==typeof window.ShortcutArrowIconWdgt.initStaticConstsAfterClassDefinition&&window.ShortcutArrowIconWdgt.initStaticConstsAfterClassDefinition(),window.SimpleSlideIconAppearance=function(t){this.morph=t,SimpleSlideIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleSlideIconAppearance,"name",{value:"SimpleSlideIconAppearance"}),window.SimpleSlideIconAppearance.__super__=window.IconAppearance.prototype,window.SimpleSlideIconAppearance=extend(window.SimpleSlideIconAppearance,window.IconAppearance),window.SimpleSlideIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(87.54,18),t.lineTo(13.57,18),t.bezierCurveTo(10.05,18,7.12,20.67,7.12,23.87),t.lineTo(7,76.13),t.bezierCurveTo(7,79.33,9.94,82,13.46,82),t.lineTo(87.43,82),t.bezierCurveTo(90.95,82,93.88,79.33,93.88,76.13),t.lineTo(94,23.87),t.bezierCurveTo(94,20.67,91.06,18,87.54,18),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(16.86,33.6),t.lineTo(44.54,33.6),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(16.86,45.34),t.lineTo(44.54,45.34),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(16.86,56.08),t.lineTo(44.54,56.08),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(16.86,67.36),t.lineTo(44.54,67.36),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(53.77,56.08),t.lineTo(81.45,56.08),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(53.77,67.36),t.lineTo(81.45,67.36),t.strokeStyle=e,t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.rect(54,36,8,9.5),t.strokeStyle=e,t.lineWidth=1.5,t.lineJoin="round",t.stroke(),t.beginPath(),t.rect(65,33,7,12.5),t.strokeStyle=e,t.lineWidth=1.5,t.lineJoin="round",t.stroke(),t.beginPath(),t.rect(75,28,8,17.5),t.strokeStyle=e,t.lineWidth=1.5,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(85.84,20),t.lineTo(15.27,20),t.bezierCurveTo(11.91,20,9.11,22.5,9.11,25.5),t.lineTo(9,74.5),t.bezierCurveTo(9,77.5,11.8,80,15.16,80),t.lineTo(85.73,80),t.bezierCurveTo(89.09,80,91.89,77.5,91.89,74.5),t.lineTo(92,25.5),t.bezierCurveTo(92,22.5,89.2,20,85.84,20),t.closePath(),t.moveTo(88.53,74.5),t.bezierCurveTo(88.53,75.9,87.3,77,85.73,77),t.lineTo(15.16,77),t.bezierCurveTo(13.59,77,12.36,75.9,12.36,74.5),t.lineTo(12.47,25.5),t.bezierCurveTo(12.47,24.1,13.7,23,15.27,23),t.lineTo(85.84,23),t.bezierCurveTo(87.41,23,88.64,24.1,88.64,25.5),t.lineTo(88.53,74.5),t.closePath(),t.fillStyle=e,t.fill()},window.SimpleSlideIconAppearance.instances=new Set,"function"==typeof window.SimpleSlideIconAppearance.initStaticConstsAfterClassDefinition&&window.SimpleSlideIconAppearance.initStaticConstsAfterClassDefinition(),window.SimpleSlideIconWdgt=function(t){this.color=t,SimpleSlideIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SimpleSlideIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleSlideIconWdgt,"name",{value:"SimpleSlideIconWdgt"}),window.SimpleSlideIconWdgt.__super__=window.IconMorph.prototype,window.SimpleSlideIconWdgt=extend(window.SimpleSlideIconWdgt,window.IconMorph),window.SimpleSlideIconWdgt.instances=new Set;"function"==typeof window.SimpleSlideIconWdgt.initStaticConstsAfterClassDefinition&&window.SimpleSlideIconWdgt.initStaticConstsAfterClassDefinition(),window.SliderNodeIconWdgt=function(t){this.color=t,SliderNodeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SliderNodeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SliderNodeIconWdgt,"name",{value:"SliderNodeIconWdgt"}),window.SliderNodeIconWdgt.__super__=window.IconMorph.prototype,window.SliderNodeIconWdgt=extend(window.SliderNodeIconWdgt,window.IconMorph),window.SliderNodeIconWdgt.instances=new Set,"function"==typeof window.SliderNodeIconWdgt.initStaticConstsAfterClassDefinition&&window.SliderNodeIconWdgt.initStaticConstsAfterClassDefinition(),window.SliderNodeIconAppearance=function(t){this.morph=t,SliderNodeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SliderNodeIconAppearance,"name",{value:"SliderNodeIconAppearance"}),window.SliderNodeIconAppearance.__super__=window.IconAppearance.prototype,window.SliderNodeIconAppearance=extend(window.SliderNodeIconAppearance,window.IconAppearance),window.SliderNodeIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(60.64,82.46),t.lineTo(60.64,18),t.bezierCurveTo(60.64,11.58,55.42,6.37,49,6.37),t.bezierCurveTo(42.59,6.37,37.37,11.58,37.37,18),t.bezierCurveTo(37.37,18.12,37.38,18.24,37.38,18.36),t.lineTo(37.39,81.96),t.lineTo(37.38,82.1),t.bezierCurveTo(37.38,82.22,37.37,82.34,37.37,82.46),t.bezierCurveTo(37.37,88.87,42.59,94.09,49,94.09),t.bezierCurveTo(55.42,94.09,60.64,88.87,60.64,82.46),t.closePath(),t.moveTo(40.37,82.46),t.bezierCurveTo(40.37,82.4,40.37,82.35,40.38,82.3),t.lineTo(40.39,82.01),t.lineTo(40.39,18.4),t.lineTo(40.38,18.16),t.bezierCurveTo(40.37,18.11,40.37,18.06,40.37,18),t.bezierCurveTo(40.37,13.24,44.24,9.37,49,9.37),t.bezierCurveTo(53.76,9.37,57.64,13.24,57.64,18),t.lineTo(57.64,82.46),t.bezierCurveTo(57.64,87.22,53.76,91.09,49,91.09),t.bezierCurveTo(44.24,91.09,40.37,87.22,40.37,82.46),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,42,57,14,14),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(60,50),t.lineTo(69,50),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,67.5,47,6,6),t.fillStyle=e,t.fill()},window.SliderNodeIconAppearance.instances=new Set,"function"==typeof window.SliderNodeIconAppearance.initStaticConstsAfterClassDefinition&&window.SliderNodeIconAppearance.initStaticConstsAfterClassDefinition(),window.SlidesToolbarIconAppearance=function(t){this.morph=t,SlidesToolbarIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SlidesToolbarIconAppearance,"name",{value:"SlidesToolbarIconAppearance"}),window.SlidesToolbarIconAppearance.__super__=window.IconAppearance.prototype,window.SlidesToolbarIconAppearance=extend(window.SlidesToolbarIconAppearance,window.IconAppearance),window.SlidesToolbarIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(75.36,60.27),t.lineTo(59.71,60.27),t.lineTo(59.71,87.29),t.lineTo(86.77,87.29),t.lineTo(86.77,71.67),t.strokeStyle=e,t.lineWidth=6,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(81.09,59.55),t.lineTo(84.13,59.55),t.lineTo(72.53,71.13),t.lineTo(75.9,74.49),t.lineTo(87.54,62.91),t.lineTo(87.54,65.94),t.lineTo(92.35,65.94),t.lineTo(92.35,54.74),t.lineTo(81.09,54.74),t.lineTo(81.09,59.55),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(44.48,40.52),t.lineTo(44.48,39.41),t.bezierCurveTo(43.59,40.04,43.53,40.01,42.46,40.32),t.bezierCurveTo(41.38,40.64,40.41,40.8,39.53,40.8),t.bezierCurveTo(37.63,40.8,36.08,40.12,34.89,38.77),t.bezierCurveTo(33.71,37.42,33.11,35.93,33.11,34.29),t.bezierCurveTo(33.11,32.29,33.87,30.44,35.39,28.74),t.bezierCurveTo(36.91,27.03,38.08,26.68,40.75,26.68),t.bezierCurveTo(41.83,26.68,43.07,27.35,44.48,27.66),t.lineTo(44.48,26.52),t.bezierCurveTo(44.48,25.81,44.25,24.72,43.79,24.27),t.bezierCurveTo(43.34,23.83,42.47,23.09,41.19,23.09),t.bezierCurveTo(40.14,23.09,38.78,23.37,37.1,23.93),t.bezierCurveTo(36.48,24.13,35.99,24.23,35.65,24.23),t.bezierCurveTo(35.18,24.23,34.77,24,34.45,23.55),t.bezierCurveTo(34.12,23.09,33.95,22.51,33.95,21.8),t.bezierCurveTo(33.95,21.39,34.01,21.05,34.13,20.75),t.bezierCurveTo(34.24,20.46,34.4,20.22,34.61,20.05),t.bezierCurveTo(34.82,19.87,35.25,19.66,35.91,19.41),t.bezierCurveTo(36.79,19.08,37.68,18.83,38.59,18.63),t.bezierCurveTo(39.5,18.44,40.33,18.34,41.07,18.34),t.bezierCurveTo(43.27,18.34,44.98,19.49,46.2,20.76),t.bezierCurveTo(47.41,22.04,48.02,23.78,48.02,25.99),t.lineTo(48.02,35.77),t.lineTo(48.63,35.77),t.bezierCurveTo(49.48,35.77,50.09,35.99,50.45,36.43),t.bezierCurveTo(50.82,36.87,51,37.45,51,38.16),t.bezierCurveTo(51,38.85,50.82,39.42,50.45,39.86),t.bezierCurveTo(50.09,40.3,49.48,40.52,48.63,40.52),t.lineTo(44.48,40.52),t.closePath(),t.moveTo(44.48,31.51),t.bezierCurveTo(43.06,31.14,41.75,30.44,40.55,30.44),t.bezierCurveTo(39.1,30.44,38.79,30.91,37.75,31.86),t.bezierCurveTo(37.1,32.46,36.78,33.58,36.78,34.19),t.bezierCurveTo(36.78,34.64,37.4,36.02,37.71,36.3),t.bezierCurveTo(38.29,36.81,38.62,37.06,39.62,37.06),t.bezierCurveTo(40.47,37.06,41.44,36.84,42.52,36.39),t.bezierCurveTo(43.6,35.94,43.63,35.84,44.48,35.07),t.lineTo(44.48,31.51),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(24.67,32.94),t.lineTo(15.56,32.94),t.lineTo(14.64,35.92),t.lineTo(15.56,35.92),t.bezierCurveTo(16.46,35.92,17.1,36.14,17.49,36.59),t.bezierCurveTo(17.87,37.05,18.06,37.64,18.06,38.37),t.bezierCurveTo(18.06,39.08,17.87,39.67,17.49,40.12),t.bezierCurveTo(17.1,40.57,16.46,40.8,15.56,40.8),t.lineTo(10.51,40.8),t.bezierCurveTo(9.6,40.8,8.96,40.57,8.58,40.12),t.bezierCurveTo(8.19,39.67,8,39.08,8,38.35),t.bezierCurveTo(8,37.62,8.2,37.02,8.6,36.56),t.bezierCurveTo(9.01,36.1,9.67,35.88,10.6,35.92),t.lineTo(16.49,16.81),t.lineTo(14.04,16.81),t.bezierCurveTo(13.14,16.81,12.49,16.58,12.11,16.13),t.bezierCurveTo(11.72,15.68,11.53,15.08,11.53,14.35),t.bezierCurveTo(11.53,13.62,11.72,13.03,12.11,12.58),t.bezierCurveTo(12.49,12.13,13.14,11.9,14.04,11.9),t.lineTo(22.14,11.92),t.lineTo(29.61,35.92),t.bezierCurveTo(30.49,35.92,31.07,36.04,31.35,36.3),t.bezierCurveTo(31.91,36.82,32.19,37.51,32.19,38.37),t.bezierCurveTo(32.19,39.08,32,39.67,31.62,40.12),t.bezierCurveTo(31.24,40.57,30.6,40.8,29.7,40.8),t.lineTo(24.65,40.8),t.bezierCurveTo(23.75,40.8,23.1,40.57,22.72,40.12),t.bezierCurveTo(22.34,39.67,22.14,39.08,22.14,38.35),t.bezierCurveTo(22.14,37.63,22.34,37.05,22.72,36.59),t.bezierCurveTo(23.1,36.14,23.75,35.92,24.65,35.92),t.lineTo(25.56,35.92),t.lineTo(24.67,32.94),t.closePath(),t.moveTo(23.11,28.05),t.lineTo(20.09,18.38),t.lineTo(17.06,28.05),t.lineTo(23.11,28.05),t.closePath(),t.fillStyle=e,t.fill(),this.arc(t,11,59,19,18,136,-34,!1),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.arc(t,26,59,19,18,-146,46,!1),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,27,61.9,2,2),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(13.28,73.85),t.lineTo(26.58,87.72),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(42.72,73.85),t.lineTo(29.23,87.91),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.arc(t,25.5,83.1,5,5,37,143,!1),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.arc(t,15.5,63,10,10,-179,-87,!1),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(91.44,26.84),t.lineTo(85.61,20.95),t.bezierCurveTo(85.61,20.95,82.34,24.26,79.13,27.51),t.lineTo(79.13,10.21),t.lineTo(70.88,10.21),t.lineTo(70.88,27.51),t.lineTo(64.39,20.95),t.lineTo(58.56,26.84),t.lineTo(75,43.43),t.lineTo(91.44,26.84),t.closePath(),t.fillStyle=e,t.fill()},window.SlidesToolbarIconAppearance.instances=new Set,"function"==typeof window.SlidesToolbarIconAppearance.initStaticConstsAfterClassDefinition&&window.SlidesToolbarIconAppearance.initStaticConstsAfterClassDefinition(),window.SlidesToolbarIconWdgt=function(t){this.color=t,SlidesToolbarIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SlidesToolbarIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SlidesToolbarIconWdgt,"name",{value:"SlidesToolbarIconWdgt"}),window.SlidesToolbarIconWdgt.__super__=window.IconMorph.prototype,window.SlidesToolbarIconWdgt=extend(window.SlidesToolbarIconWdgt,window.IconMorph),window.SlidesToolbarIconWdgt.instances=new Set,"function"==typeof window.SlidesToolbarIconWdgt.initStaticConstsAfterClassDefinition&&window.SlidesToolbarIconWdgt.initStaticConstsAfterClassDefinition(),window.TemplatesIconAppearance=function(t){this.morph=t,TemplatesIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TemplatesIconAppearance,"name",{value:"TemplatesIconAppearance"}),window.TemplatesIconAppearance.__super__=window.IconAppearance.prototype,window.TemplatesIconAppearance=extend(window.TemplatesIconAppearance,window.IconAppearance),window.TemplatesIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(43,87),t.lineTo(64.21,95.76),t.lineTo(67.11,87),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(20.57,43.92),t.lineTo(9,75.06),t.lineTo(20.57,78.96),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(32.14,12.78),t.lineTo(34.07,5),t.lineTo(57.21,12.78),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(78.43,20.57),t.lineTo(90,24.46),t.lineTo(78.43,53.66),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(28.29,75.06),t.lineTo(53.36,75.06),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(28.29,63.39),t.lineTo(70.71,63.39),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(28.29,51.71),t.lineTo(70.71,51.71),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(49.49,40.77),t.bezierCurveTo(49,40.77,48.67,40.61,48.35,40.28),t.lineTo(40.83,32.8),t.bezierCurveTo(38.05,30.03,38.05,25.8,40.83,23.04),t.bezierCurveTo(43.12,20.76,47.57,21.31,49.49,24.01),t.bezierCurveTo(51.43,21.31,55.7,20.59,58.15,23.04),t.lineTo(58.15,23.04),t.lineTo(58.15,23.04),t.lineTo(58.15,23.04),t.bezierCurveTo(59.45,24.34,60.11,26.13,60.11,27.92),t.bezierCurveTo(60.11,29.71,59.45,31.5,58.15,32.8),t.lineTo(50.63,40.28),t.bezierCurveTo(50.31,40.61,49.98,40.77,49.49,40.77),t.closePath(),t.strokeStyle=e,t.lineWidth=1.5,t.miterLimit=4,t.stroke(),t.beginPath(),t.rect(21,13,57,74),t.strokeStyle=e,t.lineWidth=2,t.lineJoin="round",t.stroke()},window.TemplatesIconAppearance.instances=new Set,"function"==typeof window.TemplatesIconAppearance.initStaticConstsAfterClassDefinition&&window.TemplatesIconAppearance.initStaticConstsAfterClassDefinition(),window.TemplatesIconWdgt=function(t){this.color=t,TemplatesIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TemplatesIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TemplatesIconWdgt,"name",{value:"TemplatesIconWdgt"}),window.TemplatesIconWdgt.__super__=window.IconMorph.prototype,window.TemplatesIconWdgt=extend(window.TemplatesIconWdgt,window.IconMorph),window.TemplatesIconWdgt.instances=new Set,"function"==typeof window.TemplatesIconWdgt.initStaticConstsAfterClassDefinition&&window.TemplatesIconWdgt.initStaticConstsAfterClassDefinition(),window.TextIconAppearance=function(t){this.morph=t,TextIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextIconAppearance,"name",{value:"TextIconAppearance"}),window.TextIconAppearance.__super__=window.IconAppearance.prototype,window.TextIconAppearance=extend(window.TextIconAppearance,window.IconAppearance),window.TextIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(40.05,62.47),t.lineTo(20.34,62.47),t.lineTo(18.36,68.33),t.lineTo(20.34,68.33),t.bezierCurveTo(22.29,68.33,23.69,68.78,24.52,69.67),t.bezierCurveTo(25.35,70.56,25.76,71.73,25.76,73.17),t.bezierCurveTo(25.76,74.57,25.35,75.72,24.52,76.61),t.bezierCurveTo(23.69,77.5,22.29,77.95,20.34,77.95),t.lineTo(9.42,77.95),t.bezierCurveTo(7.47,77.95,6.08,77.5,5.25,76.61),t.bezierCurveTo(4.42,75.72,4,74.56,4,73.12),t.bezierCurveTo(4,71.68,4.44,70.51,5.31,69.6),t.bezierCurveTo(6.18,68.69,7.61,68.27,9.62,68.33),t.lineTo(22.36,30.71),t.lineTo(17.06,30.71),t.bezierCurveTo(15.11,30.71,13.71,30.27,12.88,29.38),t.bezierCurveTo(12.05,28.48,11.64,27.32,11.64,25.88),t.bezierCurveTo(11.64,24.44,12.05,23.28,12.88,22.39),t.bezierCurveTo(13.71,21.5,15.11,21.05,17.06,21.05),t.lineTo(34.59,21.1),t.lineTo(50.73,68.33),t.bezierCurveTo(52.63,68.33,53.89,68.58,54.49,69.08),t.bezierCurveTo(55.71,70.12,56.31,71.48,56.31,73.17),t.bezierCurveTo(56.31,74.57,55.9,75.72,55.09,76.61),t.bezierCurveTo(54.27,77.5,52.88,77.95,50.93,77.95),t.lineTo(40.01,77.95),t.bezierCurveTo(38.06,77.95,36.67,77.5,35.83,76.61),t.bezierCurveTo(35,75.72,34.59,74.56,34.59,73.12),t.bezierCurveTo(34.59,71.71,35,70.56,35.83,69.67),t.bezierCurveTo(36.67,68.78,38.06,68.33,40.01,68.33),t.lineTo(41.99,68.33),t.lineTo(40.05,62.47),t.closePath(),t.moveTo(36.69,52.85),t.lineTo(30.16,33.81),t.lineTo(23.59,52.85),t.lineTo(36.69,52.85),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(82.89,77.4),t.lineTo(82.89,75.21),t.bezierCurveTo(80.97,76.46,80.85,76.39,78.53,77.01),t.bezierCurveTo(76.2,77.64,74.1,77.95,72.2,77.95),t.bezierCurveTo(68.08,77.95,64.74,76.62,62.17,73.96),t.bezierCurveTo(59.6,71.3,58.31,68.35,58.31,65.13),t.bezierCurveTo(58.31,61.2,59.95,57.56,63.23,54.2),t.bezierCurveTo(66.52,50.84,69.05,50.16,74.84,50.16),t.bezierCurveTo(77.16,50.16,79.84,51.46,82.89,52.07),t.lineTo(82.89,49.83),t.bezierCurveTo(82.89,48.44,82.4,46.29,81.41,45.41),t.bezierCurveTo(80.42,44.53,78.55,43.09,75.78,43.09),t.bezierCurveTo(73.51,43.09,70.56,43.64,66.94,44.73),t.bezierCurveTo(65.6,45.13,64.55,45.32,63.8,45.32),t.bezierCurveTo(62.78,45.32,61.91,44.88,61.2,43.98),t.bezierCurveTo(60.49,43.08,60.13,41.93,60.13,40.53),t.bezierCurveTo(60.13,39.74,60.26,39.06,60.5,38.48),t.bezierCurveTo(60.75,37.9,61.1,37.44,61.55,37.09),t.bezierCurveTo(62,36.74,62.94,36.32,64.36,35.83),t.bezierCurveTo(66.26,35.2,68.19,34.69,70.16,34.31),t.bezierCurveTo(72.13,33.93,73.92,33.74,75.51,33.74),t.bezierCurveTo(80.28,33.74,83.98,35.99,86.61,38.5),t.bezierCurveTo(89.25,41.01,90.56,44.44,90.56,48.79),t.lineTo(90.56,68.04),t.lineTo(91.87,68.04),t.bezierCurveTo(93.72,68.04,95.03,68.48,95.82,69.34),t.bezierCurveTo(96.61,70.21,97,71.35,97,72.74),t.bezierCurveTo(97,74.11,96.61,75.23,95.82,76.1),t.bezierCurveTo(95.03,76.97,93.72,77.4,91.87,77.4),t.lineTo(82.89,77.4),t.closePath(),t.moveTo(82.89,59.65),t.bezierCurveTo(79.82,58.92,76.99,57.56,74.39,57.56),t.bezierCurveTo(71.27,57.56,70.59,58.49,68.34,60.34),t.bezierCurveTo(66.95,61.53,66.25,63.73,66.25,64.95),t.bezierCurveTo(66.25,65.83,67.58,68.54,68.26,69.09),t.bezierCurveTo(69.51,70.09,70.22,70.6,72.39,70.6),t.bezierCurveTo(74.23,70.6,76.32,70.15,78.66,69.27),t.bezierCurveTo(80.99,68.39,81.07,68.19,82.89,66.67),t.lineTo(82.89,59.65),t.closePath(),t.fillStyle=e,t.fill()},window.TextIconAppearance.instances=new Set,"function"==typeof window.TextIconAppearance.initStaticConstsAfterClassDefinition&&window.TextIconAppearance.initStaticConstsAfterClassDefinition(),window.TextIconWdgt=function(t){this.color=t,TextIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TextIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextIconWdgt,"name",{value:"TextIconWdgt"}),window.TextIconWdgt.__super__=window.IconMorph.prototype,window.TextIconWdgt=extend(window.TextIconWdgt,window.IconMorph),window.TextIconWdgt.instances=new Set,"function"==typeof window.TextIconWdgt.initStaticConstsAfterClassDefinition&&window.TextIconWdgt.initStaticConstsAfterClassDefinition(),window.TextToolbarIconAppearance=function(t){this.morph=t,TextToolbarIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextToolbarIconAppearance,"name",{value:"TextToolbarIconAppearance"}),window.TextToolbarIconAppearance.__super__=window.IconAppearance.prototype,window.TextToolbarIconAppearance=extend(window.TextToolbarIconAppearance,window.IconAppearance),window.TextToolbarIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(83.25,10.1),t.lineTo(16.75,10.1),t.lineTo(14.03,30.23),t.lineTo(24.25,30.15),t.bezierCurveTo(24.25,24.65,30,18.9,35.5,18.9),t.lineTo(43,18.9),t.lineTo(43,76.4),t.bezierCurveTo(43,79.2,40.8,81.4,38,81.4),t.lineTo(31.75,82.65),t.lineTo(31.75,90.65),t.lineTo(68.25,90.65),t.lineTo(68.25,82.75),t.lineTo(62,81.5),t.bezierCurveTo(59.2,81.5,57,79.3,57,76.5),t.lineTo(57,19),t.lineTo(64.5,19),t.bezierCurveTo(70,19,75.75,24.75,75.75,30.25),t.lineTo(85.72,30.1),t.lineTo(83.25,10.1),t.closePath(),t.strokeStyle=e,t.lineWidth=3,t.miterLimit=4,t.lineJoin="round",t.stroke()},window.TextToolbarIconAppearance.instances=new Set,"function"==typeof window.TextToolbarIconAppearance.initStaticConstsAfterClassDefinition&&window.TextToolbarIconAppearance.initStaticConstsAfterClassDefinition(),window.TextToolbarIconWdgt=function(t){this.color=t,TextToolbarIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TextToolbarIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextToolbarIconWdgt,"name",{value:"TextToolbarIconWdgt"}),window.TextToolbarIconWdgt.__super__=window.IconMorph.prototype,window.TextToolbarIconWdgt=extend(window.TextToolbarIconWdgt,window.IconMorph),window.TextToolbarIconWdgt.instances=new Set,"function"==typeof window.TextToolbarIconWdgt.initStaticConstsAfterClassDefinition&&window.TextToolbarIconWdgt.initStaticConstsAfterClassDefinition(),window.ToolbarsIconAppearance=function(t){this.morph=t,ToolbarsIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToolbarsIconAppearance,"name",{value:"ToolbarsIconAppearance"}),window.ToolbarsIconAppearance.__super__=window.IconAppearance.prototype,window.ToolbarsIconAppearance=extend(window.ToolbarsIconAppearance,window.IconAppearance),window.ToolbarsIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,"rgb(255, 255, 255)","rgb(170, 170, 170)",t.beginPath(),t.moveTo(41.5,6.5),t.lineTo(58.5,6.5),t.lineTo(58.5,28.5),t.bezierCurveTo(58.5,28.5,62.75,24,66.5,23.5),t.bezierCurveTo(70.25,23,75.5,29.5,75.5,26.5),t.bezierCurveTo(75.5,23.5,78.25,22,76.5,19.5),t.bezierCurveTo(74.75,17,70.25,18,68.5,16.5),t.bezierCurveTo(66.75,15,67.75,14.25,69.5,13.5),t.bezierCurveTo(71.25,12.75,72,10.25,75.5,13.5),t.bezierCurveTo(79,16.75,81.5,21.5,83.5,26.5),t.bezierCurveTo(85.5,31.5,83.5,33.5,83.5,33.5),t.lineTo(60.5,40.5),t.lineTo(76.5,84.5),t.lineTo(58.5,82.5),t.lineTo(58.5,92.5),t.lineTo(39.5,92.5),t.lineTo(39.5,82.5),t.lineTo(22.5,84.5),t.lineTo(37.5,40.5),t.lineTo(30.5,40.5),t.lineTo(15.5,33.5),t.bezierCurveTo(15.5,33.5,15.75,24.5,18.5,19.5),t.bezierCurveTo(21.25,14.5,23.5,14.25,26.5,13.5),t.bezierCurveTo(29.5,12.75,31.5,15,30.5,16.5),t.bezierCurveTo(29.5,18,24.5,17,22.5,19.5),t.bezierCurveTo(20.5,22,20.5,25.5,22.5,26.5),t.bezierCurveTo(24.5,27.5,26,23,30.5,23.5),t.bezierCurveTo(35,24,41.5,28.5,41.5,28.5),t.lineTo(41.5,6.5),t.closePath(),t.fillStyle=n,t.fill(),t.strokeStyle=n,t.lineWidth=7,t.stroke(),t.beginPath(),t.moveTo(38.85,36.81),t.lineTo(22.35,84.12),t.bezierCurveTo(22.35,84.12,28.76,82.81,38.85,82.22),t.lineTo(38.85,36.81),t.closePath(),t.moveTo(60.15,36.81),t.lineTo(60.15,82.22),t.bezierCurveTo(70.24,82.81,76.65,84.12,76.65,84.12),t.lineTo(60.15,36.81),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(41.5,16.5,16,15),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(46.42,21.12),t.lineTo(52.58,21.12),t.lineTo(52.58,26.88),t.lineTo(46.42,26.88),t.lineTo(46.42,21.12),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(41.5,7.5,16,9),t.fillStyle="rgb(170, 170, 170)",t.fill(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(43.96,12.16),t.lineTo(55.04,12.16),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(41.5,31.5,16,16),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(46.42,36.42),t.lineTo(52.58,36.42),t.lineTo(52.58,42.58),t.lineTo(46.42,42.58),t.lineTo(46.42,36.42),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(41.5,47.5,16,15),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(46.42,52.12),t.lineTo(52.58,52.12),t.lineTo(52.58,57.88),t.lineTo(46.42,57.88),t.lineTo(46.42,52.12),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(41.5,62.5,16,15),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(46.42,67.12),t.lineTo(52.58,67.12),t.lineTo(52.58,72.88),t.lineTo(46.42,72.88),t.lineTo(46.42,67.12),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(41.5,77.5,16,15),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(46.42,82.12),t.lineTo(52.58,82.12),t.lineTo(52.58,87.88),t.lineTo(46.42,87.88),t.lineTo(46.42,82.12),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(37.99,38.14),t.bezierCurveTo(36.88,38.4,35.77,38.4,34.83,38.4),t.bezierCurveTo(30.29,38.4,27.21,37.19,24.39,36.06),t.bezierCurveTo(21.91,35.11,15.67,33.9,15.58,33.29),t.bezierCurveTo(14.73,29.22,19.09,16.93,24.13,13.56),t.bezierCurveTo(25.93,12.35,27.81,12.35,29.35,13.47),t.bezierCurveTo(30.55,14.34,30.89,15.63,30.38,16.85),t.bezierCurveTo(29.78,18.32,23.98,19.44,22.1,19.7),t.bezierCurveTo(22.36,21.61,22.5,24.5,23.33,26.9),t.bezierCurveTo(25.38,25.6,29.78,22.91,32,23.51),t.bezierCurveTo(33.46,23.94,37.85,25.24,38.45,29.57),t.strokeStyle=e,t.lineWidth=3,t.miterLimit=4,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(60.96,38.14),t.bezierCurveTo(62.07,38.4,63.18,38.4,64.12,38.4),t.bezierCurveTo(68.66,38.4,71.73,37.19,74.56,36.06),t.bezierCurveTo(77.04,35.11,83.28,33.9,83.37,33.29),t.bezierCurveTo(84.22,29.22,79.86,16.93,74.81,13.56),t.bezierCurveTo(73.02,12.35,71.14,12.35,69.6,13.47),t.bezierCurveTo(68.4,14.34,68.06,15.63,68.57,16.85),t.bezierCurveTo(69.17,18.32,74.96,19.44,76.85,19.7),t.bezierCurveTo(76.59,21.61,76.45,24.5,75.62,26.9),t.bezierCurveTo(73.56,25.6,69.17,22.91,66.95,23.51),t.bezierCurveTo(65.49,23.94,61.1,25.24,60.5,29.57),t.strokeStyle=e,t.lineWidth=3,t.miterLimit=4,t.lineCap="round",t.stroke()},window.ToolbarsIconAppearance.instances=new Set,"function"==typeof window.ToolbarsIconAppearance.initStaticConstsAfterClassDefinition&&window.ToolbarsIconAppearance.initStaticConstsAfterClassDefinition(),window.ToolbarsIconWdgt=function(t){this.color=t,ToolbarsIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ToolbarsIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToolbarsIconWdgt,"name",{value:"ToolbarsIconWdgt"}),window.ToolbarsIconWdgt.__super__=window.IconMorph.prototype,window.ToolbarsIconWdgt=extend(window.ToolbarsIconWdgt,window.IconMorph),window.ToolbarsIconWdgt.instances=new Set,"function"==typeof window.ToolbarsIconWdgt.initStaticConstsAfterClassDefinition&&window.ToolbarsIconWdgt.initStaticConstsAfterClassDefinition(),window.ToothpasteIconAppearance=function(){window.ToothpasteIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToothpasteIconAppearance,"name",{value:"ToothpasteIconAppearance"}),window.ToothpasteIconAppearance.__super__=window.IconAppearance.prototype,window.ToothpasteIconAppearance=extend(window.ToothpasteIconAppearance,window.IconAppearance),window.ToothpasteIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(181.43,78.29),t.bezierCurveTo(165.67,78.29,152.86,91.16,152.86,106.98),t.lineTo(152.86,119.03),t.bezierCurveTo(152.86,125.04,147.99,129.93,142,129.93),t.bezierCurveTo(136.01,129.93,131.14,125.04,131.14,119.03),t.lineTo(131.14,40.41),t.bezierCurveTo(131.14,19.53,114.22,2.54,93.43,2.54),t.lineTo(85.43,2.54),t.bezierCurveTo(64.63,2.54,47.71,19.53,47.71,40.41),t.lineTo(47.71,57.63),t.lineTo(54.57,57.63),t.lineTo(54.57,40.41),t.bezierCurveTo(54.57,23.33,68.41,9.43,85.43,9.43),t.lineTo(93.43,9.43),t.bezierCurveTo(110.44,9.43,124.29,23.33,124.29,40.41),t.lineTo(124.29,119.03),t.bezierCurveTo(124.29,128.84,132.23,136.82,142,136.82),t.bezierCurveTo(151.77,136.82,159.71,128.84,159.71,119.03),t.lineTo(159.71,106.98),t.bezierCurveTo(159.71,94.95,169.46,85.17,181.43,85.17),t.bezierCurveTo(184.58,85.17,187.14,87.75,187.14,90.91),t.bezierCurveTo(187.14,94.07,184.58,96.65,181.43,96.65),t.bezierCurveTo(175.76,96.65,171.14,101.28,171.14,106.98),t.lineTo(171.14,119.03),t.bezierCurveTo(171.14,135.16,158.07,148.29,142,148.29),t.bezierCurveTo(125.93,148.29,112.86,135.16,112.86,119.03),t.lineTo(112.86,40.41),t.bezierCurveTo(112.86,29.65,104.14,20.9,93.43,20.9),t.lineTo(85.43,20.9),t.bezierCurveTo(74.72,20.9,66,29.65,66,40.41),t.lineTo(66,57.63),t.lineTo(72.86,57.63),t.lineTo(72.86,40.41),t.bezierCurveTo(72.86,33.45,78.5,27.79,85.43,27.79),t.lineTo(93.43,27.79),t.bezierCurveTo(100.36,27.79,106,33.45,106,40.41),t.lineTo(106,119.03),t.bezierCurveTo(106,138.96,122.15,155.18,142,155.18),t.bezierCurveTo(161.85,155.18,178,138.96,178,119.03),t.lineTo(178,106.98),t.bezierCurveTo(178,105.08,179.54,103.53,181.43,103.53),t.bezierCurveTo(188.36,103.53,194,97.87,194,90.91),t.bezierCurveTo(194,83.95,188.36,78.29,181.43,78.29),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.moveTo(24.86,124.19),t.lineTo(95.72,124.19),t.lineTo(95.72,197.46),t.lineTo(102.57,197.46),t.lineTo(102.57,117.88),t.lineTo(99.44,111.09),t.lineTo(85.81,89.26),t.lineTo(82.76,84.37),t.lineTo(82.76,60.88),t.lineTo(37.81,60.88),t.lineTo(37.81,84.37),t.lineTo(32.28,93.21),t.lineTo(21.33,110.7),t.lineTo(18,117.88),t.lineTo(18,197.46),t.lineTo(24.86,197.46),t.lineTo(24.86,124.19),t.closePath(),t.moveTo(27.26,114.18),t.lineTo(40.38,93.21),t.lineTo(44.67,86.35),t.lineTo(44.67,67.76),t.lineTo(75.9,67.76),t.lineTo(75.91,86.35),t.lineTo(80.19,93.21),t.lineTo(93.31,114.18),t.lineTo(94.76,117.31),t.lineTo(25.82,117.31),t.lineTo(27.26,114.18),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.ToothpasteIconAppearance.instances=new Set,"function"==typeof window.ToothpasteIconAppearance.initStaticConstsAfterClassDefinition&&window.ToothpasteIconAppearance.initStaticConstsAfterClassDefinition(),window.ToothpasteIconMorph=function(t){this.color=t,ToothpasteIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new ToothpasteIconAppearance(this),this.toolTipMessage="toothpaste","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToothpasteIconMorph,"name",{value:"ToothpasteIconMorph"}),window.ToothpasteIconMorph.__super__=window.IconMorph.prototype,window.ToothpasteIconMorph=extend(window.ToothpasteIconMorph,window.IconMorph),window.ToothpasteIconMorph.instances=new Set,"function"==typeof window.ToothpasteIconMorph.initStaticConstsAfterClassDefinition&&window.ToothpasteIconMorph.initStaticConstsAfterClassDefinition(),window.TypewriterIconAppearance=function(t){this.morph=t,TypewriterIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TypewriterIconAppearance,"name",{value:"TypewriterIconAppearance"}),window.TypewriterIconAppearance.__super__=window.IconAppearance.prototype,window.TypewriterIconAppearance=extend(window.TypewriterIconAppearance,window.IconAppearance),window.TypewriterIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(90.79,34.25),t.lineTo(81.16,34.25),t.lineTo(81.16,5),t.lineTo(20.84,5),t.lineTo(20.84,34.25),t.lineTo(11.21,34.25),t.lineTo(11.21,38.03),t.lineTo(8,38.03),t.lineTo(8,55.4),t.lineTo(11.21,55.4),t.lineTo(11.21,59.33),t.lineTo(8.02,81.89),t.lineTo(8,95),t.lineTo(94,95),t.lineTo(94,82.14),t.lineTo(90.79,59.33),t.lineTo(90.79,55.4),t.lineTo(94,55.4),t.lineTo(94,38.03),t.lineTo(90.79,38.03),t.lineTo(90.79,34.25),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.rect(29.5,16.5,30,2),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(29.5,22.5,43,2),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(29.5,27.5,9.5,2),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(29.5,33.5,21.5,2),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(42.5,27.5,30,2),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(63,16.5,9.5,2),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(88.69,36.17),t.lineTo(79.57,36.17),t.lineTo(79.57,7.75),t.lineTo(22.38,7.75),t.lineTo(22.38,36.17),t.lineTo(13.26,36.17),t.lineTo(13.26,39.72),t.lineTo(10.21,39.72),t.lineTo(10.21,53.22),t.lineTo(13.26,53.22),t.lineTo(13.26,58.79),t.lineTo(10.23,79.99),t.lineTo(10.21,92.3),t.lineTo(91.73,92.3),t.lineTo(91.73,80.22),t.lineTo(88.69,58.79),t.lineTo(88.69,53.22),t.lineTo(91.73,53.22),t.lineTo(91.73,39.72),t.lineTo(88.69,39.72),t.lineTo(88.69,36.17),t.closePath(),t.moveTo(77.13,10.59),t.lineTo(77.13,43.28),t.lineTo(62.39,43.28),t.lineTo(62.05,44.06),t.bezierCurveTo(62.03,44.12,59.25,50.38,50.97,50.38),t.bezierCurveTo(42.77,50.38,40.01,44.31,39.9,44.06),t.lineTo(39.56,43.28),t.lineTo(24.81,43.28),t.lineTo(24.81,10.59),t.lineTo(77.13,10.59),t.closePath(),t.moveTo(12.65,50.38),t.lineTo(12.65,42.56),t.lineTo(13.26,42.56),t.lineTo(13.26,50.38),t.lineTo(12.65,50.38),t.closePath(),t.moveTo(89.3,80.34),t.lineTo(89.3,89.46),t.lineTo(12.65,89.46),t.lineTo(12.65,80.34),t.lineTo(15.5,60.33),t.lineTo(86.46,60.33),t.lineTo(89.3,80.34),t.closePath(),t.moveTo(86.26,57.49),t.lineTo(15.69,57.49),t.lineTo(15.69,53.22),t.lineTo(15.69,39.72),t.lineTo(15.69,39.01),t.lineTo(22.38,39.01),t.lineTo(22.38,43.28),t.lineTo(20.56,43.28),t.lineTo(20.56,46.12),t.lineTo(38.12,46.12),t.bezierCurveTo(39.26,48.12,42.96,53.22,50.97,53.22),t.bezierCurveTo(58.99,53.22,62.68,48.12,63.83,46.12),t.lineTo(81.39,46.12),t.lineTo(81.39,43.28),t.lineTo(79.57,43.28),t.lineTo(79.57,39.01),t.lineTo(86.26,39.01),t.lineTo(86.26,39.72),t.lineTo(86.26,53.22),t.lineTo(86.26,57.49),t.closePath(),t.moveTo(89.3,42.56),t.lineTo(89.3,50.38),t.lineTo(88.69,50.38),t.lineTo(88.69,42.56),t.lineTo(89.3,42.56),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,20,76,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,29,76,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,20,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,29,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,38,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,47,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,56,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,65,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,74,66,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,65,76,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),this.oval(t,74,76,6.5,6.5),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(59.57,75),t.lineTo(41.03,75),t.bezierCurveTo(38.64,75,36.7,77.02,36.7,79.5),t.bezierCurveTo(36.7,81.98,38.64,84,41.03,84),t.lineTo(59.57,84),t.bezierCurveTo(61.96,84,63.9,81.98,63.9,79.5),t.bezierCurveTo(63.9,77.02,61.96,75,59.57,75),t.closePath(),t.moveTo(59.57,81.43),t.lineTo(41.03,81.43),t.bezierCurveTo(40,81.43,39.17,80.56,39.17,79.5),t.bezierCurveTo(39.17,78.44,40,77.57,41.03,77.57),t.lineTo(59.57,77.57),t.bezierCurveTo(60.6,77.57,61.43,78.44,61.43,79.5),t.bezierCurveTo(61.43,80.56,60.6,81.43,59.57,81.43),t.closePath(),t.fillStyle=e,t.fill()},window.TypewriterIconAppearance.instances=new Set,"function"==typeof window.TypewriterIconAppearance.initStaticConstsAfterClassDefinition&&window.TypewriterIconAppearance.initStaticConstsAfterClassDefinition(),window.TypewriterIconWdgt=function(t){this.color=t,TypewriterIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TypewriterIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TypewriterIconWdgt,"name",{value:"TypewriterIconWdgt"}),window.TypewriterIconWdgt.__super__=window.IconMorph.prototype,window.TypewriterIconWdgt=extend(window.TypewriterIconWdgt,window.IconMorph),window.TypewriterIconWdgt.instances=new Set,"function"==typeof window.TypewriterIconWdgt.initStaticConstsAfterClassDefinition&&window.TypewriterIconWdgt.initStaticConstsAfterClassDefinition(),window.UncollapseIconAppearance=function(){window.UncollapseIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UncollapseIconAppearance,"name",{value:"UncollapseIconAppearance"}),window.UncollapseIconAppearance.__super__=window.IconAppearance.prototype,window.UncollapseIconAppearance=extend(window.UncollapseIconAppearance,window.IconAppearance),window.UncollapseIconAppearance.prototype.paintFunction=function(t){var e,n;return e=this.morph.color,n=this.morph.color,t.beginPath(),t.moveTo(100.5,196.5),t.bezierCurveTo(153.91,196.5,197.5,152.91,197.5,99.5),t.bezierCurveTo(197.5,46.09,153.91,2.5,100.5,2.5),t.bezierCurveTo(47.09,2.5,3.5,46.09,3.5,99.5),t.bezierCurveTo(3.5,152.91,47.09,196.5,100.5,196.5),t.closePath(),t.moveTo(100.5,15.1),t.bezierCurveTo(147.11,15.1,184.9,52.89,184.9,99.5),t.bezierCurveTo(184.9,146.11,147.11,183.9,100.5,183.9),t.bezierCurveTo(53.89,183.9,16.1,146.11,16.1,99.5),t.bezierCurveTo(16.1,52.89,53.89,15.1,100.5,15.1),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.rect(65,65,65,21),t.closePath(),t.fill(),t.beginPath(),t.rect(65,65,65,65),t.closePath(),t.strokeStyle=n.toString(),t.lineWidth=10,t.stroke()},window.UncollapseIconAppearance.instances=new Set,"function"==typeof window.UncollapseIconAppearance.initStaticConstsAfterClassDefinition&&window.UncollapseIconAppearance.initStaticConstsAfterClassDefinition(),window.UncollapsedStateIconAppearance=function(t){this.morph=t,UncollapsedStateIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(400,400),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UncollapsedStateIconAppearance,"name",{value:"UncollapsedStateIconAppearance"}),window.UncollapsedStateIconAppearance.__super__=window.IconAppearance.prototype,window.UncollapsedStateIconAppearance=extend(window.UncollapsedStateIconAppearance,window.IconAppearance),window.UncollapsedStateIconAppearance.prototype.paintFunction=function(t){return"rgb(51, 0, 0)",t.beginPath(),t.moveTo(45.5,137.5),t.lineTo(200.93,288.5),t.lineTo(362.5,133.5),t.miterLimit=30,t.strokeStyle="rgb(51, 0, 0)",t.lineWidth=30,t.stroke()},window.UncollapsedStateIconAppearance.instances=new Set,"function"==typeof window.UncollapsedStateIconAppearance.initStaticConstsAfterClassDefinition&&window.UncollapsedStateIconAppearance.initStaticConstsAfterClassDefinition(),window.UncollapsedStateIconMorph=function(t){this.color=t,UncollapsedStateIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new UncollapsedStateIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UncollapsedStateIconMorph,"name",{value:"UncollapsedStateIconMorph"}),window.UncollapsedStateIconMorph.__super__=window.IconMorph.prototype,window.UncollapsedStateIconMorph=extend(window.UncollapsedStateIconMorph,window.IconMorph),window.UncollapsedStateIconMorph.instances=new Set,"function"==typeof window.UncollapsedStateIconMorph.initStaticConstsAfterClassDefinition&&window.UncollapsedStateIconMorph.initStaticConstsAfterClassDefinition(),window.VaporwaveBackgroundIconAppearance=function(t){this.morph=t,VaporwaveBackgroundIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VaporwaveBackgroundIconAppearance,"name",{value:"VaporwaveBackgroundIconAppearance"}),window.VaporwaveBackgroundIconAppearance.__super__=window.IconAppearance.prototype,window.VaporwaveBackgroundIconAppearance=extend(window.VaporwaveBackgroundIconAppearance,window.IconAppearance),window.VaporwaveBackgroundIconAppearance.prototype.backgroundGradient=nil,window.VaporwaveBackgroundIconAppearance.prototype.paintFunction=function(t){var e;return"rgb(0, 0, 159)","rgb(255, 255, 0)","rgb(0, 0, 82)","rgb(255, 6, 136)",null==this.backgroundGradient&&(e=function(t){return t.addColorStop(0,"rgb(0, 0, 82)"),t.addColorStop(.14,"rgb(0, 0, 159)"),t.addColorStop(.58,"rgb(255, 6, 136)"),t.addColorStop(1,"rgb(255, 255, 0)"),t},this.backgroundGradient=e(t.createLinearGradient(50,91.61,50,-28.19))),t.beginPath(),t.rect(0,0,100,99.5),t.fillStyle=this.backgroundGradient,t.fill()},window.VaporwaveBackgroundIconAppearance.instances=new Set,"function"==typeof window.VaporwaveBackgroundIconAppearance.initStaticConstsAfterClassDefinition&&window.VaporwaveBackgroundIconAppearance.initStaticConstsAfterClassDefinition(),window.VaporwaveBackgroundIconWdgt=function(t){this.color=t,VaporwaveBackgroundIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new VaporwaveBackgroundIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VaporwaveBackgroundIconWdgt,"name",{value:"VaporwaveBackgroundIconWdgt"}),window.VaporwaveBackgroundIconWdgt.__super__=window.IconMorph.prototype,window.VaporwaveBackgroundIconWdgt=extend(window.VaporwaveBackgroundIconWdgt,window.IconMorph),window.VaporwaveBackgroundIconWdgt.instances=new Set,"function"==typeof window.VaporwaveBackgroundIconWdgt.initStaticConstsAfterClassDefinition&&window.VaporwaveBackgroundIconWdgt.initStaticConstsAfterClassDefinition(),window.VaporwaveSunIconAppearance=function(t){this.morph=t,VaporwaveSunIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VaporwaveSunIconAppearance,"name",{value:"VaporwaveSunIconAppearance"}),window.VaporwaveSunIconAppearance.__super__=window.IconAppearance.prototype,window.VaporwaveSunIconAppearance=extend(window.VaporwaveSunIconAppearance,window.IconAppearance),window.VaporwaveSunIconAppearance.prototype.sunGradient=nil,window.VaporwaveSunIconAppearance.prototype.paintFunction=function(t){var e;return"rgb(0, 0, 255)","rgb(255, 0, 255)","rgb(255, 244, 6)",null==this.sunGradient&&(e=function(t){return t.addColorStop(0,"rgb(0, 0, 255)"),t.addColorStop(.43,"rgb(255, 0, 255)"),t.addColorStop(1,"rgb(255, 244, 6)"),t},this.sunGradient=e(t.createLinearGradient(50,83.39,50,5.13))),this.oval(t,2,2,96,96),t.fillStyle=this.sunGradient,t.fill()},window.VaporwaveSunIconAppearance.instances=new Set,"function"==typeof window.VaporwaveSunIconAppearance.initStaticConstsAfterClassDefinition&&window.VaporwaveSunIconAppearance.initStaticConstsAfterClassDefinition(),window.VaporwaveSunIconWdgt=function(t){this.color=t,VaporwaveSunIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new VaporwaveSunIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VaporwaveSunIconWdgt,"name",{value:"VaporwaveSunIconWdgt"}),window.VaporwaveSunIconWdgt.__super__=window.IconMorph.prototype,window.VaporwaveSunIconWdgt=extend(window.VaporwaveSunIconWdgt,window.IconMorph),window.VaporwaveSunIconWdgt.instances=new Set,"function"==typeof window.VaporwaveSunIconWdgt.initStaticConstsAfterClassDefinition&&window.VaporwaveSunIconWdgt.initStaticConstsAfterClassDefinition(),window.VideoPlayIconAppearance=function(t){this.morph=t,VideoPlayIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VideoPlayIconAppearance,"name",{value:"VideoPlayIconAppearance"}),window.VideoPlayIconAppearance.__super__=window.IconAppearance.prototype,window.VideoPlayIconAppearance=extend(window.VideoPlayIconAppearance,window.IconAppearance),window.VideoPlayIconAppearance.prototype.paintFunction=function(t){var e;return"rgb(255, 255, 255)",e="rgb(255, 38, 0)",t.beginPath(),t.moveTo(90.5,.5),t.lineTo(9,.5),t.lineTo(9,.5),t.bezierCurveTo(0,.5,.5,0,.5,9),t.lineTo(.5,90.5),t.lineTo(.5,90.5),t.bezierCurveTo(.5,100,0,99.5,9,99.5),t.lineTo(90.5,99.5),t.lineTo(90.5,99.5),t.bezierCurveTo(100,99.5,99.5,100,99.5,90.5),t.lineTo(99.5,9),t.lineTo(99.5,9),t.bezierCurveTo(99.5,0,100,.5,90.5,.5),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(92.5,32.5),t.bezierCurveTo(92.5,32.5,91.5,26.5,89,24),t.bezierCurveTo(85.5,21,82,20.5,80,20.5),t.bezierCurveTo(68,19.5,50,19.5,50,19.5),t.lineTo(50,19.5),t.bezierCurveTo(50,19.5,31.5,19.5,19.5,20.5),t.bezierCurveTo(18,20.5,14,20.5,11,24),t.bezierCurveTo(8,26.5,7.5,32.5,7.5,32.5),t.bezierCurveTo(7.5,32.5,6.5,39.5,6.5,46),t.lineTo(6.5,53),t.bezierCurveTo(6.5,59.5,7.5,66.5,7.5,66.5),t.bezierCurveTo(7.5,66.5,8,72.5,11,75),t.bezierCurveTo(14,78,18.5,78,20.5,78.5),t.bezierCurveTo(27.5,79,50,79.5,50,79.5),t.bezierCurveTo(50,79.5,68,79.5,80,78.5),t.bezierCurveTo(82,78.5,85.5,78.5,89,75),t.bezierCurveTo(91.5,72.5,92.5,66.5,92.5,66.5),t.bezierCurveTo(92.5,66.5,93.5,59.5,93.5,53),t.lineTo(93.5,46.5),t.bezierCurveTo(93.5,39.5,92.5,32.5,92.5,32.5),t.closePath(),t.fillStyle="rgb(255, 255, 255)",t.fill(),t.beginPath(),t.moveTo(41,60.5),t.lineTo(64.5,48.5),t.lineTo(41,36.5),t.lineTo(41,60.5),t.closePath(),t.fillStyle=e,t.fill()},window.VideoPlayIconAppearance.instances=new Set,"function"==typeof window.VideoPlayIconAppearance.initStaticConstsAfterClassDefinition&&window.VideoPlayIconAppearance.initStaticConstsAfterClassDefinition(),window.VideoPlayIconWdgt=function(t){this.color=t,VideoPlayIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new VideoPlayIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VideoPlayIconWdgt,"name",{value:"VideoPlayIconWdgt"}),window.VideoPlayIconWdgt.__super__=window.IconMorph.prototype,window.VideoPlayIconWdgt=extend(window.VideoPlayIconWdgt,window.IconMorph),window.VideoPlayIconWdgt.instances=new Set,"function"==typeof window.VideoPlayIconWdgt.initStaticConstsAfterClassDefinition&&window.VideoPlayIconWdgt.initStaticConstsAfterClassDefinition(),window.WelcomeIconAppearance=function(t){this.morph=t,WelcomeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WelcomeIconAppearance,"name",{value:"WelcomeIconAppearance"}),window.WelcomeIconAppearance.__super__=window.IconAppearance.prototype,window.WelcomeIconAppearance=extend(window.WelcomeIconAppearance,window.IconAppearance),window.WelcomeIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(97.26,70.79),t.bezierCurveTo(97.19,70.22,82.93,34.78,82.93,34.78),t.lineTo(81.81,33.52),t.bezierCurveTo(81.67,31.89,80.85,30.39,79.54,29.37),t.lineTo(77.74,24.85),t.bezierCurveTo(76.55,21.85,75.44,20.19,74.35,19.78),t.bezierCurveTo(73.84,19.59,69.87,21.34,69.76,21.44),t.lineTo(69.36,20.02),t.bezierCurveTo(69.4,19.91,70.16,17.4,69.66,14.48),t.bezierCurveTo(69.19,11.74,66.5,8.12,61.07,6.49),t.bezierCurveTo(61.07,6.49,50.53,3.33,47.56,3.82),t.bezierCurveTo(44.78,4.28,41.11,5.95,39.45,11.3),t.lineTo(37.34,18.09),t.lineTo(34.31,17.18),t.bezierCurveTo(33.35,16.89,31.73,17.09,31.2,18.81),t.bezierCurveTo(31.2,18.81,29.54,23.97,29.64,24.6),t.bezierCurveTo(29.8,25.5,30.41,26.16,31.37,26.44),t.lineTo(62.16,36.71),t.bezierCurveTo(61.96,37,61.7,38.23,61.7,38.23),t.bezierCurveTo(61.68,38.32,68.27,39.64,69.68,39.9),t.lineTo(67.21,41.42),t.lineTo(75.41,63.47),t.lineTo(53.54,63.47),t.lineTo(46.44,72.61),t.lineTo(39.34,63.47),t.lineTo(30.44,63.62),t.bezierCurveTo(30.11,63.68,23.97,65.61,22.33,67.01),t.bezierCurveTo(20.81,68.31,19,73.62,19,77.34),t.lineTo(19,95.28),t.lineTo(74.87,95.28),t.lineTo(74.87,79.19),t.bezierCurveTo(74.87,79.19,90.58,79.14,90.65,79.13),t.bezierCurveTo(92.66,78.89,94.46,77.89,95.71,76.31),t.bezierCurveTo(96.96,74.74,97.51,72.77,97.26,70.79),t.closePath(),t.moveTo(69.38,32.39),t.lineTo(68.73,32.3),t.lineTo(69.43,29.94),t.bezierCurveTo(69.43,29.94,70.59,30.51,70.62,30.59),t.bezierCurveTo(70.63,30.61,69.47,32.37,69.38,32.39),t.closePath(),t.strokeStyle=n,t.lineWidth=3.5,t.miterLimit=4,t.stroke(),this.oval(t,32,31,31,35),t.strokeStyle=n,t.lineWidth=3.5,t.stroke(),t.beginPath(),t.moveTo(94.27,69.39),t.bezierCurveTo(94.2,68.86,81.04,35.74,81.04,35.74),t.lineTo(80,34.57),t.bezierCurveTo(79.87,33.04,79.11,31.64,77.9,30.69),t.lineTo(76.24,26.46),t.bezierCurveTo(75.14,23.66,74.11,22.11,73.11,21.73),t.bezierCurveTo(72.64,21.55,71.45,22.1,71.45,22.1),t.bezierCurveTo(70.95,22.35,70.75,22.82,70.79,23.26),t.bezierCurveTo(70.41,23.06,70.07,22.96,69.75,22.96),t.bezierCurveTo(69.25,22.95,68.97,23.18,68.87,23.28),t.bezierCurveTo(68.87,23.28,67.83,25.12,68.15,25.54),t.lineTo(68.92,26.53),t.bezierCurveTo(67.79,26.19,66.89,26.13,66.24,26.36),t.lineTo(67.59,21.94),t.bezierCurveTo(67.62,21.84,68.33,19.5,67.87,16.77),t.bezierCurveTo(67.43,14.21,65.86,10.83,60.85,9.3),t.bezierCurveTo(60.85,9.3,51.11,6.35,48.38,6.81),t.bezierCurveTo(45.8,7.24,42.41,8.8,40.88,13.8),t.lineTo(38.93,20.15),t.lineTo(36.14,19.29),t.bezierCurveTo(35.25,19.02,33.76,19.21,33.26,20.82),t.bezierCurveTo(33.26,20.82,32.64,22.87,32.74,23.45),t.bezierCurveTo(32.88,24.3,33.45,24.91,34.33,25.18),t.lineTo(62.77,33.85),t.bezierCurveTo(62.58,34.12,62.34,35.27,62.34,35.27),t.bezierCurveTo(62.32,35.36,62.27,35.82,62.45,36.35),t.bezierCurveTo(62.71,37.12,63.33,37.61,64.2,37.73),t.lineTo(70.07,38.55),t.bezierCurveTo(70.91,39.59,72.05,40.28,73.35,40.53),t.lineTo(71.08,41.95),t.lineTo(79.56,65.33),t.lineTo(53.9,65.33),t.lineTo(47.34,73.87),t.lineTo(40.78,65.33),t.lineTo(32.56,65.46),t.bezierCurveTo(32.26,65.52,26.59,67.32,25.08,68.63),t.bezierCurveTo(23.67,69.85,22,72.04,22,75.52),t.lineTo(22,92.28),t.lineTo(72.68,92.28),t.lineTo(72.68,77.24),t.bezierCurveTo(72.68,77.24,88.09,77.2,88.16,77.19),t.bezierCurveTo(90.02,76.96,91.68,76.02,92.83,74.55),t.bezierCurveTo(93.99,73.08,94.5,71.25,94.27,69.39),t.closePath(),t.moveTo(68.52,33.51),t.lineTo(67.92,33.42),t.lineTo(68.56,31.22),t.bezierCurveTo(68.56,31.22,69.63,31.76,69.66,31.83),t.bezierCurveTo(69.67,31.85,68.61,33.49,68.52,33.51),t.closePath(),t.fillStyle=n,t.fill(),t.strokeStyle=e,t.lineWidth=3.5,t.miterLimit=4,t.stroke(),this.oval(t,35,34,26,29),t.fillStyle=n,t.fill(),t.strokeStyle=e,t.lineWidth=3.5,t.stroke()},window.WelcomeIconAppearance.instances=new Set,"function"==typeof window.WelcomeIconAppearance.initStaticConstsAfterClassDefinition&&window.WelcomeIconAppearance.initStaticConstsAfterClassDefinition(),window.WelcomeIconWdgt=function(t){this.color=t,WelcomeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WelcomeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WelcomeIconWdgt,"name",{value:"WelcomeIconWdgt"}),window.WelcomeIconWdgt.__super__=window.IconMorph.prototype,window.WelcomeIconWdgt=extend(window.WelcomeIconWdgt,window.IconMorph),window.WelcomeIconWdgt.instances=new Set,"function"==typeof window.WelcomeIconWdgt.initStaticConstsAfterClassDefinition&&window.WelcomeIconWdgt.initStaticConstsAfterClassDefinition(),window.WidgetIconAppearance=function(t){this.morph=t,WidgetIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WidgetIconAppearance,"name",{value:"WidgetIconAppearance"}),window.WidgetIconAppearance.__super__=window.IconAppearance.prototype,window.WidgetIconAppearance=extend(window.WidgetIconAppearance,window.IconAppearance),window.WidgetIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(75.84,2.66),t.bezierCurveTo(76.24,3.42,86.61,23.22,86.61,23.22),t.lineTo(97.42,43.78),t.bezierCurveTo(97.71,44.33,97.86,44.94,97.86,45.57),t.bezierCurveTo(97.86,47.55,96.4,49.15,94.61,49.16),t.bezierCurveTo(94.61,49.16,89.27,49.16,83.91,49.16),t.bezierCurveTo(91.29,50.22,97,56.61,97,64.27),t.lineTo(97,81.73),t.bezierCurveTo(97,90.13,90.13,97,81.73,97),t.lineTo(64.27,97),t.bezierCurveTo(56.14,97,49.44,90.56,49.02,82.53),t.bezierCurveTo(45.32,91.03,36.83,97,27,97),t.bezierCurveTo(13.78,97,3,86.22,3,73),t.bezierCurveTo(3,63.17,8.97,54.68,17.47,50.98),t.bezierCurveTo(9.44,50.56,3,43.86,3,35.73),t.lineTo(3,18.27),t.bezierCurveTo(3,9.87,9.87,3,18.27,3),t.lineTo(35.73,3),t.bezierCurveTo(44.13,3,51,9.87,51,18.27),t.lineTo(51,35.73),t.bezierCurveTo(51,37.54,50.68,39.28,50.1,40.89),t.bezierCurveTo(53.07,35.24,59.39,23.22,59.39,23.22),t.lineTo(70.15,2.69),t.lineTo(70.22,2.54),t.bezierCurveTo(70.78,1.55,71.75,.91,72.82,.84),t.bezierCurveTo(74.07,.77,75.24,1.48,75.84,2.66),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(72.84,4.84),t.lineTo(72.85,4.84),t.bezierCurveTo(71.86,4.9,70.97,5.51,70.49,6.46),t.lineTo(61.03,24.44),t.lineTo(51.53,42.44),t.lineTo(51.53,42.45),t.bezierCurveTo(50.73,43.95,51.2,45.87,52.58,46.74),t.bezierCurveTo(53.01,47.01,53.51,47.16,54.01,47.16),t.lineTo(73,47.16),t.lineTo(92,47.16),t.lineTo(91.99,47.16),t.bezierCurveTo(93.57,47.16,94.86,45.75,94.86,44.02),t.bezierCurveTo(94.86,43.47,94.73,42.93,94.47,42.45),t.lineTo(84.97,24.44),t.lineTo(75.5,6.44),t.lineTo(75.51,6.46),t.bezierCurveTo(74.98,5.41,73.95,4.78,72.85,4.84),t.lineTo(72.84,4.84),t.closePath(),t.moveTo(19,5),t.bezierCurveTo(11.3,5,5,11.3,5,19),t.lineTo(5,35),t.bezierCurveTo(5,42.7,11.3,49,19,49),t.lineTo(35,49),t.bezierCurveTo(42.7,49,49,42.7,49,35),t.lineTo(49,19),t.bezierCurveTo(49,11.3,42.7,5,35,5),t.lineTo(19,5),t.closePath(),t.moveTo(19,11),t.lineTo(35,11),t.bezierCurveTo(39.48,11,43,14.52,43,19),t.lineTo(43,35),t.bezierCurveTo(43,39.48,39.48,43,35,43),t.lineTo(19,43),t.bezierCurveTo(14.52,43,11,39.48,11,35),t.lineTo(11,19),t.bezierCurveTo(11,14.52,14.52,11,19,11),t.closePath(),t.moveTo(73,14.28),t.lineTo(80.03,27.56),t.lineTo(87,40.84),t.lineTo(73,40.84),t.lineTo(59,40.84),t.lineTo(65.97,27.56),t.lineTo(73,14.28),t.closePath(),t.moveTo(27,51),t.bezierCurveTo(14.89,51,5,60.89,5,73),t.bezierCurveTo(5,85.11,14.89,95,27,95),t.bezierCurveTo(39.11,95,49,85.11,49,73),t.bezierCurveTo(49,60.89,39.11,51,27,51),t.closePath(),t.moveTo(65,51),t.bezierCurveTo(57.3,51,51,57.3,51,65),t.lineTo(51,81),t.bezierCurveTo(51,88.7,57.3,95,65,95),t.lineTo(81,95),t.bezierCurveTo(88.7,95,95,88.7,95,81),t.lineTo(95,65),t.bezierCurveTo(95,57.3,88.7,51,81,51),t.lineTo(65,51),t.closePath(),t.moveTo(27,57),t.bezierCurveTo(35.87,57,43,64.13,43,73),t.bezierCurveTo(43,81.87,35.87,89,27,89),t.bezierCurveTo(18.13,89,11,81.87,11,73),t.bezierCurveTo(11,64.13,18.13,57,27,57),t.closePath(),t.moveTo(65,57),t.lineTo(81,57),t.bezierCurveTo(85.48,57,89,60.52,89,65),t.lineTo(89,81),t.bezierCurveTo(89,85.48,85.48,89,81,89),t.lineTo(65,89),t.bezierCurveTo(60.52,89,57,85.48,57,81),t.lineTo(57,65),t.bezierCurveTo(57,60.52,60.52,57,65,57),t.closePath(),t.fillStyle=e,t.fill()},window.WidgetIconAppearance.instances=new Set,"function"==typeof window.WidgetIconAppearance.initStaticConstsAfterClassDefinition&&window.WidgetIconAppearance.initStaticConstsAfterClassDefinition(),window.WidgetIconWdgt=function(t){this.color=t,WidgetIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WidgetIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WidgetIconWdgt,"name",{value:"WidgetIconWdgt"}),window.WidgetIconWdgt.__super__=window.IconMorph.prototype,window.WidgetIconWdgt=extend(window.WidgetIconWdgt,window.IconMorph),window.WidgetIconWdgt.instances=new Set,"function"==typeof window.WidgetIconWdgt.initStaticConstsAfterClassDefinition&&window.WidgetIconWdgt.initStaticConstsAfterClassDefinition(),window.WindowWithCroppingPanelIconAppearance=function(t){this.morph=t,WindowWithCroppingPanelIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithCroppingPanelIconAppearance,"name",{value:"WindowWithCroppingPanelIconAppearance"}),window.WindowWithCroppingPanelIconAppearance.__super__=window.IconAppearance.prototype,window.WindowWithCroppingPanelIconAppearance=extend(window.WindowWithCroppingPanelIconAppearance,window.IconAppearance),window.WindowWithCroppingPanelIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),this.oval(t,11,11,6,6),t.fillStyle=e,t.fill(),this.oval(t,22,11,6,6),t.fillStyle=e,t.fill(),this.arc(t,-17,32,44,44,270,90,!0),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(5,24),t.lineTo(91,24),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.rect(4,4,88,88),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke()},window.WindowWithCroppingPanelIconAppearance.instances=new Set,"function"==typeof window.WindowWithCroppingPanelIconAppearance.initStaticConstsAfterClassDefinition&&window.WindowWithCroppingPanelIconAppearance.initStaticConstsAfterClassDefinition(),window.WindowWithCroppingPanelIconWdgt=function(t){this.color=t,WindowWithCroppingPanelIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowWithCroppingPanelIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithCroppingPanelIconWdgt,"name",{value:"WindowWithCroppingPanelIconWdgt"}),window.WindowWithCroppingPanelIconWdgt.__super__=window.IconMorph.prototype,window.WindowWithCroppingPanelIconWdgt=extend(window.WindowWithCroppingPanelIconWdgt,window.IconMorph),window.WindowWithCroppingPanelIconWdgt.instances=new Set,"function"==typeof window.WindowWithCroppingPanelIconWdgt.initStaticConstsAfterClassDefinition&&window.WindowWithCroppingPanelIconWdgt.initStaticConstsAfterClassDefinition(),window.WindowWithScrollingPanelIconAppearance=function(t){this.morph=t,WindowWithScrollingPanelIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithScrollingPanelIconAppearance,"name",{value:"WindowWithScrollingPanelIconAppearance"}),window.WindowWithScrollingPanelIconAppearance.__super__=window.IconAppearance.prototype,window.WindowWithScrollingPanelIconAppearance=extend(window.WindowWithScrollingPanelIconAppearance,window.IconAppearance),window.WindowWithScrollingPanelIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),this.oval(t,11,11,6,6),t.fillStyle=e,t.fill(),this.oval(t,22,11,6,6),t.fillStyle=e,t.fill(),this.arc(t,-17,32,44,44,270,90,!0),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(28,82),t.lineTo(83,82),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(82,33),t.lineTo(82,60),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(5,24),t.lineTo(91,24),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.rect(4,4,88,88),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke()},window.WindowWithScrollingPanelIconAppearance.instances=new Set,"function"==typeof window.WindowWithScrollingPanelIconAppearance.initStaticConstsAfterClassDefinition&&window.WindowWithScrollingPanelIconAppearance.initStaticConstsAfterClassDefinition(),window.WindowWithScrollingPanelIconWdgt=function(t){this.color=t,WindowWithScrollingPanelIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowWithScrollingPanelIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithScrollingPanelIconWdgt,"name",{value:"WindowWithScrollingPanelIconWdgt"}),window.WindowWithScrollingPanelIconWdgt.__super__=window.IconMorph.prototype,window.WindowWithScrollingPanelIconWdgt=extend(window.WindowWithScrollingPanelIconWdgt,window.IconMorph),window.WindowWithScrollingPanelIconWdgt.instances=new Set,"function"==typeof window.WindowWithScrollingPanelIconWdgt.initStaticConstsAfterClassDefinition&&window.WindowWithScrollingPanelIconWdgt.initStaticConstsAfterClassDefinition(),window.WindowsToolbarIconAppearance=function(t){this.morph=t,WindowsToolbarIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowsToolbarIconAppearance,"name",{value:"WindowsToolbarIconAppearance"}),window.WindowsToolbarIconAppearance.__super__=window.IconAppearance.prototype,window.WindowsToolbarIconAppearance=extend(window.WindowsToolbarIconAppearance,window.IconAppearance),window.WindowsToolbarIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),this.oval(t,11,11,6,6),t.fillStyle=e,t.fill(),this.oval(t,22,11,6,6),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(5,24),t.lineTo(91,24),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.rect(4,4,88,88),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke()},window.WindowsToolbarIconAppearance.instances=new Set,"function"==typeof window.WindowsToolbarIconAppearance.initStaticConstsAfterClassDefinition&&window.WindowsToolbarIconAppearance.initStaticConstsAfterClassDefinition(),window.WindowsToolbarIconWdgt=function(t){this.color=t,WindowsToolbarIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowsToolbarIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowsToolbarIconWdgt,"name",{value:"WindowsToolbarIconWdgt"}),window.WindowsToolbarIconWdgt.__super__=window.IconMorph.prototype,window.WindowsToolbarIconWdgt=extend(window.WindowsToolbarIconWdgt,window.IconMorph),window.WindowsToolbarIconWdgt.instances=new Set,"function"==typeof window.WindowsToolbarIconWdgt.initStaticConstsAfterClassDefinition&&window.WindowsToolbarIconWdgt.initStaticConstsAfterClassDefinition(),window.SimpleUSAMapIconAppearance=function(t){this.morph=t,SimpleUSAMapIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(500,313),this.specificationSize=new Point(1e3,626),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleUSAMapIconAppearance,"name",{value:"SimpleUSAMapIconAppearance"}),window.SimpleUSAMapIconAppearance.__super__=window.IconAppearance.prototype,window.SimpleUSAMapIconAppearance=extend(window.SimpleUSAMapIconAppearance,window.IconAppearance),window.SimpleUSAMapIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color.toString(),t.beginPath(),t.moveTo(967,167),t.lineTo(971,169),t.lineTo(972,175),t.lineTo(962,182),t.lineTo(954,184),t.lineTo(953,181),t.lineTo(949,179),t.lineTo(946,173),t.lineTo(938,175),t.lineTo(922,179),t.lineTo(910,182),t.lineTo(910,166),t.lineTo(923,163),t.lineTo(923,163),t.lineTo(923,163),t.lineTo(924,163),t.lineTo(924,163),t.lineTo(944,158),t.lineTo(945,155),t.lineTo(948,152),t.lineTo(949,152),t.lineTo(953,164),t.lineTo(962,175),t.lineTo(971,173),t.lineTo(967,167),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(953,184),t.lineTo(943,191),t.lineTo(943,188),t.lineTo(939,176),t.lineTo(945,174),t.lineTo(948,180),t.lineTo(952,182),t.lineTo(953,184),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(910,217),t.lineTo(909,210),t.lineTo(909,209),t.lineTo(909,209),t.lineTo(909,209),t.lineTo(909,209),t.lineTo(894,204),t.lineTo(894,203),t.lineTo(893,203),t.lineTo(892,203),t.lineTo(892,203),t.lineTo(890,202),t.lineTo(887,201),t.lineTo(885,199),t.lineTo(885,196),t.lineTo(882,194),t.lineTo(877,191),t.lineTo(853,196),t.lineTo(828,202),t.lineTo(801,207),t.lineTo(800,201),t.lineTo(813,184),t.lineTo(812,182),t.lineTo(812,182),t.lineTo(808,176),t.lineTo(816,172),t.lineTo(829,170),t.lineTo(844,169),t.lineTo(856,158),t.lineTo(852,149),t.lineTo(850,146),t.lineTo(863,126),t.lineTo(870,120),t.lineTo(894,114),t.lineTo(894,118),t.lineTo(895,121),t.lineTo(897,128),t.lineTo(898,132),t.lineTo(898,137),t.lineTo(901,143),t.lineTo(901,146),t.lineTo(902,148),t.lineTo(904,147),t.lineTo(908,166),t.lineTo(908,182),t.lineTo(908,182),t.lineTo(908,183),t.lineTo(908,183),t.lineTo(909,183),t.lineTo(912,201),t.lineTo(913,202),t.lineTo(910,205),t.lineTo(912,209),t.lineTo(913,209),t.lineTo(936,199),t.lineTo(941,202),t.lineTo(920,214),t.lineTo(910,217),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(900,254),t.lineTo(895,254),t.lineTo(889,249),t.lineTo(888,249),t.lineTo(887,246),t.lineTo(889,244),t.lineTo(892,241),t.lineTo(893,239),t.lineTo(896,235),t.lineTo(899,231),t.lineTo(891,226),t.lineTo(890,223),t.lineTo(888,223),t.lineTo(888,220),t.lineTo(889,217),t.lineTo(887,214),t.lineTo(890,212),t.lineTo(891,206),t.lineTo(893,205),t.lineTo(905,209),t.lineTo(907,210),t.lineTo(904,223),t.lineTo(909,223),t.lineTo(910,240),t.lineTo(902,259),t.lineTo(900,254),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(891,304),t.lineTo(894,288),t.lineTo(895,286),t.lineTo(897,285),t.lineTo(892,304),t.lineTo(891,304),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(820,446),t.lineTo(814,464),t.lineTo(812,478),t.lineTo(809,478),t.lineTo(804,477),t.lineTo(801,478),t.lineTo(802,487),t.lineTo(801,488),t.lineTo(799,485),t.lineTo(765,486),t.lineTo(744,488),t.lineTo(741,482),t.lineTo(739,479),t.lineTo(738,476),t.lineTo(738,473),t.lineTo(738,468),t.lineTo(736,464),t.lineTo(736,457),t.lineTo(739,452),t.lineTo(737,447),t.lineTo(733,440),t.lineTo(726,417),t.lineTo(717,389),t.lineTo(732,388),t.lineTo(742,386),t.lineTo(757,384),t.lineTo(764,383),t.lineTo(764,384),t.lineTo(761,390),t.lineTo(767,394),t.lineTo(771,394),t.lineTo(775,401),t.lineTo(778,405),t.lineTo(786,410),t.lineTo(788,412),t.lineTo(793,416),t.lineTo(796,421),t.lineTo(803,425),t.lineTo(806,430),t.lineTo(807,432),t.lineTo(807,434),t.lineTo(811,436),t.lineTo(814,440),t.lineTo(814,445),t.lineTo(817,445),t.lineTo(820,446),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(842,609),t.lineTo(837,599),t.lineTo(827,595),t.lineTo(813,576),t.lineTo(800,560),t.lineTo(796,549),t.lineTo(798,534),t.lineTo(791,521),t.lineTo(775,508),t.lineTo(761,501),t.lineTo(739,513),t.lineTo(734,508),t.lineTo(713,499),t.lineTo(691,504),t.lineTo(692,502),t.lineTo(692,496),t.lineTo(687,491),t.lineTo(687,490),t.lineTo(698,488),t.lineTo(740,483),t.lineTo(744,489),t.lineTo(765,487),t.lineTo(798,486),t.lineTo(801,491),t.lineTo(804,487),t.lineTo(803,479),t.lineTo(804,478),t.lineTo(809,479),t.lineTo(812,479),t.lineTo(818,495),t.lineTo(829,514),t.lineTo(841,530),t.lineTo(843,539),t.lineTo(856,562),t.lineTo(861,583),t.lineTo(860,604),t.lineTo(852,610),t.lineTo(842,609),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(689,504),t.lineTo(672,503),t.lineTo(668,467),t.lineTo(668,429),t.lineTo(669,398),t.lineTo(669,398),t.lineTo(668,394),t.lineTo(691,392),t.lineTo(716,390),t.lineTo(724,418),t.lineTo(732,441),t.lineTo(736,448),t.lineTo(738,452),t.lineTo(735,456),t.lineTo(735,464),t.lineTo(736,469),t.lineTo(736,473),t.lineTo(736,477),t.lineTo(738,480),t.lineTo(739,482),t.lineTo(698,486),t.lineTo(686,489),t.lineTo(686,492),t.lineTo(691,497),t.lineTo(690,501),t.lineTo(689,504),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(670,504),t.lineTo(659,510),t.lineTo(647,510),t.lineTo(647,508),t.lineTo(646,504),t.lineTo(643,502),t.lineTo(642,499),t.lineTo(643,495),t.lineTo(643,490),t.lineTo(623,491),t.lineTo(605,492),t.lineTo(604,487),t.lineTo(606,484),t.lineTo(608,478),t.lineTo(610,473),t.lineTo(613,469),t.lineTo(614,465),t.lineTo(617,462),t.lineTo(614,457),t.lineTo(615,454),t.lineTo(611,450),t.lineTo(613,446),t.lineTo(612,445),t.lineTo(612,440),t.lineTo(610,434),t.lineTo(610,429),t.lineTo(614,420),t.lineTo(615,415),t.lineTo(619,412),t.lineTo(621,410),t.lineTo(623,403),t.lineTo(623,403),t.lineTo(623,403),t.lineTo(623,400),t.lineTo(626,398),t.lineTo(627,397),t.lineTo(645,395),t.lineTo(666,394),t.lineTo(668,398),t.lineTo(667,429),t.lineTo(667,467),t.lineTo(670,504),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(624,537),t.lineTo(606,533),t.lineTo(593,529),t.lineTo(577,526),t.lineTo(559,526),t.lineTo(558,524),t.lineTo(560,520),t.lineTo(563,517),t.lineTo(563,512),t.lineTo(561,510),t.lineTo(563,505),t.lineTo(564,502),t.lineTo(566,493),t.lineTo(564,490),t.lineTo(561,484),t.lineTo(559,479),t.lineTo(558,475),t.lineTo(555,472),t.lineTo(553,448),t.lineTo(572,447),t.lineTo(594,446),t.lineTo(611,446),t.lineTo(611,446),t.lineTo(610,450),t.lineTo(613,455),t.lineTo(612,458),t.lineTo(615,461),t.lineTo(613,464),t.lineTo(612,468),t.lineTo(608,472),t.lineTo(607,478),t.lineTo(605,483),t.lineTo(603,486),t.lineTo(604,493),t.lineTo(623,493),t.lineTo(641,492),t.lineTo(641,495),t.lineTo(640,499),t.lineTo(642,502),t.lineTo(645,505),t.lineTo(645,509),t.lineTo(646,511),t.lineTo(644,521),t.lineTo(651,534),t.lineTo(624,537),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(558,526),t.lineTo(540,532),t.lineTo(521,550),t.lineTo(500,560),t.lineTo(488,572),t.lineTo(483,583),t.lineTo(482,600),t.lineTo(482,600),t.lineTo(483,612),t.lineTo(487,619),t.lineTo(480,620),t.lineTo(464,614),t.lineTo(448,606),t.lineTo(442,595),t.lineTo(438,577),t.lineTo(426,563),t.lineTo(419,549),t.lineTo(409,531),t.lineTo(395,521),t.lineTo(377,520),t.lineTo(362,538),t.lineTo(346,529),t.lineTo(336,521),t.lineTo(332,508),t.lineTo(326,495),t.lineTo(315,483),t.lineTo(306,474),t.lineTo(299,465),t.lineTo(297,461),t.lineTo(298,460),t.lineTo(315,462),t.lineTo(352,465),t.lineTo(371,467),t.lineTo(379,360),t.lineTo(398,361),t.lineTo(417,362),t.lineTo(436,363),t.lineTo(434,409),t.lineTo(439,412),t.lineTo(442,414),t.lineTo(447,413),t.lineTo(450,418),t.lineTo(457,420),t.lineTo(462,421),t.lineTo(471,421),t.lineTo(474,427),t.lineTo(480,425),t.lineTo(485,428),t.lineTo(491,430),t.lineTo(494,427),t.lineTo(497,431),t.lineTo(504,429),t.lineTo(507,431),t.lineTo(511,429),t.lineTo(514,428),t.lineTo(518,427),t.lineTo(525,428),t.lineTo(529,426),t.lineTo(535,428),t.lineTo(543,433),t.lineTo(544,435),t.lineTo(549,434),t.lineTo(552,434),t.lineTo(552,446),t.lineTo(552,446),t.lineTo(552,447),t.lineTo(552,448),t.lineTo(552,448),t.lineTo(553,473),t.lineTo(557,476),t.lineTo(560,485),t.lineTo(563,490),t.lineTo(564,493),t.lineTo(563,502),t.lineTo(561,504),t.lineTo(560,511),t.lineTo(561,512),t.lineTo(561,516),t.lineTo(558,520),t.lineTo(556,524),t.lineTo(556,524),t.lineTo(556,524),t.lineTo(558,526),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(297,464),t.lineTo(263,460),t.lineTo(261,470),t.lineTo(247,468),t.lineTo(266,335),t.lineTo(266,335),t.lineTo(266,335),t.lineTo(295,339),t.lineTo(324,343),t.lineTo(357,346),t.lineTo(379,348),t.lineTo(378,356),t.lineTo(378,359),t.lineTo(370,465),t.lineTo(352,464),t.lineTo(315,460),t.lineTo(296,458),t.lineTo(296,461),t.lineTo(297,464),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(89,400),t.lineTo(84,386),t.lineTo(66,367),t.lineTo(59,364),t.lineTo(52,354),t.lineTo(38,348),t.lineTo(34,344),t.lineTo(35,331),t.lineTo(24,302),t.lineTo(18,266),t.lineTo(20,261),t.lineTo(14,251),t.lineTo(7,228),t.lineTo(10,208),t.lineTo(5,193),t.lineTo(14,176),t.lineTo(20,157),t.lineTo(90,178),t.lineTo(72,246),t.lineTo(98,287),t.lineTo(124,325),t.lineTo(150,362),t.lineTo(149,364),t.lineTo(150,367),t.lineTo(151,371),t.lineTo(152,376),t.lineTo(155,381),t.lineTo(148,385),t.lineTo(144,395),t.lineTo(139,400),t.lineTo(140,404),t.lineTo(140,408),t.lineTo(142,412),t.lineTo(140,415),t.lineTo(137,415),t.lineTo(137,415),t.lineTo(112,412),t.lineTo(90,409),t.lineTo(89,400),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(55,59),t.lineTo(57,39),t.lineTo(61,17),t.lineTo(80,28),t.lineTo(82,49),t.lineTo(89,43),t.lineTo(92,23),t.lineTo(90,3),t.lineTo(135,15),t.lineTo(180,27),t.lineTo(173,56),t.lineTo(166,89),t.lineTo(167,93),t.lineTo(166,96),t.lineTo(133,88),t.lineTo(126,89),t.lineTo(123,87),t.lineTo(119,88),t.lineTo(112,89),t.lineTo(105,87),t.lineTo(105,87),t.lineTo(105,87),t.lineTo(101,88),t.lineTo(97,88),t.lineTo(95,86),t.lineTo(90,83),t.lineTo(85,83),t.lineTo(79,83),t.lineTo(75,82),t.lineTo(72,80),t.lineTo(72,77),t.lineTo(72,73),t.lineTo(71,68),t.lineTo(66,65),t.lineTo(63,61),t.lineTo(58,60),t.lineTo(55,59),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(527,66),t.lineTo(527,56),t.lineTo(531,56),t.lineTo(534,69),t.lineTo(540,73),t.lineTo(551,75),t.lineTo(568,78),t.lineTo(584,85),t.lineTo(597,81),t.lineTo(615,86),t.lineTo(600,94),t.lineTo(589,104),t.lineTo(578,115),t.lineTo(578,118),t.lineTo(574,120),t.lineTo(575,133),t.lineTo(567,139),t.lineTo(565,144),t.lineTo(568,148),t.lineTo(567,154),t.lineTo(567,160),t.lineTo(567,166),t.lineTo(573,171),t.lineTo(575,171),t.lineTo(580,174),t.lineTo(582,176),t.lineTo(583,178),t.lineTo(588,182),t.lineTo(594,185),t.lineTo(595,187),t.lineTo(595,192),t.lineTo(595,194),t.lineTo(573,195),t.lineTo(548,196),t.lineTo(524,197),t.lineTo(506,197),t.lineTo(506,175),t.lineTo(504,152),t.lineTo(501,150),t.lineTo(500,146),t.lineTo(501,144),t.lineTo(505,141),t.lineTo(505,138),t.lineTo(505,138),t.lineTo(505,137),t.lineTo(505,136),t.lineTo(505,136),t.lineTo(505,132),t.lineTo(504,129),t.lineTo(503,125),t.lineTo(502,120),t.lineTo(502,114),t.lineTo(501,113),t.lineTo(501,106),t.lineTo(501,103),t.lineTo(500,100),t.lineTo(499,95),t.lineTo(497,90),t.lineTo(496,86),t.lineTo(495,81),t.lineTo(495,77),t.lineTo(496,74),t.lineTo(496,71),t.lineTo(495,67),t.lineTo(494,66),t.lineTo(527,66),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(665,235),t.lineTo(666,235),t.lineTo(673,235),t.lineTo(677,231),t.lineTo(696,230),t.lineTo(712,228),t.lineTo(715,250),t.lineTo(719,289),t.lineTo(718,291),t.lineTo(720,295),t.lineTo(720,296),t.lineTo(717,297),t.lineTo(715,299),t.lineTo(710,299),t.lineTo(710,304),t.lineTo(707,306),t.lineTo(706,310),t.lineTo(703,311),t.lineTo(700,318),t.lineTo(697,317),t.lineTo(695,313),t.lineTo(691,319),t.lineTo(690,322),t.lineTo(686,319),t.lineTo(681,323),t.lineTo(680,324),t.lineTo(674,322),t.lineTo(670,325),t.lineTo(665,323),t.lineTo(665,326),t.lineTo(664,326),t.lineTo(664,322),t.lineTo(666,315),t.lineTo(669,310),t.lineTo(670,306),t.lineTo(672,304),t.lineTo(672,300),t.lineTo(670,296),t.lineTo(669,295),t.lineTo(670,288),t.lineTo(665,235),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(687,215),t.lineTo(685,199),t.lineTo(678,185),t.lineTo(678,175),t.lineTo(681,163),t.lineTo(684,155),t.lineTo(690,149),t.lineTo(692,156),t.lineTo(693,156),t.lineTo(695,144),t.lineTo(698,141),t.lineTo(699,132),t.lineTo(713,135),t.lineTo(726,142),t.lineTo(729,152),t.lineTo(729,163),t.lineTo(721,174),t.lineTo(723,181),t.lineTo(727,180),t.lineTo(736,169),t.lineTo(742,170),t.lineTo(747,183),t.lineTo(749,192),t.lineTo(743,206),t.lineTo(741,215),t.lineTo(736,224),t.lineTo(730,225),t.lineTo(722,226),t.lineTo(713,228),t.lineTo(713,226),t.lineTo(696,228),t.lineTo(679,230),t.lineTo(681,228),t.lineTo(687,215),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(643,98),t.lineTo(640,109),t.lineTo(650,112),t.lineTo(663,120),t.lineTo(677,113),t.lineTo(692,109),t.lineTo(697,115),t.lineTo(703,116),t.lineTo(703,113),t.lineTo(707,113),t.lineTo(706,115),t.lineTo(715,123),t.lineTo(702,127),t.lineTo(688,126),t.lineTo(675,132),t.lineTo(664,136),t.lineTo(656,151),t.lineTo(654,149),t.lineTo(655,145),t.lineTo(655,145),t.lineTo(655,145),t.lineTo(651,145),t.lineTo(651,142),t.lineTo(652,140),t.lineTo(652,140),t.lineTo(652,140),t.lineTo(650,136),t.lineTo(646,135),t.lineTo(645,131),t.lineTo(641,131),t.lineTo(636,131),t.lineTo(626,128),t.lineTo(612,124),t.lineTo(610,120),t.lineTo(609,120),t.lineTo(619,114),t.lineTo(631,106),t.lineTo(643,98),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(788,211),t.lineTo(799,202),t.lineTo(799,205),t.lineTo(800,208),t.lineTo(828,203),t.lineTo(853,198),t.lineTo(877,193),t.lineTo(881,195),t.lineTo(883,197),t.lineTo(883,199),t.lineTo(886,203),t.lineTo(889,204),t.lineTo(891,204),t.lineTo(890,205),t.lineTo(888,211),t.lineTo(886,214),t.lineTo(887,217),t.lineTo(886,220),t.lineTo(887,224),t.lineTo(889,225),t.lineTo(890,227),t.lineTo(897,231),t.lineTo(895,234),t.lineTo(892,238),t.lineTo(891,240),t.lineTo(888,242),t.lineTo(884,242),t.lineTo(882,244),t.lineTo(881,246),t.lineTo(866,249),t.lineTo(850,252),t.lineTo(838,255),t.lineTo(832,256),t.lineTo(815,259),t.lineTo(797,262),t.lineTo(793,241),t.lineTo(793,239),t.lineTo(788,211),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(846,261),t.lineTo(847,262),t.lineTo(848,263),t.lineTo(847,267),t.lineTo(837,262),t.lineTo(836,270),t.lineTo(835,272),t.lineTo(832,276),t.lineTo(830,279),t.lineTo(828,278),t.lineTo(825,286),t.lineTo(825,288),t.lineTo(823,289),t.lineTo(820,288),t.lineTo(817,286),t.lineTo(816,293),t.lineTo(813,297),t.lineTo(813,301),t.lineTo(810,304),t.lineTo(808,309),t.lineTo(808,309),t.lineTo(808,309),t.lineTo(808,309),t.lineTo(808,310),t.lineTo(809,312),t.lineTo(809,314),t.lineTo(807,316),t.lineTo(804,316),t.lineTo(802,318),t.lineTo(799,317),t.lineTo(799,317),t.lineTo(799,317),t.lineTo(799,320),t.lineTo(793,323),t.lineTo(791,322),t.lineTo(785,325),t.lineTo(782,324),t.lineTo(780,322),t.lineTo(779,319),t.lineTo(780,318),t.lineTo(779,318),t.lineTo(778,318),t.lineTo(778,318),t.lineTo(775,318),t.lineTo(773,316),t.lineTo(770,314),t.lineTo(768,310),t.lineTo(765,307),t.lineTo(765,302),t.lineTo(764,301),t.lineTo(769,299),t.lineTo(771,295),t.lineTo(770,290),t.lineTo(772,285),t.lineTo(773,285),t.lineTo(774,288),t.lineTo(777,286),t.lineTo(777,284),t.lineTo(777,279),t.lineTo(780,275),t.lineTo(782,275),t.lineTo(785,274),t.lineTo(787,273),t.lineTo(791,266),t.lineTo(791,264),t.lineTo(792,258),t.lineTo(793,252),t.lineTo(793,252),t.lineTo(793,252),t.lineTo(793,246),t.lineTo(791,244),t.lineTo(792,243),t.lineTo(796,264),t.lineTo(815,261),t.lineTo(817,273),t.lineTo(820,270),t.lineTo(823,267),t.lineTo(826,265),t.lineTo(828,262),t.lineTo(834,262),t.lineTo(835,260),t.lineTo(838,258),t.lineTo(844,258),t.lineTo(846,261),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(765,362),t.lineTo(762,364),t.lineTo(761,367),t.lineTo(757,369),t.lineTo(753,371),t.lineTo(748,372),t.lineTo(746,375),t.lineTo(745,378),t.lineTo(741,380),t.lineTo(741,385),t.lineTo(731,386),t.lineTo(716,388),t.lineTo(691,390),t.lineTo(667,393),t.lineTo(645,394),t.lineTo(628,395),t.lineTo(629,394),t.lineTo(628,387),t.lineTo(631,384),t.lineTo(631,380),t.lineTo(635,377),t.lineTo(636,374),t.lineTo(637,371),t.lineTo(638,366),t.lineTo(639,362),t.lineTo(639,360),t.lineTo(666,358),t.lineTo(666,355),t.lineTo(669,354),t.lineTo(669,355),t.lineTo(682,354),t.lineTo(703,352),t.lineTo(714,351),t.lineTo(720,350),t.lineTo(737,349),t.lineTo(749,347),t.lineTo(750,346),t.lineTo(778,343),t.lineTo(786,341),t.lineTo(786,344),t.lineTo(787,347),t.lineTo(784,348),t.lineTo(781,352),t.lineTo(778,352),t.lineTo(772,358),t.lineTo(770,356),t.lineTo(765,360),t.lineTo(765,362),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(622,399),t.lineTo(622,403),t.lineTo(620,409),t.lineTo(618,411),t.lineTo(614,414),t.lineTo(612,420),t.lineTo(608,428),t.lineTo(608,434),t.lineTo(611,440),t.lineTo(610,444),t.lineTo(594,444),t.lineTo(572,446),t.lineTo(553,446),t.lineTo(554,433),t.lineTo(553,433),t.lineTo(549,433),t.lineTo(545,433),t.lineTo(544,432),t.lineTo(545,411),t.lineTo(545,388),t.lineTo(540,364),t.lineTo(563,364),t.lineTo(584,363),t.lineTo(604,362),t.lineTo(626,362),t.lineTo(627,364),t.lineTo(624,369),t.lineTo(622,373),t.lineTo(635,372),t.lineTo(635,373),t.lineTo(633,376),t.lineTo(630,379),t.lineTo(630,383),t.lineTo(627,386),t.lineTo(627,393),t.lineTo(626,395),t.lineTo(625,395),t.lineTo(625,396),t.lineTo(624,397),t.lineTo(625,397),t.lineTo(625,397),t.lineTo(622,399),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(171,318),t.lineTo(170,318),t.lineTo(170,319),t.lineTo(170,319),t.lineTo(167,337),t.lineTo(166,337),t.lineTo(164,340),t.lineTo(163,339),t.lineTo(159,337),t.lineTo(155,336),t.lineTo(152,339),t.lineTo(153,343),t.lineTo(152,348),t.lineTo(152,352),t.lineTo(152,357),t.lineTo(150,360),t.lineTo(125,324),t.lineTo(99,286),t.lineTo(73,246),t.lineTo(92,178),t.lineTo(118,185),t.lineTo(142,191),t.lineTo(142,191),t.lineTo(143,191),t.lineTo(143,191),t.lineTo(143,191),t.lineTo(194,202),t.lineTo(171,317),t.lineTo(171,318),t.lineTo(171,318),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(257,152),t.lineTo(257,151),t.lineTo(259,140),t.lineTo(291,145),t.lineTo(318,149),t.lineTo(348,152),t.lineTo(375,155),t.lineTo(372,203),t.lineTo(369,239),t.lineTo(368,250),t.lineTo(350,248),t.lineTo(314,244),t.lineTo(296,242),t.lineTo(279,239),t.lineTo(244,233),t.lineTo(247,212),t.lineTo(247,212),t.lineTo(248,211),t.lineTo(248,210),t.lineTo(248,210),t.lineTo(257,152),t.lineTo(257,152),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(380,133),t.lineTo(411,136),t.lineTo(445,137),t.lineTo(472,138),t.lineTo(503,138),t.lineTo(503,140),t.lineTo(500,143),t.lineTo(498,146),t.lineTo(500,151),t.lineTo(503,152),t.lineTo(505,175),t.lineTo(505,197),t.lineTo(502,197),t.lineTo(502,203),t.lineTo(504,206),t.lineTo(504,209),t.lineTo(503,212),t.lineTo(502,217),t.lineTo(505,220),t.lineTo(505,221),t.lineTo(503,220),t.lineTo(501,220),t.lineTo(501,217),t.lineTo(496,215),t.lineTo(491,212),t.lineTo(484,212),t.lineTo(480,212),t.lineTo(479,213),t.lineTo(473,211),t.lineTo(468,208),t.lineTo(433,207),t.lineTo(406,205),t.lineTo(373,202),t.lineTo(374,192),t.lineTo(377,154),t.lineTo(379,142),t.lineTo(380,133),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(596,196),t.lineTo(596,197),t.lineTo(598,200),t.lineTo(597,202),t.lineTo(597,207),t.lineTo(598,209),t.lineTo(599,213),t.lineTo(605,215),t.lineTo(607,218),t.lineTo(607,218),t.lineTo(607,219),t.lineTo(607,219),t.lineTo(607,219),t.lineTo(608,221),t.lineTo(611,222),t.lineTo(612,224),t.lineTo(615,226),t.lineTo(616,228),t.lineTo(616,234),t.lineTo(613,239),t.lineTo(612,241),t.lineTo(608,242),t.lineTo(602,244),t.lineTo(600,249),t.lineTo(603,251),t.lineTo(603,254),t.lineTo(601,258),t.lineTo(600,261),t.lineTo(596,265),t.lineTo(596,269),t.lineTo(594,268),t.lineTo(591,264),t.lineTo(570,265),t.lineTo(550,266),t.lineTo(533,266),t.lineTo(518,266),t.lineTo(517,263),t.lineTo(517,258),t.lineTo(517,254),t.lineTo(515,247),t.lineTo(513,244),t.lineTo(512,243),t.lineTo(512,238),t.lineTo(511,234),t.lineTo(508,230),t.lineTo(508,228),t.lineTo(507,224),t.lineTo(506,221),t.lineTo(506,219),t.lineTo(503,216),t.lineTo(505,213),t.lineTo(506,209),t.lineTo(506,206),t.lineTo(504,203),t.lineTo(504,198),t.lineTo(524,198),t.lineTo(548,197),t.lineTo(573,196),t.lineTo(596,196),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(639,347),t.lineTo(641,346),t.lineTo(644,349),t.lineTo(644,351),t.lineTo(644,354),t.lineTo(642,356),t.lineTo(638,359),t.lineTo(638,359),t.lineTo(637,359),t.lineTo(636,361),t.lineTo(637,360),t.lineTo(637,362),t.lineTo(636,365),t.lineTo(635,371),t.lineTo(624,371),t.lineTo(625,370),t.lineTo(629,364),t.lineTo(627,361),t.lineTo(604,361),t.lineTo(584,362),t.lineTo(563,362),t.lineTo(540,362),t.lineTo(540,351),t.lineTo(540,351),t.lineTo(540,327),t.lineTo(540,301),t.lineTo(535,298),t.lineTo(533,294),t.lineTo(531,292),t.lineTo(534,287),t.lineTo(533,283),t.lineTo(530,283),t.lineTo(526,280),t.lineTo(524,275),t.lineTo(521,272),t.lineTo(518,269),t.lineTo(518,269),t.lineTo(518,268),t.lineTo(533,268),t.lineTo(550,267),t.lineTo(570,266),t.lineTo(590,265),t.lineTo(593,269),t.lineTo(596,270),t.lineTo(594,276),t.lineTo(596,283),t.lineTo(600,288),t.lineTo(604,292),t.lineTo(608,295),t.lineTo(610,296),t.lineTo(611,300),t.lineTo(612,304),t.lineTo(615,306),t.lineTo(618,304),t.lineTo(621,307),t.lineTo(621,311),t.lineTo(619,314),t.lineTo(618,319),t.lineTo(621,323),t.lineTo(625,326),t.lineTo(628,326),t.lineTo(633,331),t.lineTo(634,331),t.lineTo(636,337),t.lineTo(636,340),t.lineTo(639,347),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(435,350),t.lineTo(416,349),t.lineTo(399,348),t.lineTo(401,314),t.lineTo(403,278),t.lineTo(435,280),t.lineTo(458,281),t.lineTo(500,282),t.lineTo(525,282),t.lineTo(530,285),t.lineTo(532,285),t.lineTo(532,287),t.lineTo(530,292),t.lineTo(531,294),t.lineTo(534,300),t.lineTo(538,302),t.lineTo(539,327),t.lineTo(539,351),t.lineTo(523,352),t.lineTo(488,351),t.lineTo(454,351),t.lineTo(435,350),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(369,250),t.lineTo(370,240),t.lineTo(373,204),t.lineTo(406,206),t.lineTo(433,208),t.lineTo(468,209),t.lineTo(472,212),t.lineTo(479,215),t.lineTo(480,214),t.lineTo(484,214),t.lineTo(490,214),t.lineTo(495,217),t.lineTo(499,219),t.lineTo(500,220),t.lineTo(502,222),t.lineTo(505,222),t.lineTo(505,224),t.lineTo(506,228),t.lineTo(506,230),t.lineTo(510,235),t.lineTo(511,238),t.lineTo(511,244),t.lineTo(512,245),t.lineTo(513,248),t.lineTo(515,254),t.lineTo(516,258),t.lineTo(515,263),t.lineTo(516,267),t.lineTo(517,269),t.lineTo(520,273),t.lineTo(523,276),t.lineTo(524,280),t.lineTo(500,280),t.lineTo(458,279),t.lineTo(435,278),t.lineTo(403,276),t.lineTo(405,253),t.lineTo(369,250),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(172,318),t.lineTo(176,296),t.lineTo(195,202),t.lineTo(242,211),t.lineTo(246,212),t.lineTo(242,234),t.lineTo(278,241),t.lineTo(264,334),t.lineTo(238,329),t.lineTo(202,323),t.lineTo(172,318),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(266,334),t.lineTo(279,241),t.lineTo(296,243),t.lineTo(314,246),t.lineTo(350,250),t.lineTo(367,251),t.lineTo(367,251),t.lineTo(368,251),t.lineTo(369,251),t.lineTo(369,251),t.lineTo(403,254),t.lineTo(402,276),t.lineTo(400,314),t.lineTo(397,348),t.lineTo(393,348),t.lineTo(380,347),t.lineTo(357,345),t.lineTo(325,341),t.lineTo(295,338),t.lineTo(266,334),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(380,358),t.lineTo(380,353),t.lineTo(380,348),t.lineTo(384,348),t.lineTo(397,349),t.lineTo(397,349),t.lineTo(398,349),t.lineTo(399,349),t.lineTo(399,349),t.lineTo(416,351),t.lineTo(435,351),t.lineTo(454,352),t.lineTo(488,353),t.lineTo(523,353),t.lineTo(539,353),t.lineTo(539,361),t.lineTo(539,362),t.lineTo(539,362),t.lineTo(539,363),t.lineTo(539,364),t.lineTo(539,364),t.lineTo(543,388),t.lineTo(543,411),t.lineTo(543,431),t.lineTo(535,427),t.lineTo(529,425),t.lineTo(525,426),t.lineTo(518,426),t.lineTo(514,426),t.lineTo(510,428),t.lineTo(507,429),t.lineTo(504,428),t.lineTo(498,429),t.lineTo(494,425),t.lineTo(491,428),t.lineTo(486,427),t.lineTo(480,423),t.lineTo(475,425),t.lineTo(472,419),t.lineTo(463,420),t.lineTo(457,418),t.lineTo(451,417),t.lineTo(448,411),t.lineTo(442,413),t.lineTo(439,411),t.lineTo(435,408),t.lineTo(437,362),t.lineTo(417,361),t.lineTo(398,360),t.lineTo(380,358),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(646,348),t.lineTo(645,345),t.lineTo(645,343),t.lineTo(650,344),t.lineTo(655,346),t.lineTo(658,343),t.lineTo(657,338),t.lineTo(661,336),t.lineTo(665,334),t.lineTo(662,331),t.lineTo(664,328),t.lineTo(664,327),t.lineTo(666,328),t.lineTo(666,325),t.lineTo(671,326),t.lineTo(675,323),t.lineTo(681,326),t.lineTo(682,324),t.lineTo(686,321),t.lineTo(690,324),t.lineTo(693,320),t.lineTo(695,316),t.lineTo(696,318),t.lineTo(701,320),t.lineTo(704,312),t.lineTo(707,311),t.lineTo(709,307),t.lineTo(711,305),t.lineTo(711,300),t.lineTo(715,301),t.lineTo(718,298),t.lineTo(721,298),t.lineTo(722,295),t.lineTo(720,291),t.lineTo(720,290),t.lineTo(726,290),t.lineTo(730,292),t.lineTo(735,296),t.lineTo(739,298),t.lineTo(743,299),t.lineTo(747,298),t.lineTo(751,299),t.lineTo(755,297),t.lineTo(757,296),t.lineTo(759,299),t.lineTo(763,301),t.lineTo(763,302),t.lineTo(764,307),t.lineTo(767,311),t.lineTo(768,314),t.lineTo(772,317),t.lineTo(774,320),t.lineTo(777,320),t.lineTo(772,326),t.lineTo(771,327),t.lineTo(766,330),t.lineTo(766,330),t.lineTo(766,330),t.lineTo(765,333),t.lineTo(765,333),t.lineTo(764,335),t.lineTo(759,339),t.lineTo(758,341),t.lineTo(758,341),t.lineTo(754,343),t.lineTo(749,345),t.lineTo(736,348),t.lineTo(719,349),t.lineTo(714,350),t.lineTo(703,350),t.lineTo(681,352),t.lineTo(670,354),t.lineTo(669,353),t.lineTo(664,353),t.lineTo(665,357),t.lineTo(641,359),t.lineTo(643,357),t.lineTo(646,355),t.lineTo(645,351),t.lineTo(645,350),t.lineTo(646,348),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(580,119),t.lineTo(595,114),t.lineTo(606,121),t.lineTo(606,122),t.lineTo(607,121),t.lineTo(607,121),t.lineTo(609,121),t.lineTo(611,126),t.lineTo(626,129),t.lineTo(636,133),t.lineTo(636,133),t.lineTo(636,133),t.lineTo(641,132),t.lineTo(644,132),t.lineTo(645,136),t.lineTo(649,137),t.lineTo(650,140),t.lineTo(650,142),t.lineTo(649,147),t.lineTo(649,147),t.lineTo(649,147),t.lineTo(653,146),t.lineTo(652,150),t.lineTo(652,150),t.lineTo(652,150),t.lineTo(655,153),t.lineTo(649,162),t.lineTo(653,166),t.lineTo(664,149),t.lineTo(665,148),t.lineTo(658,166),t.lineTo(656,184),t.lineTo(654,197),t.lineTo(654,198),t.lineTo(657,209),t.lineTo(657,214),t.lineTo(657,214),t.lineTo(657,214),t.lineTo(644,215),t.lineTo(626,216),t.lineTo(608,218),t.lineTo(606,214),t.lineTo(601,212),t.lineTo(599,209),t.lineTo(599,207),t.lineTo(598,202),t.lineTo(600,200),t.lineTo(597,196),t.lineTo(596,192),t.lineTo(596,187),t.lineTo(595,184),t.lineTo(589,181),t.lineTo(585,177),t.lineTo(583,175),t.lineTo(581,173),t.lineTo(575,170),t.lineTo(573,170),t.lineTo(569,165),t.lineTo(569,161),t.lineTo(569,154),t.lineTo(570,148),t.lineTo(566,143),t.lineTo(568,140),t.lineTo(575,135),t.lineTo(576,135),t.lineTo(576,121),t.lineTo(580,119),t.lineTo(580,119),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(787,211),t.lineTo(792,241),t.lineTo(790,243),t.lineTo(791,246),t.lineTo(791,252),t.lineTo(790,258),t.lineTo(789,263),t.lineTo(790,266),t.lineTo(786,272),t.lineTo(784,273),t.lineTo(782,274),t.lineTo(779,274),t.lineTo(775,279),t.lineTo(775,284),t.lineTo(775,286),t.lineTo(775,286),t.lineTo(774,284),t.lineTo(771,284),t.lineTo(769,290),t.lineTo(769,295),t.lineTo(767,298),t.lineTo(764,299),t.lineTo(760,298),t.lineTo(758,294),t.lineTo(754,295),t.lineTo(750,297),t.lineTo(747,296),t.lineTo(743,298),t.lineTo(740,296),t.lineTo(736,295),t.lineTo(730,290),t.lineTo(727,288),t.lineTo(721,289),t.lineTo(716,250),t.lineTo(714,229),t.lineTo(722,228),t.lineTo(730,227),t.lineTo(736,226),t.lineTo(748,229),t.lineTo(757,229),t.lineTo(770,224),t.lineTo(779,216),t.lineTo(787,211),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(669,288),t.lineTo(667,295),t.lineTo(669,297),t.lineTo(670,301),t.lineTo(670,301),t.lineTo(670,303),t.lineTo(669,305),t.lineTo(668,309),t.lineTo(665,314),t.lineTo(663,321),t.lineTo(662,325),t.lineTo(662,325),t.lineTo(662,326),t.lineTo(662,327),t.lineTo(663,327),t.lineTo(663,328),t.lineTo(661,332),t.lineTo(662,333),t.lineTo(660,335),t.lineTo(655,338),t.lineTo(656,343),t.lineTo(655,344),t.lineTo(650,343),t.lineTo(645,342),t.lineTo(643,345),t.lineTo(643,346),t.lineTo(641,344),t.lineTo(640,345),t.lineTo(637,340),t.lineTo(638,336),t.lineTo(636,330),t.lineTo(633,330),t.lineTo(628,325),t.lineTo(626,325),t.lineTo(622,322),t.lineTo(620,319),t.lineTo(620,315),t.lineTo(622,311),t.lineTo(623,306),t.lineTo(618,302),t.lineTo(615,304),t.lineTo(613,303),t.lineTo(613,300),t.lineTo(611,295),t.lineTo(609,294),t.lineTo(605,291),t.lineTo(601,287),t.lineTo(598,283),t.lineTo(596,276),t.lineTo(597,271),t.lineTo(597,271),t.lineTo(597,270),t.lineTo(597,270),t.lineTo(597,270),t.lineTo(597,266),t.lineTo(602,262),t.lineTo(603,258),t.lineTo(605,254),t.lineTo(604,250),t.lineTo(602,248),t.lineTo(603,245),t.lineTo(609,244),t.lineTo(613,242),t.lineTo(614,240),t.lineTo(617,234),t.lineTo(618,227),t.lineTo(616,225),t.lineTo(613,223),t.lineTo(612,221),t.lineTo(609,219),t.lineTo(609,219),t.lineTo(609,219),t.lineTo(626,218),t.lineTo(644,217),t.lineTo(657,216),t.lineTo(658,221),t.lineTo(664,233),t.lineTo(669,288),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(493,66),t.lineTo(493,67),t.lineTo(495,71),t.lineTo(494,73),t.lineTo(494,77),t.lineTo(494,81),t.lineTo(494,86),t.lineTo(496,91),t.lineTo(498,95),t.lineTo(499,100),t.lineTo(499,103),t.lineTo(499,106),t.lineTo(500,113),t.lineTo(500,115),t.lineTo(500,120),t.lineTo(501,125),t.lineTo(503,129),t.lineTo(504,133),t.lineTo(504,136),t.lineTo(472,137),t.lineTo(445,136),t.lineTo(411,134),t.lineTo(380,132),t.lineTo(381,103),t.lineTo(385,60),t.lineTo(439,64),t.lineTo(493,66),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(380,103),t.lineTo(378,132),t.lineTo(378,135),t.lineTo(376,154),t.lineTo(348,151),t.lineTo(318,147),t.lineTo(292,143),t.lineTo(258,138),t.lineTo(256,151),t.lineTo(255,150),t.lineTo(254,146),t.lineTo(251,145),t.lineTo(248,149),t.lineTo(245,149),t.lineTo(235,146),t.lineTo(234,148),t.lineTo(229,146),t.lineTo(226,149),t.lineTo(224,143),t.lineTo(223,139),t.lineTo(219,138),t.lineTo(219,136),t.lineTo(219,130),t.lineTo(216,126),t.lineTo(216,119),t.lineTo(215,114),t.lineTo(212,113),t.lineTo(209,116),t.lineTo(206,118),t.lineTo(204,116),t.lineTo(205,110),t.lineTo(208,109),t.lineTo(207,103),t.lineTo(210,97),t.lineTo(214,91),t.lineTo(208,90),t.lineTo(205,86),t.lineTo(202,78),t.lineTo(200,73),t.lineTo(197,70),t.lineTo(195,66),t.lineTo(196,62),t.lineTo(193,55),t.lineTo(197,31),t.lineTo(243,40),t.lineTo(290,48),t.lineTo(337,55),t.lineTo(384,60),t.lineTo(380,103),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(191,55),t.lineTo(194,62),t.lineTo(193,66),t.lineTo(195,71),t.lineTo(199,74),t.lineTo(200,78),t.lineTo(203,87),t.lineTo(207,91),t.lineTo(211,92),t.lineTo(209,96),t.lineTo(206,102),t.lineTo(206,102),t.lineTo(206,108),t.lineTo(204,110),t.lineTo(203,116),t.lineTo(206,120),t.lineTo(210,117),t.lineTo(212,115),t.lineTo(213,115),t.lineTo(215,119),t.lineTo(215,127),t.lineTo(217,130),t.lineTo(217,136),t.lineTo(218,139),t.lineTo(221,140),t.lineTo(223,143),t.lineTo(225,151),t.lineTo(229,148),t.lineTo(235,150),t.lineTo(236,148),t.lineTo(244,151),t.lineTo(249,151),t.lineTo(252,147),t.lineTo(253,147),t.lineTo(254,151),t.lineTo(255,152),t.lineTo(255,152),t.lineTo(256,152),t.lineTo(256,153),t.lineTo(246,210),t.lineTo(195,201),t.lineTo(175,196),t.lineTo(143,189),t.lineTo(153,149),t.lineTo(156,142),t.lineTo(156,138),t.lineTo(153,136),t.lineTo(154,133),t.lineTo(157,128),t.lineTo(162,125),t.lineTo(166,118),t.lineTo(170,112),t.lineTo(172,109),t.lineTo(172,105),t.lineTo(170,102),t.lineTo(167,97),t.lineTo(168,93),t.lineTo(168,89),t.lineTo(175,57),t.lineTo(182,27),t.lineTo(195,30),t.lineTo(191,55),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(55,61),t.lineTo(57,61),t.lineTo(62,63),t.lineTo(65,66),t.lineTo(69,69),t.lineTo(71,73),t.lineTo(70,77),t.lineTo(70,81),t.lineTo(74,84),t.lineTo(78,85),t.lineTo(85,84),t.lineTo(89,84),t.lineTo(94,87),t.lineTo(97,89),t.lineTo(101,89),t.lineTo(105,88),t.lineTo(112,91),t.lineTo(119,90),t.lineTo(122,89),t.lineTo(126,91),t.lineTo(133,90),t.lineTo(166,98),t.lineTo(168,103),t.lineTo(171,106),t.lineTo(171,109),t.lineTo(169,111),t.lineTo(165,117),t.lineTo(161,124),t.lineTo(156,127),t.lineTo(152,132),t.lineTo(151,137),t.lineTo(154,139),t.lineTo(155,142),t.lineTo(152,148),t.lineTo(152,148),t.lineTo(152,148),t.lineTo(142,189),t.lineTo(91,177),t.lineTo(20,155),t.lineTo(19,142),t.lineTo(32,119),t.lineTo(41,94),t.lineTo(55,61),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(138,417),t.lineTo(140,417),t.lineTo(144,412),t.lineTo(141,408),t.lineTo(141,404),t.lineTo(141,400),t.lineTo(146,396),t.lineTo(149,386),t.lineTo(157,382),t.lineTo(154,376),t.lineTo(152,371),t.lineTo(151,367),t.lineTo(151,364),t.lineTo(151,362),t.lineTo(153,357),t.lineTo(153,352),t.lineTo(154,348),t.lineTo(155,343),t.lineTo(154,339),t.lineTo(155,337),t.lineTo(159,338),t.lineTo(162,340),t.lineTo(165,342),t.lineTo(167,338),t.lineTo(168,338),t.lineTo(172,319),t.lineTo(201,325),t.lineTo(238,331),t.lineTo(264,335),t.lineTo(245,468),t.lineTo(206,461),t.lineTo(163,437),t.lineTo(136,420),t.lineTo(138,417),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(820,445),t.lineTo(817,444),t.lineTo(816,444),t.lineTo(815,439),t.lineTo(812,435),t.lineTo(808,433),t.lineTo(809,432),t.lineTo(807,429),t.lineTo(805,424),t.lineTo(797,420),t.lineTo(794,414),t.lineTo(789,411),t.lineTo(787,409),t.lineTo(779,404),t.lineTo(776,400),t.lineTo(772,393),t.lineTo(768,392),t.lineTo(763,389),t.lineTo(765,385),t.lineTo(767,383),t.lineTo(768,382),t.lineTo(778,377),t.lineTo(796,374),t.lineTo(804,374),t.lineTo(805,377),t.lineTo(807,374),t.lineTo(810,377),t.lineTo(811,380),t.lineTo(833,377),t.lineTo(858,394),t.lineTo(853,412),t.lineTo(839,429),t.lineTo(820,445),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(859,393),t.lineTo(833,375),t.lineTo(812,379),t.lineTo(811,376),t.lineTo(807,372),t.lineTo(806,373),t.lineTo(805,372),t.lineTo(796,373),t.lineTo(778,375),t.lineTo(768,381),t.lineTo(766,382),t.lineTo(756,383),t.lineTo(743,385),t.lineTo(742,381),t.lineTo(746,379),t.lineTo(747,376),t.lineTo(749,373),t.lineTo(753,372),t.lineTo(757,370),t.lineTo(762,368),t.lineTo(763,365),t.lineTo(767,363),t.lineTo(767,361),t.lineTo(770,358),t.lineTo(772,360),t.lineTo(779,354),t.lineTo(782,354),t.lineTo(785,349),t.lineTo(789,347),t.lineTo(788,344),t.lineTo(788,341),t.lineTo(791,341),t.lineTo(819,337),t.lineTo(857,330),t.lineTo(877,326),t.lineTo(896,321),t.lineTo(904,343),t.lineTo(896,363),t.lineTo(879,375),t.lineTo(865,391),t.lineTo(859,393),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(877,324),t.lineTo(857,328),t.lineTo(819,335),t.lineTo(795,339),t.lineTo(788,340),t.lineTo(788,340),t.lineTo(787,340),t.lineTo(786,340),t.lineTo(786,340),t.lineTo(778,342),t.lineTo(755,344),t.lineTo(755,344),t.lineTo(759,342),t.lineTo(759,342),t.lineTo(759,342),t.lineTo(759,341),t.lineTo(760,340),t.lineTo(765,336),t.lineTo(766,334),t.lineTo(767,333),t.lineTo(767,331),t.lineTo(772,328),t.lineTo(772,328),t.lineTo(772,328),t.lineTo(774,325),t.lineTo(778,321),t.lineTo(779,323),t.lineTo(782,325),t.lineTo(785,327),t.lineTo(791,323),t.lineTo(793,324),t.lineTo(801,321),t.lineTo(801,321),t.lineTo(801,321),t.lineTo(801,319),t.lineTo(802,320),t.lineTo(805,317),t.lineTo(807,317),t.lineTo(810,315),t.lineTo(810,315),t.lineTo(810,315),t.lineTo(810,312),t.lineTo(810,309),t.lineTo(811,305),t.lineTo(814,302),t.lineTo(814,301),t.lineTo(815,298),t.lineTo(817,293),t.lineTo(818,288),t.lineTo(820,289),t.lineTo(820,289),t.lineTo(823,291),t.lineTo(823,291),t.lineTo(823,291),t.lineTo(826,289),t.lineTo(826,289),t.lineTo(826,289),t.lineTo(827,286),t.lineTo(829,280),t.lineTo(830,281),t.lineTo(833,277),t.lineTo(836,273),t.lineTo(838,270),t.lineTo(838,265),t.lineTo(848,269),t.lineTo(849,264),t.lineTo(852,264),t.lineTo(854,265),t.lineTo(853,268),t.lineTo(858,269),t.lineTo(861,271),t.lineTo(863,272),t.lineTo(863,273),t.lineTo(863,275),t.lineTo(861,277),t.lineTo(860,281),t.lineTo(859,284),t.lineTo(859,284),t.lineTo(859,284),t.lineTo(860,284),t.lineTo(863,285),t.lineTo(866,284),t.lineTo(867,286),t.lineTo(867,286),t.lineTo(867,286),t.lineTo(867,286),t.lineTo(867,286),t.lineTo(881,297),t.lineTo(887,307),t.lineTo(896,320),t.lineTo(877,324),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(890,275),t.lineTo(883,246),t.lineTo(883,245),t.lineTo(884,243),t.lineTo(887,244),t.lineTo(885,246),t.lineTo(887,251),t.lineTo(887,251),t.lineTo(887,251),t.lineTo(887,251),t.lineTo(894,262),t.lineTo(901,272),t.lineTo(890,275),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(895,114),t.lineTo(924,106),t.lineTo(924,112),t.lineTo(926,115),t.lineTo(926,118),t.lineTo(923,121),t.lineTo(920,124),t.lineTo(920,126),t.lineTo(921,130),t.lineTo(920,136),t.lineTo(919,138),t.lineTo(919,144),t.lineTo(920,149),t.lineTo(920,151),t.lineTo(921,157),t.lineTo(920,161),t.lineTo(921,162),t.lineTo(909,165),t.lineTo(905,146),t.lineTo(902,146),t.lineTo(902,146),t.lineTo(903,142),t.lineTo(900,137),t.lineTo(900,131),t.lineTo(898,128),t.lineTo(896,121),t.lineTo(896,118),t.lineTo(895,114),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(913,207),t.lineTo(912,205),t.lineTo(916,202),t.lineTo(913,200),t.lineTo(910,183),t.lineTo(923,180),t.lineTo(938,177),t.lineTo(941,188),t.lineTo(941,192),t.lineTo(934,195),t.lineTo(925,198),t.lineTo(913,207),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(949,151),t.lineTo(947,151),t.lineTo(944,154),t.lineTo(943,156),t.lineTo(923,162),t.lineTo(922,160),t.lineTo(922,157),t.lineTo(921,151),t.lineTo(921,149),t.lineTo(920,144),t.lineTo(921,139),t.lineTo(922,136),t.lineTo(922,130),t.lineTo(922,126),t.lineTo(922,124),t.lineTo(924,123),t.lineTo(927,118),t.lineTo(927,115),t.lineTo(925,112),t.lineTo(925,105),t.lineTo(925,105),t.lineTo(925,105),t.lineTo(925,100),t.lineTo(929,98),t.lineTo(943,138),t.lineTo(943,141),t.lineTo(947,144),t.lineTo(949,147),t.lineTo(949,147),t.lineTo(949,147),t.lineTo(950,147),t.lineTo(950,147),t.lineTo(949,151),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(931,97),t.lineTo(936,91),t.lineTo(939,79),t.lineTo(938,60),t.lineTo(945,40),t.lineTo(952,44),t.lineTo(961,37),t.lineTo(969,41),t.lineTo(979,72),t.lineTo(994,81),t.lineTo(997,90),t.lineTo(984,102),t.lineTo(970,113),t.lineTo(955,132),t.lineTo(951,145),t.lineTo(950,145),t.lineTo(948,143),t.lineTo(945,140),t.lineTo(945,138),t.lineTo(931,97),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(898,284),t.lineTo(894,285),t.lineTo(894,285),t.lineTo(894,285),t.lineTo(894,285),t.lineTo(893,285),t.lineTo(893,286),t.lineTo(882,278),t.lineTo(877,261),t.lineTo(876,261),t.lineTo(875,270),t.lineTo(879,289),t.lineTo(868,285),t.lineTo(866,282),t.lineTo(863,283),t.lineTo(861,283),t.lineTo(862,281),t.lineTo(862,278),t.lineTo(862,278),t.lineTo(865,275),t.lineTo(865,273),t.lineTo(867,270),t.lineTo(863,267),t.lineTo(862,269),t.lineTo(858,267),t.lineTo(855,267),t.lineTo(855,265),t.lineTo(855,264),t.lineTo(855,264),t.lineTo(852,263),t.lineTo(849,262),t.lineTo(847,260),t.lineTo(844,257),t.lineTo(839,256),t.lineTo(851,254),t.lineTo(866,251),t.lineTo(881,247),t.lineTo(889,276),t.lineTo(902,274),t.lineTo(903,275),t.lineTo(898,284),t.closePath(),t.moveTo(837,257),t.lineTo(834,259),t.lineTo(833,261),t.lineTo(827,261),t.lineTo(825,264),t.lineTo(822,265),t.lineTo(819,269),t.lineTo(818,270),t.lineTo(816,261),t.lineTo(832,258),t.lineTo(837,257),t.closePath(),t.fillStyle=e,t.fill()},window.SimpleUSAMapIconAppearance.instances=new Set,"function"==typeof window.SimpleUSAMapIconAppearance.initStaticConstsAfterClassDefinition&&window.SimpleUSAMapIconAppearance.initStaticConstsAfterClassDefinition(),window.SimpleUSAMapIconWdgt=function(t){this.color=t,SimpleUSAMapIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SimpleUSAMapIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleUSAMapIconWdgt,"name",{value:"SimpleUSAMapIconWdgt"}),window.SimpleUSAMapIconWdgt.__super__=window.IconMorph.prototype,window.SimpleUSAMapIconWdgt=extend(window.SimpleUSAMapIconWdgt,window.IconMorph),window.SimpleUSAMapIconWdgt.instances=new Set,"function"==typeof window.SimpleUSAMapIconWdgt.initStaticConstsAfterClassDefinition&&window.SimpleUSAMapIconWdgt.initStaticConstsAfterClassDefinition(),window.SimpleWorldMapIconAppearance=function(t){this.morph=t,SimpleWorldMapIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(500,265),this.specificationSize=new Point(1e3,530),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleWorldMapIconAppearance,"name",{value:"SimpleWorldMapIconAppearance"}),window.SimpleWorldMapIconAppearance.__super__=window.IconAppearance.prototype,window.SimpleWorldMapIconAppearance=extend(window.SimpleWorldMapIconAppearance,window.IconAppearance),window.SimpleWorldMapIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color.toString(),t.beginPath(),t.moveTo(732,22),t.lineTo(738,20),t.lineTo(762,33),t.lineTo(748,35),t.lineTo(728,29),t.lineTo(732,22),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(525,21),t.lineTo(542,23),t.lineTo(544,28),t.lineTo(528,31),t.lineTo(537,42),t.lineTo(528,42),t.lineTo(525,36),t.lineTo(520,42),t.lineTo(509,42),t.lineTo(508,35),t.lineTo(503,30),t.lineTo(506,26),t.lineTo(525,21),t.closePath(),t.fillStyle=e,t.fill(),t.save(),t.translate(81,-263),t.beginPath(),t.moveTo(547,277),t.lineTo(558,274),t.lineTo(557,284),t.lineTo(548,287),t.lineTo(517,288),t.lineTo(515,284),t.lineTo(535,278),t.lineTo(547,277),t.closePath(),t.fillStyle=e,t.fill(),t.restore(),t.beginPath(),t.moveTo(639,46),t.lineTo(659,41),t.lineTo(658,46),t.lineTo(643,49),t.lineTo(635,53),t.lineTo(625,60),t.lineTo(627,73),t.lineTo(616,71),t.lineTo(614,67),t.lineTo(621,50),t.lineTo(639,46),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(854,46),t.lineTo(859,46),t.lineTo(859,50),t.lineTo(856,53),t.lineTo(854,52),t.lineTo(854,46),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(862,48),t.lineTo(868,51),t.lineTo(863,52),t.lineTo(862,48),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(859,55),t.lineTo(868,60),t.lineTo(859,60),t.lineTo(859,55),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(405,98),t.lineTo(411,91),t.lineTo(416,96),t.lineTo(427,94),t.lineTo(429,103),t.lineTo(412,110),t.lineTo(405,98),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(454,128),t.lineTo(460,126),t.lineTo(459,131),t.lineTo(463,132),t.lineTo(468,146),t.lineTo(472,149),t.lineTo(471,155),t.lineTo(457,159),t.lineTo(460,154),t.lineTo(454,152),t.lineTo(460,146),t.lineTo(454,128),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(443,147),t.lineTo(452,143),t.lineTo(451,152),t.lineTo(448,156),t.lineTo(443,156),t.lineTo(443,147),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(864,158),t.lineTo(868,151),t.lineTo(868,168),t.lineTo(866,181),t.lineTo(873,188),t.lineTo(861,196),t.lineTo(862,205),t.lineTo(857,219),t.lineTo(844,223),t.lineTo(831,229),t.lineTo(831,222),t.lineTo(855,206),t.lineTo(858,194),t.lineTo(865,172),t.lineTo(864,158),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(493,203),t.lineTo(492,197),t.lineTo(494,195),t.lineTo(495,203),t.lineTo(493,203),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(236,257),t.lineTo(248,258),t.lineTo(262,264),t.lineTo(255,266),t.lineTo(246,261),t.lineTo(238,260),t.lineTo(236,257),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(270,267),t.lineTo(279,272),t.lineTo(265,273),t.lineTo(270,267),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(805,272),t.lineTo(808,274),t.lineTo(816,296),t.lineTo(819,313),t.lineTo(811,311),t.lineTo(805,296),t.lineTo(802,276),t.lineTo(805,272),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(266,296),t.lineTo(281,296),t.lineTo(297,300),t.lineTo(313,311),t.lineTo(325,315),t.lineTo(334,334),t.lineTo(369,346),t.lineTo(373,358),t.lineTo(365,371),t.lineTo(358,393),t.lineTo(352,405),t.lineTo(338,412),t.lineTo(326,436),t.lineTo(317,445),t.lineTo(310,455),t.lineTo(296,462),t.lineTo(285,481),t.lineTo(285,496),t.lineTo(279,509),t.lineTo(284,520),t.lineTo(278,524),t.lineTo(269,523),t.lineTo(262,506),t.lineTo(260,483),t.lineTo(262,468),t.lineTo(268,440),t.lineTo(270,421),t.lineTo(271,389),t.lineTo(261,380),t.lineTo(255,371),t.lineTo(246,354),t.lineTo(249,333),t.lineTo(256,320),t.lineTo(255,309),t.lineTo(266,296),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(691,303),t.lineTo(696,310),t.lineTo(691,313),t.lineTo(691,303),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(773,325),t.lineTo(797,311),t.lineTo(797,325),t.lineTo(792,344),t.lineTo(775,340),t.lineTo(773,325),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(803,330),t.lineTo(810,330),t.lineTo(811,351),t.lineTo(800,348),t.lineTo(803,330),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(833,335),t.lineTo(867,346),t.lineTo(877,352),t.lineTo(884,367),t.lineTo(855,359),t.lineTo(849,350),t.lineTo(839,345),t.lineTo(833,335),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(763,351),t.lineTo(789,355),t.lineTo(795,361),t.lineTo(783,360),t.lineTo(763,354),t.lineTo(763,351),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(607,368),t.lineTo(602,395),t.lineTo(595,403),t.lineTo(590,398),t.lineTo(594,387),t.lineTo(592,377),t.lineTo(607,368),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(860,388),t.lineTo(864,370),t.lineTo(876,391),t.lineTo(887,409),t.lineTo(892,421),t.lineTo(890,442),t.lineTo(883,458),t.lineTo(871,462),t.lineTo(857,456),t.lineTo(850,451),t.lineTo(843,441),t.lineTo(837,438),t.lineTo(826,436),t.lineTo(812,441),t.lineTo(804,441),t.lineTo(791,445),t.lineTo(791,435),t.lineTo(786,419),t.lineTo(785,403),t.lineTo(804,395),t.lineTo(809,390),t.lineTo(817,380),t.lineTo(827,380),t.lineTo(833,371),t.lineTo(847,371),t.lineTo(847,383),t.lineTo(860,388),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(949,449),t.lineTo(965,462),t.lineTo(943,489),t.lineTo(934,493),t.lineTo(931,488),t.lineTo(946,472),t.lineTo(956,461),t.lineTo(949,449),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(870,469),t.lineTo(880,469),t.lineTo(878,478),t.lineTo(872,476),t.lineTo(870,469),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(493,195),t.lineTo(493,192),t.lineTo(494,191),t.lineTo(494,195),t.lineTo(493,195),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(477,210),t.lineTo(490,211),t.lineTo(499,211),t.lineTo(498,223),t.lineTo(518,232),t.lineTo(531,225),t.lineTo(550,230),t.lineTo(558,229),t.lineTo(574,269),t.lineTo(592,297),t.lineTo(611,294),t.lineTo(609,307),t.lineTo(602,319),t.lineTo(582,337),t.lineTo(578,349),t.lineTo(582,364),t.lineTo(578,378),t.lineTo(566,387),t.lineTo(568,396),t.lineTo(560,406),t.lineTo(553,417),t.lineTo(532,426),t.lineTo(524,426),t.lineTo(521,423),t.lineTo(513,408),t.lineTo(505,388),t.lineTo(503,374),t.lineTo(508,357),t.lineTo(494,334),t.lineTo(494,322),t.lineTo(486,318),t.lineTo(483,313),t.lineTo(444,318),t.lineTo(426,295),t.lineTo(424,290),t.lineTo(423,262),t.lineTo(428,250),t.lineTo(440,235),t.lineTo(443,227),t.lineTo(454,215),t.lineTo(463,216),t.lineTo(471,212),t.lineTo(477,210),t.lineTo(477,210),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(353,5),t.lineTo(370,3),t.lineTo(407,6),t.lineTo(435,17),t.lineTo(425,23),t.lineTo(415,34),t.lineTo(420,40),t.lineTo(419,51),t.lineTo(410,59),t.lineTo(413,71),t.lineTo(401,80),t.lineTo(360,97),t.lineTo(350,121),t.lineTo(336,116),t.lineTo(328,83),t.lineTo(313,52),t.lineTo(306,46),t.lineTo(300,44),t.lineTo(272,43),t.lineTo(271,31),t.lineTo(287,28),t.lineTo(301,12),t.lineTo(314,10),t.lineTo(326,12),t.lineTo(353,5),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(287,23),t.lineTo(278,23),t.lineTo(258,36),t.lineTo(253,37),t.lineTo(247,54),t.lineTo(254,55),t.lineTo(257,61),t.lineTo(264,62),t.lineTo(267,68),t.lineTo(276,70),t.lineTo(281,76),t.lineTo(282,82),t.lineTo(300,88),t.lineTo(293,98),t.lineTo(285,94),t.lineTo(289,100),t.lineTo(289,104),t.lineTo(283,105),t.lineTo(286,111),t.lineTo(272,109),t.lineTo(266,104),t.lineTo(253,104),t.lineTo(253,100),t.lineTo(266,98),t.lineTo(268,86),t.lineTo(259,84),t.lineTo(257,76),t.lineTo(241,76),t.lineTo(245,91),t.lineTo(236,95),t.lineTo(241,103),t.lineTo(239,106),t.lineTo(235,107),t.lineTo(221,103),t.lineTo(210,114),t.lineTo(207,124),t.lineTo(212,126),t.lineTo(214,132),t.lineTo(221,133),t.lineTo(230,139),t.lineTo(241,143),t.lineTo(240,149),t.lineTo(249,155),t.lineTo(248,145),t.lineTo(250,142),t.lineTo(256,138),t.lineTo(255,128),t.lineTo(252,123),t.lineTo(254,112),t.lineTo(265,110),t.lineTo(269,111),t.lineTo(275,116),t.lineTo(280,125),t.lineTo(287,123),t.lineTo(291,120),t.lineTo(298,134),t.lineTo(310,145),t.lineTo(313,160),t.lineTo(327,168),t.lineTo(326,172),t.lineTo(306,169),t.lineTo(311,156),t.lineTo(299,159),t.lineTo(294,160),t.lineTo(295,176),t.lineTo(302,179),t.lineTo(286,186),t.lineTo(283,181),t.lineTo(278,185),t.lineTo(273,193),t.lineTo(263,201),t.lineTo(257,217),t.lineTo(252,222),t.lineTo(242,232),t.lineTo(246,245),t.lineTo(244,249),t.lineTo(235,233),t.lineTo(206,236),t.lineTo(201,240),t.lineTo(199,252),t.lineTo(198,260),t.lineTo(203,270),t.lineTo(214,271),t.lineTo(218,269),t.lineTo(226,262),t.lineTo(224,280),t.lineTo(238,284),t.lineTo(239,300),t.lineTo(255,304),t.lineTo(241,306),t.lineTo(234,302),t.lineTo(228,292),t.lineTo(221,287),t.lineTo(205,280),t.lineTo(187,276),t.lineTo(180,272),t.lineTo(175,267),t.lineTo(174,258),t.lineTo(169,249),t.lineTo(163,240),t.lineTo(151,230),t.lineTo(164,255),t.lineTo(153,245),t.lineTo(141,221),t.lineTo(134,218),t.lineTo(130,207),t.lineTo(125,203),t.lineTo(122,186),t.lineTo(122,163),t.lineTo(113,161),t.lineTo(111,149),t.lineTo(83,124),t.lineTo(57,116),t.lineTo(56,119),t.lineTo(47,122),t.lineTo(48,117),t.lineTo(42,120),t.lineTo(39,126),t.lineTo(30,136),t.lineTo(12,143),t.lineTo(21,135),t.lineTo(28,132),t.lineTo(30,124),t.lineTo(12,118),t.lineTo(8,111),t.lineTo(12,106),t.lineTo(19,105),t.lineTo(20,100),t.lineTo(5,99),t.lineTo(3,94),t.lineTo(19,93),t.lineTo(8,80),t.lineTo(23,70),t.lineTo(57,72),t.lineTo(89,78),t.lineTo(113,71),t.lineTo(119,75),t.lineTo(144,78),t.lineTo(144,69),t.lineTo(128,68),t.lineTo(125,56),t.lineTo(131,52),t.lineTo(148,52),t.lineTo(148,45),t.lineTo(130,45),t.lineTo(125,42),t.lineTo(162,30),t.lineTo(207,31),t.lineTo(204,17),t.lineTo(215,16),t.lineTo(227,10),t.lineTo(235,11),t.lineTo(269,6),t.lineTo(291,7),t.lineTo(301,12),t.lineTo(287,23),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(762,38),t.lineTo(767,42),t.lineTo(781,42),t.lineTo(787,52),t.lineTo(775,55),t.lineTo(776,58),t.lineTo(788,56),t.lineTo(798,59),t.lineTo(796,60),t.lineTo(810,62),t.lineTo(813,57),t.lineTo(826,63),t.lineTo(831,71),t.lineTo(849,70),t.lineTo(856,69),t.lineTo(861,62),t.lineTo(885,67),t.lineTo(899,71),t.lineTo(912,71),t.lineTo(915,76),t.lineTo(955,76),t.lineTo(996,97),t.lineTo(990,104),t.lineTo(981,103),t.lineTo(973,100),t.lineTo(965,102),t.lineTo(966,112),t.lineTo(941,122),t.lineTo(927,122),t.lineTo(925,124),t.lineTo(922,137),t.lineTo(919,145),t.lineTo(914,151),t.lineTo(905,159),t.lineTo(904,156),t.lineTo(902,143),t.lineTo(907,131),t.lineTo(917,123),t.lineTo(922,120),t.lineTo(921,116),t.lineTo(911,115),t.lineTo(905,116),t.lineTo(900,124),t.lineTo(863,124),t.lineTo(847,143),t.lineTo(859,149),t.lineTo(859,167),t.lineTo(848,183),t.lineTo(842,191),t.lineTo(834,189),t.lineTo(827,200),t.lineTo(829,216),t.lineTo(821,220),t.lineTo(816,204),t.lineTo(814,201),t.lineTo(805,198),t.lineTo(796,207),t.lineTo(808,210),t.lineTo(810,212),t.lineTo(801,218),t.lineTo(806,228),t.lineTo(800,252),t.lineTo(790,260),t.lineTo(768,266),t.lineTo(760,272),t.lineTo(768,280),t.lineTo(774,294),t.lineTo(764,304),t.lineTo(750,293),t.lineTo(748,305),t.lineTo(750,311),t.lineTo(759,327),t.lineTo(753,326),t.lineTo(751,322),t.lineTo(744,301),t.lineTo(739,278),t.lineTo(732,281),t.lineTo(725,261),t.lineTo(715,263),t.lineTo(709,268),t.lineTo(693,282),t.lineTo(689,302),t.lineTo(682,305),t.lineTo(677,295),t.lineTo(674,285),t.lineTo(671,264),t.lineTo(665,266),t.lineTo(655,249),t.lineTo(644,252),t.lineTo(633,249),t.lineTo(616,243),t.lineTo(608,234),t.lineTo(606,235),t.lineTo(605,241),t.lineTo(610,248),t.lineTo(615,250),t.lineTo(635,258),t.lineTo(627,274),t.lineTo(621,278),t.lineTo(594,291),t.lineTo(590,279),t.lineTo(566,236),t.lineTo(562,236),t.lineTo(559,229),t.lineTo(567,228),t.lineTo(569,213),t.lineTo(549,212),t.lineTo(547,210),t.lineTo(543,199),t.lineTo(559,194),t.lineTo(566,193),t.lineTo(585,196),t.lineTo(582,189),t.lineTo(576,184),t.lineTo(570,183),t.lineTo(556,178),t.lineTo(553,180),t.lineTo(549,187),t.lineTo(548,195),t.lineTo(536,198),t.lineTo(534,211),t.lineTo(531,209),t.lineTo(524,195),t.lineTo(505,181),t.lineTo(505,187),t.lineTo(514,196),t.lineTo(521,201),t.lineTo(516,201),t.lineTo(511,211),t.lineTo(505,208),t.lineTo(513,204),t.lineTo(505,196),t.lineTo(495,185),t.lineTo(488,186),t.lineTo(478,190),t.lineTo(470,201),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(465,212),t.lineTo(456,212),t.lineTo(444,205),t.lineTo(448,188),t.lineTo(458,187),t.lineTo(467,187),t.lineTo(467,180),t.lineTo(459,168),t.lineTo(481,155),t.lineTo(485,150),t.lineTo(493,148),t.lineTo(493,134),t.lineTo(499,132),t.lineTo(499,139),t.lineTo(505,139),t.lineTo(524,132),t.lineTo(536,115),t.lineTo(527,107),t.lineTo(536,93),t.lineTo(531,91),t.lineTo(514,112),t.lineTo(514,124),t.lineTo(506,132),t.lineTo(499,124),t.lineTo(493,128),t.lineTo(489,115),t.lineTo(516,86),t.lineTo(513,81),t.lineTo(534,69),t.lineTo(551,70),t.lineTo(559,78),t.lineTo(568,80),t.lineTo(577,83),t.lineTo(582,92),t.lineTo(575,94),t.lineTo(564,91),t.lineTo(573,102),t.lineTo(576,104),t.lineTo(584,95),t.lineTo(590,93),t.lineTo(592,83),t.lineTo(597,83),t.lineTo(597,92),t.lineTo(610,85),t.lineTo(628,83),t.lineTo(639,78),t.lineTo(642,79),t.lineTo(660,85),t.lineTo(658,73),t.lineTo(659,68),t.lineTo(666,58),t.lineTo(678,63),t.lineTo(694,63),t.lineTo(697,57),t.lineTo(710,56),t.lineTo(715,47),t.lineTo(751,43),t.lineTo(753,41),t.lineTo(754,39),t.lineTo(762,38),t.lineTo(762,38),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(764,341),t.lineTo(762,350),t.lineTo(754,345),t.lineTo(748,336),t.lineTo(736,315),t.lineTo(748,323),t.lineTo(764,341),t.closePath(),t.fillStyle=e,t.fill()},window.SimpleWorldMapIconAppearance.instances=new Set,"function"==typeof window.SimpleWorldMapIconAppearance.initStaticConstsAfterClassDefinition&&window.SimpleWorldMapIconAppearance.initStaticConstsAfterClassDefinition(),window.SimpleWorldMapIconWdgt=function(t){this.color=t,SimpleWorldMapIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SimpleWorldMapIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleWorldMapIconWdgt,"name",{value:"SimpleWorldMapIconWdgt"}),window.SimpleWorldMapIconWdgt.__super__=window.IconMorph.prototype,window.SimpleWorldMapIconWdgt=extend(window.SimpleWorldMapIconWdgt,window.IconMorph),window.SimpleWorldMapIconWdgt.instances=new Set,"function"==typeof window.SimpleWorldMapIconWdgt.initStaticConstsAfterClassDefinition&&window.SimpleWorldMapIconWdgt.initStaticConstsAfterClassDefinition(),window.InspectorMorph2=function(t){this.target=t,this.classesButtons=[],this.classesNames=[],this.angledArrows=[],InspectorMorph2.__super__.constructor.call(this,new Point(300,300)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.InspectorMorph2,"name",{value:"InspectorMorph2"}),window.InspectorMorph2.__super__=window.Widget.prototype,window.InspectorMorph2=extend(window.InspectorMorph2,window.Widget),window.InspectorMorph2.prototype.target=nil,window.InspectorMorph2.prototype.currentProperty=nil,window.InspectorMorph2.prototype.showing="attributes",window.InspectorMorph2.prototype.markOwnershipOfProperties=!0,window.InspectorMorph2.prototype.list=nil,window.InspectorMorph2.prototype.detail=nil,window.InspectorMorph2.prototype.classesButtons=nil,window.InspectorMorph2.prototype.classesNames=nil,window.InspectorMorph2.prototype.angledArrows=nil,window.InspectorMorph2.prototype.hierarchyHeaderString=nil,window.InspectorMorph2.prototype.propertyHeaderString=nil,window.InspectorMorph2.prototype.showMethodsOnButton=nil,window.InspectorMorph2.prototype.showMethodsOffButton=nil,window.InspectorMorph2.prototype.showMethodsToggle=nil,window.InspectorMorph2.prototype.showFieldsOnButton=nil,window.InspectorMorph2.prototype.showFieldsOffButton=nil,window.InspectorMorph2.prototype.showFieldsToggle=nil,window.InspectorMorph2.prototype.showInheritedOnButton=nil,window.InspectorMorph2.prototype.showInheritedOffButton=nil,window.InspectorMorph2.prototype.showInheritedToggle=nil,window.InspectorMorph2.prototype.showOwnPropsOnlyOnButton=nil,window.InspectorMorph2.prototype.showOwnPropsOnlyOffButton=nil,window.InspectorMorph2.prototype.showOwnPropsOnlyToggle=nil,window.InspectorMorph2.prototype.lastLabelInHierarchy=nil,window.InspectorMorph2.prototype.lastArrowInHierarchy=nil,window.InspectorMorph2.prototype.hierarchyBackgroundPanel=nil,window.InspectorMorph2.prototype.showingFields=!0,window.InspectorMorph2.prototype.showingMethods=!0,window.InspectorMorph2.prototype.showingInherited=!1,window.InspectorMorph2.prototype.showingOwnPropsOnly=!1,window.InspectorMorph2.prototype.addPropertyButton=nil,window.InspectorMorph2.prototype.renamePropertyButton=nil,window.InspectorMorph2.prototype.removePropertyButton=nil,window.InspectorMorph2.prototype.saveButton=nil,window.InspectorMorph2.prototype.saveTextWdgt=nil,window.InspectorMorph2.prototype.externalPadding=0,window.InspectorMorph2.prototype.internalPadding=5,window.InspectorMorph2.prototype.padding=nil,window.InspectorMorph2.prototype.classNamesTextPadding=2,window.InspectorMorph2.prototype.colloquialName=function(){return"Object Inspector ("+this.target.colloquialName()+")"},window.InspectorMorph2.prototype.showFields=function(){if(!this.showingFields)return this.showingFields=!0,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.showMethods=function(){if(!this.showingMethods)return this.showingMethods=!0,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.showInherited=function(){if(!this.showingInherited)return this.showingInherited=!0,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.showOwnPropsOnly=function(){if(!this.showingOwnPropsOnly)return this.showingOwnPropsOnly=!0,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.hideFields=function(){if(this.showingFields)return this.showingFields=!1,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.hideMethods=function(){if(this.showingMethods)return this.showingMethods=!1,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.hideInherited=function(){if(this.showingInherited)return this.showingInherited=!1,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.hideOwnPropsOnly=function(){if(this.showingOwnPropsOnly)return this.showingOwnPropsOnly=!1,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.inspectObject=function(t){return this.target=t,this.currentProperty=nil,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.buildAndConnectChildren=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c;for(d in"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.fullDestroyChildren(),e=[],this.classesButtons=[],this.classesNames=[],this.angledArrows=[],this.target)d&&e.push(d);if(this.showingMethods||(e=e.filter(t=>!isFunction(this.target[t]))),this.showingFields||(e=e.filter(t=>isFunction(this.target[t]))),this.showingInherited||(e=e.filter(t=>this.target.constructor.prototype.hasOwnProperty(t)||!(t in this.target.constructor.prototype))),this.showingOwnPropsOnly&&(e=e.filter(t=>this.target.hasOwnProperty(t))),this.markOwnershipOfProperties&&(c=Object.getOwnPropertyNames(this.target.constructor.prototype)),null!=this.target)for(s=this.target.__proto__;"Object"!==s.constructor.name;)this.classesNames.push(s.constructor.name),s=s.__proto__;for(this.hierarchyBackgroundPanel=new RectangleMorph,this.hierarchyBackgroundPanel.setColor(new Color(255,255,255,.2)),this.add(this.hierarchyBackgroundPanel),o=0,a=0,l=(h=this.classesNames).length;a<l;a++)r=h[a],n=new SimpleButtonMorph(!0,this,"openClassInspector",new StringMorph2(r,WorldMorph.preferencesAndSettings.textInButtonsFontSize),nil,nil,nil,nil,r,nil,nil,this.classNamesTextPadding),this.classesButtons.push(n),this.add(n),o>0&&(t=new AngledArrowUpLeftIconMorph(Color.BLACK),this.angledArrows.push(t),this.add(t)),o++;return this.lastLabelInHierarchy=new TextMorph("this object"),this.add(this.lastLabelInHierarchy),this.lastArrowInHierarchy=new AngledArrowUpLeftIconMorph(Color.BLACK),this.add(this.lastArrowInHierarchy),this.showMethodsOnButton=new SimpleButtonMorph(!0,this,"hideMethods","methods: on"),this.showMethodsOffButton=new SimpleButtonMorph(!0,this,"showMethods","methods: off"),this.showMethodsToggle=new ToggleButtonMorph(this.showMethodsOnButton,this.showMethodsOffButton,this.showingMethods?0:1),this.add(this.showMethodsToggle),this.showFieldsOnButton=new SimpleButtonMorph(!0,this,"hideFields","fields: on"),this.showFieldsOffButton=new SimpleButtonMorph(!0,this,"showFields","fields: off"),this.showFieldsToggle=new ToggleButtonMorph(this.showFieldsOnButton,this.showFieldsOffButton,this.showingFields?0:1),this.add(this.showFieldsToggle),this.showInheritedOnButton=new SimpleButtonMorph(!0,this,"hideInherited","inherited: on"),this.showInheritedOffButton=new SimpleButtonMorph(!0,this,"showInherited","inherited: off"),this.showInheritedToggle=new ToggleButtonMorph(this.showInheritedOnButton,this.showInheritedOffButton,this.showingInherited?0:1),this.add(this.showInheritedToggle),this.buildAndConnectObjOwnPropsButton(),this.addPropertyButton=new SimpleButtonMorph(!0,this,"addPropertyPopout","add..."),this.add(this.addPropertyButton),this.renamePropertyButton=new SimpleButtonMorph(!0,this,"renamePropertyPopout","rename..."),this.add(this.renamePropertyButton),this.removePropertyButton=new SimpleButtonMorph(!0,this,"removeProperty","remove"),this.add(this.removePropertyButton),this.saveTextWdgt=new StringMorph2("save",WorldMorph.preferencesAndSettings.textInButtonsFontSize).alignCenter(),this.saveButton=new SimpleButtonMorph(!0,this,"save",this.saveTextWdgt),this.add(this.saveButton),i=()=>{var t;if(isObject(this.currentProperty))return(t=new this.constructor(this.currentProperty)).fullRawMoveTo(world.hand.position()),t.fullRawMoveWithin(world),world.add(t),t.changed()},this.list=new ListMorph(this,"selectionFromList",this.target instanceof Array?e:e.sort(),nil,this.filterProperties(c),i),this.list.disableDrops(),world.steppingWdgts.delete(this.list.listContents),this.add(this.list),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.detail=new SimplePlainTextScrollPanelWdgt("",!1,5),this.detail.disableDrops(),this.detail.contents.disableDrops(),this.detail.color=Color.WHITE,this.detail.addModifiedContentIndicator(),null==this.list.selected&&(null!=(p=this.detail.modifiedTextTriangleAnnotation)&&p.hide(),this.saveTextWdgt.setColor(new Color(200,200,200))),this.detail.widgetToBeNotifiedOfTextModificationChange=this,this.textMorph=this.detail.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!1,this.add(this.detail),this.hierarchyHeaderString=new StringMorph2("Hierarchy",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.hierarchyHeaderString.toggleHeaderLine(),this.hierarchyHeaderString.alignCenter(),this.add(this.hierarchyHeaderString),this.propertyHeaderString=new StringMorph2("Properties",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.propertyHeaderString.toggleHeaderLine(),this.propertyHeaderString.alignCenter(),this.add(this.propertyHeaderString),this.resizer=new HandleMorph(this),this.invalidateLayout()},window.InspectorMorph2.prototype.textContentModified=function(){return this.saveTextWdgt.setColor(Color.BLACK)},window.InspectorMorph2.prototype.textContentUnmodified=function(){return this.saveTextWdgt.setColor(new Color(200,200,200))},window.InspectorMorph2.prototype.buildAndConnectObjOwnPropsButton=function(){return this.showOwnPropsOnlyOnButton=new SimpleButtonMorph(!0,this,"hideOwnPropsOnly","obj own props only: on"),this.showOwnPropsOnlyOffButton=new SimpleButtonMorph(!0,this,"showOwnPropsOnly","obj own props only: off"),this.showOwnPropsOnlyToggle=new ToggleButtonMorph(this.showOwnPropsOnlyOnButton,this.showOwnPropsOnlyOffButton,this.showingOwnPropsOnly?0:1),this.add(this.showOwnPropsOnlyToggle)},window.InspectorMorph2.prototype.openClassInspector=function(t,e,n){var o,i;return o=new ClassInspectorMorph(window[n].prototype),(i=new WindowWdgt(nil,nil,o)).setExtent(new Point(560,410)),i.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),i.fullRawMoveWithin(world),world.add(i),i.changed()},window.InspectorMorph2.prototype.showAttributes=function(){return this.showing="attributes",this.buildAndConnectChildren()},window.InspectorMorph2.prototype.showAttributesAndMethods=function(){return this.showing="all",this.buildAndConnectChildren()},window.InspectorMorph2.prototype.highlightOwnershipOfProperties=function(){return this.markOwnershipOfProperties=!this.markOwnershipOfProperties,this.buildAndConnectChildren()},window.InspectorMorph2.prototype.filterProperties=function(t){return this.markOwnershipOfProperties?[[new Color(0,0,180),t=>!0],[new Color(0,180,0),t=>this.target.constructor.prototype.hasOwnProperty(t)]]:nil},window.InspectorMorph2.prototype.selectionFromList=function(t){var e,n,o,i;if(void 0!==t){if(i=this.target[t],this.currentProperty=i,isFunction(i)){if(null!=this.target[t+"_source"])i=this.target[t+"_source"];else for(n=this.target;n!==Object;){if(null!=n.constructor.class.nonStaticPropertiesSources[t]){i=n.constructor.class.nonStaticPropertiesSources[t];break}n=n.__proto__}o=i.toString()}else void 0===i&&(i=this.target.constructor[t]),o=null==i?"nil":isString(i)?'"'+i+'"':i.toString();return(e=this.detail.textWdgt).setText(o),e.setReceiver(this.target),e.isEditable=!0,e.enableSelecting(),e.considerCurrentTextAsReferenceText(),this.detail.checkIfTextContentWasModifiedFromTextAtStart()}},window.InspectorMorph2.prototype.doLayout=function(t){var e,n,o,i,r,s,a,l,d,h,p,c;if(this.isCollapsed())return this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted();for(InspectorMorph2.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),r=(r=new Rectangle(new Point(Math.round(this.left()+this.externalPadding),Math.round(this.top()+this.externalPadding)))).setBoundsWidthAndHeight(this.width()-2*this.externalPadding,15),this.hierarchyHeaderString.doLayout(r),a=0,e=0,this.classesButtons.reverse(),s=0,l=(p=this.classesButtons).length;s<l;s++)(i=p[s]).parent===this&&(n=(n=new Rectangle(new Point(Math.round(this.left()+this.externalPadding+this.internalPadding+a),Math.round(this.hierarchyHeaderString.bottom()+2*this.internalPadding+a)))).setBoundsWidthAndHeight(120+2*this.classNamesTextPadding,15+2*this.classNamesTextPadding),i.doLayout(n),e>0&&this.angledArrows[e-1].parent===this&&(this.angledArrows[e-1].fullRawMoveTo(new Point(i.left()-15,Math.round(i.top()))),this.angledArrows[e-1].rawSetExtent(new Point(15,15))),a+=20),e++;return this.classesButtons.reverse(),this.layoutLastLabelInHierarchy(Math.round(this.left()+this.externalPadding+this.internalPadding+a),Math.round(this.hierarchyHeaderString.bottom()+2*this.internalPadding+a)),this.hierarchyBackgroundPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.hierarchyHeaderString.bottom()+this.internalPadding)),this.hierarchyBackgroundPanel.rawSetExtent(new Point(this.width()-2*this.externalPadding,a+20+this.internalPadding)),r=(r=new Rectangle(new Point(this.left()+this.externalPadding,this.hierarchyBackgroundPanel.bottom()+this.internalPadding))).setBoundsWidthAndHeight(this.width()-2*this.externalPadding,15),this.propertyHeaderString.doLayout(r),o=2*(h=Math.floor((this.width()-2*this.externalPadding-this.internalPadding)/3)),this.layoutOwnPropsOnlyToggle(this.propertyHeaderString.bottom()+this.internalPadding,h,o),d=this.bottom()-this.externalPadding-this.internalPadding-15-(this.showMethodsToggle.bottom()+this.internalPadding),this.list.parent===this&&(this.list.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.showMethodsToggle.bottom()+this.internalPadding)),this.list.rawSetExtent(new Point(h,d))),this.detail.parent===this&&(this.detail.fullRawMoveTo(new Point(this.list.right()+this.internalPadding,this.list.top())),this.detail.rawSetExtent(new Point(o,d).round())),c=Math.round((h-2*this.internalPadding)/3),n=(n=new Rectangle(new Point(this.left()+this.externalPadding,this.bottom()-15-this.externalPadding))).setBoundsWidthAndHeight(c,15),this.addPropertyButton.doLayout(n),n=(n=new Rectangle(new Point(this.addPropertyButton.right()+this.internalPadding,this.bottom()-15-this.externalPadding))).setBoundsWidthAndHeight(c,15),this.renamePropertyButton.doLayout(n),n=(n=new Rectangle(new Point(this.renamePropertyButton.right()+this.internalPadding,this.bottom()-15-this.externalPadding))).setBoundsWidthAndHeight(c,15),this.removePropertyButton.doLayout(n),n=(n=new Rectangle(new Point(Math.round(this.right()-this.width()/4-this.externalPadding-this.internalPadding-WorldMorph.preferencesAndSettings.handleSize),this.bottom()-15-this.externalPadding))).setBoundsWidthAndHeight(Math.round(this.width()/4),15),this.saveButton.doLayout(n),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0},window.InspectorMorph2.prototype.layoutOwnPropsOnlyToggle=function(t,e,n){var o;return o=(o=new Rectangle(new Point(this.left()+this.externalPadding,t))).setBoundsWidthAndHeight(new Point((e-this.internalPadding)/2,15).round()),this.showMethodsToggle.doLayout(o),o=(o=new Rectangle(new Point(this.showMethodsToggle.right()+this.internalPadding,t))).setBoundsWidthAndHeight(new Point((e-this.internalPadding)/2,15).round()),this.showFieldsToggle.doLayout(o),o=(o=new Rectangle(new Point(this.showFieldsToggle.right()+this.internalPadding,t))).setBoundsWidthAndHeight(new Point((n-this.internalPadding)/2,15).round()),this.showInheritedToggle.doLayout(o),o=(o=new Rectangle(new Point(this.showInheritedToggle.right()+this.internalPadding,t))).setBoundsWidthAndHeight(new Point((n-this.internalPadding)/2,15).round()),this.showOwnPropsOnlyToggle.doLayout(o)},window.InspectorMorph2.prototype.layoutLastLabelInHierarchy=function(t,e){if(this.lastLabelInHierarchy.parent===this&&(this.lastLabelInHierarchy.fullRawMoveTo(new Point(t,e)),this.lastLabelInHierarchy.rawSetExtent(new Point(150,15))),this.lastArrowInHierarchy.parent===this)return this.lastArrowInHierarchy.fullRawMoveTo(new Point(t-15,e)),this.lastArrowInHierarchy.rawSetExtent(new Point(15,15))},window.InspectorMorph2.prototype.notifyInstancesOfSourceChange=function(t){return this.target.sourceChanged()},window.InspectorMorph2.prototype.save=function(){var t,e,n,o,i;if(null!=this.list.selected){for(i=this.detail.contents.children[0].text.toString(),n=this.list.selected.labelString,this.target.injectProperty(n,i),this.detail.textWdgt.considerCurrentTextAsReferenceText(),this.detail.checkIfTextContentWasModifiedFromTextAtStart(),t=0,e=(o=world.widgetsGivingErrorWhileRepainting).length;t<e;t++)o[t].show();return world.widgetsGivingErrorWhileRepainting=[]}},window.InspectorMorph2.prototype.addProperty=function(t,e){var n;if(null!=(n=e.text.text))return null!=n.getValue&&(n=n.getValue()),this.target[n]=nil,this.buildAndConnectChildren(),this.notifyInstancesOfSourceChange([n])},window.InspectorMorph2.prototype.addPropertyPopout=function(){return this.prompt("new property name:",this,"addProperty","property")},window.InspectorMorph2.prototype.renameProperty=function(t,e){var n,o;return o=this.list.selected.labelString,null!=(n=e.text.text).getValue&&(n=n.getValue()),delete this.target[o],this.target[n]=this.currentProperty,this.buildAndConnectChildren(),this.notifyInstancesOfSourceChange([n,o])},window.InspectorMorph2.prototype.renamePropertyPopout=function(){var t;return t=this.list.selected.labelString,this.prompt("property name:",this,"renameProperty",t)},window.InspectorMorph2.prototype.removeProperty=function(){var t;return t=this.list.selected.labelString,delete this.target[t],this.currentProperty=nil,this.buildAndConnectChildren(),this.notifyInstancesOfSourceChange([t])},window.InspectorMorph2.instances=new Set,"function"==typeof window.InspectorMorph2.initStaticConstsAfterClassDefinition&&window.InspectorMorph2.initStaticConstsAfterClassDefinition(),window.ClassInspectorMorph=function(){window.ClassInspectorMorph.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ClassInspectorMorph,"name",{value:"ClassInspectorMorph"}),window.ClassInspectorMorph.__super__=window.InspectorMorph2.prototype,window.ClassInspectorMorph=extend(window.ClassInspectorMorph,window.InspectorMorph2),window.ClassInspectorMorph.prototype.notifyInstancesOfSourceChange=function(t){return this.target.constructor.class.notifyInstancesOfSourceChange(t)},window.ClassInspectorMorph.prototype.buildAndConnectChildren=function(){return ClassInspectorMorph.__super__.buildAndConnectChildren.apply(this,arguments),this.lastLabelInHierarchy.setText("this class")},window.ClassInspectorMorph.prototype.colloquialName=function(){return"Class Inspector ("+this.target.constructor.name.replace("Morph","").replace("Wdgt","")+")"},window.ClassInspectorMorph.prototype.layoutOwnPropsOnlyToggle=function(t){var e;return e=(e=new Rectangle(new Point(this.left()+this.externalPadding,t))).setBoundsWidthAndHeight(new Point((this.width()-2*this.externalPadding-2*this.internalPadding)/4,15).round()),this.showMethodsToggle.doLayout(e),e=(e=new Rectangle(new Point(this.showMethodsToggle.right()+this.internalPadding,t))).setBoundsWidthAndHeight(new Point((this.width()-2*this.externalPadding-2*this.internalPadding)/4,15).round()),this.showFieldsToggle.doLayout(e),e=(e=new Rectangle(new Point(this.showFieldsToggle.right()+this.internalPadding,t))).setBoundsWidthAndHeight(new Point(2*(this.width()-2*this.externalPadding-2*this.internalPadding)/4,15).round()),this.showInheritedToggle.doLayout(e)},window.ClassInspectorMorph.prototype.buildAndConnectObjOwnPropsButton=function(){},window.ClassInspectorMorph.prototype.save=function(){var t,e,n,o,i;for(i=this.detail.contents.children[0].text.toString(),n=this.list.selected.labelString,this.target.evaluateString("@"+n+" = "+i),isFunction(this.target[n])&&(this.target[n+"_source"]=i),this.notifyInstancesOfSourceChange([n]),this.detail.textWdgt.considerCurrentTextAsReferenceText(),this.detail.checkIfTextContentWasModifiedFromTextAtStart(),t=0,e=(o=world.widgetsGivingErrorWhileRepainting).length;t<e;t++)o[t].show();return world.widgetsGivingErrorWhileRepainting=[]},window.ClassInspectorMorph.instances=new Set,"function"==typeof window.ClassInspectorMorph.initStaticConstsAfterClassDefinition&&window.ClassInspectorMorph.initStaticConstsAfterClassDefinition(),window.ConsoleWdgt=function(t){this.target=t,ConsoleWdgt.__super__.constructor.call(this,new Point(200,400)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ConsoleWdgt,"name",{value:"ConsoleWdgt"}),window.ConsoleWdgt.__super__=window.Widget.prototype,window.ConsoleWdgt=extend(window.ConsoleWdgt,window.Widget),window.ConsoleWdgt.prototype.tempPromptEntryField=nil,window.ConsoleWdgt.prototype.textMorph=nil,window.ConsoleWdgt.prototype.runSelectionButton=nil,window.ConsoleWdgt.prototype.runAllButton=nil,window.ConsoleWdgt.prototype.functionFromCompiledCode=nil,window.ConsoleWdgt.prototype.externalPadding=0,window.ConsoleWdgt.prototype.internalPadding=5,window.ConsoleWdgt.prototype.colloquialName=function(){return"Console for: "+this.target.colloquialName().toLowerCase()},window.ConsoleWdgt.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new SimplePlainTextScrollPanelWdgt("",!1,5),this.tempPromptEntryField.disableDrops(),this.tempPromptEntryField.contents.disableDrops(),this.tempPromptEntryField.color=Color.WHITE,this.textMorph=this.tempPromptEntryField.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!0,this.textMorph.enableSelecting(),this.add(this.tempPromptEntryField),this.runSelectionButton=new SimpleButtonMorph(!0,this,"doSelection","run selection"),this.runSelectionButton.editorContentPropertyChangerButton=!0,this.add(this.runSelectionButton),this.runAllButton=new SimpleButtonMorph(!0,this,"doAll","run all"),this.add(this.runAllButton),this.invalidateLayout()},window.ConsoleWdgt.prototype.doSelection=function(){var t,e;return e=this.textMorph.selection(),t=compileFGCode(e,!0),new Function(t).call(this.target)},window.ConsoleWdgt.prototype.doAll=function(){var t,e;return e=this.textMorph.text,t=compileFGCode(e,!0),new Function(t).call(this.target)},window.ConsoleWdgt.prototype.doLayout=function(t){var e,n,o,i,r;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(ConsoleWdgt.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),i=this.height()-2*this.externalPadding-this.internalPadding-15,o=this.top()+this.externalPadding+i,n=((r=this.width()-2*this.externalPadding)-2*this.internalPadding-WorldMorph.preferencesAndSettings.handleSize)/2,this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(r,i))),this.runSelectionButton.parent===this&&(e=(e=new Rectangle(new Point(this.left()+this.externalPadding,o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.runSelectionButton.doLayout(e)),this.runAllButton.parent===this&&(e=(e=new Rectangle(new Point(e.right()+this.internalPadding,o+this.internalPadding))).setBoundsWidthAndHeight(n,15),this.runAllButton.doLayout(e)),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.ConsoleWdgt.instances=new Set,"function"==typeof window.ConsoleWdgt.initStaticConstsAfterClassDefinition&&window.ConsoleWdgt.initStaticConstsAfterClassDefinition(),ChildrenStainerMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{setColor:function(t,e,n,o){var i,r,s,a,l;if(o||n!==this.connectionsCalculationToken){for(this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].call(this,t,e,n,!0),a=[],i=0,r=(s=this.children).length;i<r;i++)l=s[i],a.push(l.setColor(t,e,n));return a}}})}},ParentStainerMixin={onceAddedClassProperties:function(t){return this.addInstanceProperties(t,{setColor:function(t,e,n,o){var i;if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,window[this[arguments.callee.name+"_class_injected_in"]].__super__[arguments.callee.name].call(this,t,e,n,!0),null!=(i=this.parent)?i.setColor(t,e,n):void 0}})}},window.CalculatingPatchNodeWdgt=function(t="# function with formula here e.g.\n# (in1) -> in1 * 2\n"){this.defaultFormulaBoxContents=t,CalculatingPatchNodeWdgt.__super__.constructor.call(this,new Point(200,400)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CalculatingPatchNodeWdgt,"name",{value:"CalculatingPatchNodeWdgt"}),window.CalculatingPatchNodeWdgt.__super__=window.Widget.prototype,window.CalculatingPatchNodeWdgt=extend(window.CalculatingPatchNodeWdgt,window.Widget),window.CalculatingPatchNodeWdgt.augmentWith(window.ControllerMixin,"CalculatingPatchNodeWdgt"),window.CalculatingPatchNodeWdgt.prototype.tempPromptEntryField=nil,window.CalculatingPatchNodeWdgt.prototype.defaultFormulaBoxContents=nil,window.CalculatingPatchNodeWdgt.prototype.textMorph=nil,window.CalculatingPatchNodeWdgt.prototype.formulaTextBoxLabel=nil,window.CalculatingPatchNodeWdgt.prototype.outputTextBoxLabel=nil,window.CalculatingPatchNodeWdgt.prototype.outputTextArea=nil,window.CalculatingPatchNodeWdgt.prototype.outputTextAreaText=nil,window.CalculatingPatchNodeWdgt.prototype.output=nil,window.CalculatingPatchNodeWdgt.prototype.input1=nil,window.CalculatingPatchNodeWdgt.prototype.input2=nil,window.CalculatingPatchNodeWdgt.prototype.input3=nil,window.CalculatingPatchNodeWdgt.prototype.input4=nil,window.CalculatingPatchNodeWdgt.prototype.setInput1IsConnected=!1,window.CalculatingPatchNodeWdgt.prototype.setInput2IsConnected=!1,window.CalculatingPatchNodeWdgt.prototype.setInput3IsConnected=!1,window.CalculatingPatchNodeWdgt.prototype.setInput4IsConnected=!1,window.CalculatingPatchNodeWdgt.prototype.input1connectionsCalculationToken=0,window.CalculatingPatchNodeWdgt.prototype.input2connectionsCalculationToken=0,window.CalculatingPatchNodeWdgt.prototype.input3connectionsCalculationToken=0,window.CalculatingPatchNodeWdgt.prototype.input4connectionsCalculationToken=0,window.CalculatingPatchNodeWdgt.prototype.externalPadding=0,window.CalculatingPatchNodeWdgt.prototype.internalPadding=5,window.CalculatingPatchNodeWdgt.prototype.colloquialName=function(){return"Calculating patch node"},window.CalculatingPatchNodeWdgt.prototype.setInput1=function(t,e,n,o){if(o||n!==this.input1connectionsCalculationToken)return this.input1connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.input1=Number(t),this.updateTarget(this.input1connectionsCalculationToken)},window.CalculatingPatchNodeWdgt.prototype.setInput2=function(t,e,n,o){if(o||n!==this.input2connectionsCalculationToken)return this.input2connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.input2=Number(t),this.updateTarget(this.input2connectionsCalculationToken)},window.CalculatingPatchNodeWdgt.prototype.setInput3=function(t,e,n,o){if(o||n!==this.input3connectionsCalculationToken)return this.input3connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.input3=Number(t),this.updateTarget(this.input3connectionsCalculationToken)},window.CalculatingPatchNodeWdgt.prototype.setInput4=function(t,e,n,o){if(o||n!==this.input4connectionsCalculationToken)return this.input4connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.input4=Number(t),this.updateTarget(this.input4connectionsCalculationToken)},window.CalculatingPatchNodeWdgt.prototype.bang=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.updateTarget(this.connectionsCalculationToken,!0)},window.CalculatingPatchNodeWdgt.prototype.openTargetPropertySelector=function(t,e,n){var o,i,r,s,a,l;for([a,o]=n.numericalSetters(),s=new MenuMorph(this,!1,this,!0,!0,"choose target property:"),i=r=0,l=a.length;0<=l?r<l:r>l;i=0<=l?++r:--r)s.addMenuItem(a[i],!0,this,"setTargetAndActionWithOnesPickedFromMenu",nil,nil,nil,nil,nil,n,o[i]);return 0===a.length&&(s=new MenuMorph(this,!1,this,!0,!0,"no target properties available")),s.popUpAtHand()},window.CalculatingPatchNodeWdgt.prototype.updateTarget=function(t,e){var n;(this.setInput1IsConnected||this.setInput2IsConnected||this.setInput3IsConnected||this.setInput4IsConnected)&&(n=!0,this.setInput1IsConnected&&this.input1connectionsCalculationToken!==t&&(n=!1),this.setInput2IsConnected&&this.input2connectionsCalculationToken!==t&&(n=!1),this.setInput3IsConnected&&this.input3connectionsCalculationToken!==t&&(n=!1),this.setInput4IsConnected&&this.input4connectionsCalculationToken!==t&&(n=!1),n&&!e&&this.recalculateOutput(),(n||e)&&this.fireOutputToTarget(t))},window.CalculatingPatchNodeWdgt.prototype.fireOutputToTarget=function(t){if(this.connectionsCalculationToken=t,this.action&&""!==this.action)return this.target[this.action].call(this.target,this.output,nil,this.connectionsCalculationToken)},window.CalculatingPatchNodeWdgt.prototype.reactToTargetConnection=function(){return this.fireOutputToTarget(world.makeNewConnectionsCalculationToken())},window.CalculatingPatchNodeWdgt.prototype.recalculateOutput=function(){var t;if(""!==this.textMorph.text)return this.evaluateString("@functionFromCompiledCode = "+this.textMorph.text),this.output=null!=(t=this.functionFromCompiledCode)?t.call(world,this.input1,this.input2,this.input3,this.input4):void 0,this.outputTextAreaText.setText(this.output+"")},window.CalculatingPatchNodeWdgt.prototype.stringSetters=function(t,e){return[t,e]=CalculatingPatchNodeWdgt.__super__.stringSetters.call(this,t,e),t.push("bang!","in1","in2","in3","in4"),e.push("bang","setInput1","setInput2","setInput3","setInput4"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.CalculatingPatchNodeWdgt.prototype.numericalSetters=function(t,e){return[t,e]=CalculatingPatchNodeWdgt.__super__.numericalSetters.call(this,t,e),t.push("bang!","in1","in2","in3","in4"),e.push("bang","setInput1","setInput2","setInput3","setInput4"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.CalculatingPatchNodeWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return CalculatingPatchNodeWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),world.isIndexPage?e.addMenuItem("connect to ➜",!0,this,"openTargetSelector","connect to\nanother widget"):e.addMenuItem("set target",!0,this,"openTargetSelector","choose another morph\nwhose numerical property\n will be controlled by this one")},window.CalculatingPatchNodeWdgt.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.tempPromptEntryField=new SimplePlainTextScrollPanelWdgt(this.defaultFormulaBoxContents,!1,5),this.tempPromptEntryField.disableDrops(),this.tempPromptEntryField.contents.disableDrops(),this.tempPromptEntryField.color=Color.WHITE,this.textMorph=this.tempPromptEntryField.textWdgt,this.textMorph.backgroundColor=Color.TRANSPARENT,this.textMorph.setFontName(nil,nil,this.textMorph.monoFontStack),this.textMorph.isEditable=!0,this.textMorph.enableSelecting(),this.add(this.tempPromptEntryField),this.outputTextArea=new SimplePlainTextScrollPanelWdgt("",!1,5),this.outputTextArea.disableDrops(),this.outputTextArea.contents.disableDrops(),this.outputTextArea.color=Color.WHITE,this.outputTextAreaText=this.outputTextArea.textWdgt,this.outputTextAreaText.backgroundColor=Color.TRANSPARENT,this.outputTextAreaText.setFontName(nil,nil,this.outputTextAreaText.monoFontStack),this.outputTextAreaText.isEditable=!1,this.add(this.outputTextArea),this.formulaTextBoxLabel=new StringMorph2("Formula",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.formulaTextBoxLabel.toggleHeaderLine(),this.add(this.formulaTextBoxLabel),this.outputTextBoxLabel=new StringMorph2("Output",WorldMorph.preferencesAndSettings.textInButtonsFontSize),this.outputTextBoxLabel.toggleHeaderLine(),this.add(this.outputTextBoxLabel),this.invalidateLayout()},window.CalculatingPatchNodeWdgt.prototype.doLayout=function(t){var e,n,o,i;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(CalculatingPatchNodeWdgt.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),e=this.height()-2*this.externalPadding-3*this.internalPadding-30,n=Math.round(2*e/3),o=Math.round(1*e/3),i=this.top()+this.externalPadding+15+this.internalPadding+n,this.formulaTextBoxLabel.parent===this&&(this.formulaTextBoxLabel.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.formulaTextBoxLabel.rawSetExtent(new Point(this.width()-2*this.externalPadding,15))),this.tempPromptEntryField.parent===this&&(this.tempPromptEntryField.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding+15+this.internalPadding)),this.tempPromptEntryField.rawSetExtent(new Point(this.width()-2*this.externalPadding,n))),this.outputTextBoxLabel.parent===this&&(this.outputTextBoxLabel.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.tempPromptEntryField.bottom()+this.internalPadding)),this.outputTextBoxLabel.rawSetExtent(new Point(this.width()-2*this.externalPadding,15))),this.outputTextArea.parent===this&&(this.outputTextArea.fullRawMoveTo(new Point(this.left()+this.externalPadding,i+this.internalPadding+15+this.internalPadding)),this.outputTextArea.rawSetExtent(new Point(this.width()-2*this.externalPadding,o))),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.CalculatingPatchNodeWdgt.instances=new Set,"function"==typeof window.CalculatingPatchNodeWdgt.initStaticConstsAfterClassDefinition&&window.CalculatingPatchNodeWdgt.initStaticConstsAfterClassDefinition(),window.SimplePlainTextScrollPanelWdgt=function(t,e,n){SimplePlainTextScrollPanelWdgt.__super__.constructor.call(this),this.takesOverAndCoalescesChildrensMenus=!0,this.disableDrops(),this.contents.disableDrops(),this.isTextLineWrapping=e,this.color=Color.WHITE,this.textWdgt=new SimplePlainTextWdgt(t,nil,nil,nil,nil,nil,new Color(230,230,130),1),this.textWdgt.isEditable=!0,e||(this.textWdgt.maxTextWidth=0),this.textWdgt.enableSelecting(),this.setContents(this.textWdgt,n),this.textWdgt.lockToPanels(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimplePlainTextScrollPanelWdgt,"name",{value:"SimplePlainTextScrollPanelWdgt"}),window.SimplePlainTextScrollPanelWdgt.__super__=window.ScrollPanelWdgt.prototype,window.SimplePlainTextScrollPanelWdgt=extend(window.SimplePlainTextScrollPanelWdgt,window.ScrollPanelWdgt),window.SimplePlainTextScrollPanelWdgt.prototype.textWdgt=nil,window.SimplePlainTextScrollPanelWdgt.prototype.modifiedTextTriangleAnnotation=nil,window.SimplePlainTextScrollPanelWdgt.prototype.widgetToBeNotifiedOfTextModificationChange=nil,window.SimplePlainTextScrollPanelWdgt.prototype.colloquialName=function(){return"text"},window.SimplePlainTextScrollPanelWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.DONT_MIND,PreferredSize.DONT_MIND,1)},window.SimplePlainTextScrollPanelWdgt.prototype.checkIfTextContentWasModifiedFromTextAtStart=function(){return this.textWdgt.checkIfTextContentWasModifiedFromTextAtStart()},window.SimplePlainTextScrollPanelWdgt.prototype.addModifiedContentIndicator=function(){return this.modifiedTextTriangleAnnotation=new ModifiedTextTriangleAnnotationWdgt(this),this.textWdgt.widgetToBeNotifiedOfTextModificationChange=this,this.textWdgt.checkIfTextContentWasModifiedFromTextAtStart()},window.SimplePlainTextScrollPanelWdgt.prototype.textContentModified=function(){var t,e;return null!=(t=this.modifiedTextTriangleAnnotation)&&t.show(),null!=(e=this.widgetToBeNotifiedOfTextModificationChange)?e.textContentModified():void 0},window.SimplePlainTextScrollPanelWdgt.prototype.textContentUnmodified=function(){var t,e;return null!=(t=this.modifiedTextTriangleAnnotation)&&t.hide(),null!=(e=this.widgetToBeNotifiedOfTextModificationChange)?e.textContentUnmodified():void 0},window.SimplePlainTextScrollPanelWdgt.instances=new Set,"function"==typeof window.SimplePlainTextScrollPanelWdgt.initStaticConstsAfterClassDefinition&&window.SimplePlainTextScrollPanelWdgt.initStaticConstsAfterClassDefinition(),window.StringMorph2=function(t=(""===text?"":"StringMorph2"),e=WorldMorph.preferencesAndSettings.normalTextFontSize,n=this.justArialFontStack,o=!1,i=!1,r=!1,s=!1,a=new Color(37,37,37),l,d){this.text=t,this.originallySetFontSize=e,this.fontName=n,this.isBold=o,this.isItalic=i,this.isHeaderLine=r,this.isNumeric=s,this.color=a,this.textPossiblyCroppedToFit=this.transformTextOneToOne(this.text),null!=l&&(this.backgroundColor=l),null!=d&&(this.backgroundTransparency=d),this.undoHistory=[],this.redoHistory=[],StringMorph2.__super__.constructor.call(this),this.noticesTransparentClick=!0,this.changed(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StringMorph2,"name",{value:"StringMorph2"}),window.StringMorph2.__super__=window.Widget.prototype,window.StringMorph2=extend(window.StringMorph2,window.Widget),window.StringMorph2.augmentWith(window.BackBufferMixin,"StringMorph2"),window.StringMorph2.augmentWith(window.ControllerMixin,"StringMorph2"),window.StringMorph2.prototype.text="",window.StringMorph2.prototype.textPossiblyCroppedToFit="",window.StringMorph2.prototype.fittingFontSize=nil,window.StringMorph2.prototype.originallySetFontSize=nil,window.StringMorph2.prototype.fontName=nil,window.StringMorph2.prototype.isBold=nil,window.StringMorph2.prototype.isItalic=nil,window.StringMorph2.prototype.hasDarkOutline=!1,window.StringMorph2.prototype.isHeaderLine=nil,window.StringMorph2.prototype.isEditable=!1,window.StringMorph2.prototype.isNumeric=nil,window.StringMorph2.prototype.isPassword=!1,window.StringMorph2.prototype.isShowingBlanks=!1,window.StringMorph2.prototype.blanksColor=new Color(180,140,140),window.StringMorph2.prototype.isScrollable=!0,window.StringMorph2.prototype.startMark=nil,window.StringMorph2.prototype.endMark=nil,window.StringMorph2.prototype.markedTextColor=Color.WHITE,window.StringMorph2.prototype.markedBackgoundColor=new Color(60,60,120),window.StringMorph2.prototype.horizontalAlignment=AlignmentSpecHorizontal.LEFT,window.StringMorph2.prototype.verticalAlignment=AlignmentSpecVertical.TOP,window.StringMorph2.prototype.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.FLOAT,window.StringMorph2.prototype.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.CROP,window.StringMorph2.prototype.caretHorizPositionForVertMovement=nil,window.StringMorph2.prototype.emptyCharacter="⁣",window.StringMorph2.prototype.justArialFontStack="Arial, sans-serif",window.StringMorph2.prototype.timesFontStack='Cambria, "Hoefler Text", Utopia, "Liberation Serif", "Nimbus Roman No9 L Regular", Times, "Times New Roman", serif',window.StringMorph2.prototype.georgiaFontStack='Constantia, "Lucida Bright", Lucidabright, "Lucida Serif", Lucida, "DejaVu Serif", "Bitstream Vera Serif", "Liberation Serif", Georgia, serif',window.StringMorph2.prototype.garamoFontStack='"Palatino Linotype", Palatino, Palladio, "URW Palladio L", "Book Antiqua", Baskerville, "Bookman Old Style", "Bitstream Charter", "Nimbus Roman No9 L", Garamond, "Apple Garamond", "ITC Garamond Narrow", "New Century Schoolbook", "Century Schoolbook", "Century Schoolbook L", Georgia, serif',window.StringMorph2.prototype.helveFontStack='Frutiger, "Frutiger Linotype", Univers, Calibri, "Gill Sans", "Gill Sans MT", "Myriad Pro", Myriad, "DejaVu Sans Condensed", "Liberation Sans", "Nimbus Sans L", Tahoma, Geneva, "Helvetica Neue", Helvetica, Arial, sans-serif',window.StringMorph2.prototype.verdaFontStack='Corbel, "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "DejaVu Sans", "Bitstream Vera Sans", "Liberation Sans", Verdana, "Verdana Ref", sans-serif',window.StringMorph2.prototype.trebuFontStack='"Segoe UI", Candara, "Bitstream Vera Sans", "DejaVu Sans", "Bitstream Vera Sans", "Trebuchet MS", Verdana, "Verdana Ref", sans-serif',window.StringMorph2.prototype.heavyFontStack='Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", sans-serif',window.StringMorph2.prototype.monoFontStack='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',window.StringMorph2.prototype.hashOfTextConsideredAsReference=nil,window.StringMorph2.prototype.widgetToBeNotifiedOfTextModificationChange=nil,window.StringMorph2.prototype.undoHistory=nil,window.StringMorph2.prototype.redoHistory=nil,window.StringMorph2.prototype.actualFontSizeUsedInRendering=function(){return this.reflowText(),this.fittingFontSize},window.StringMorph2.prototype.pushUndoState=function(t,e){var n,o,i,r,s;if(!(this.undoHistory.length>0&&(o=this.undoHistory[this.undoHistory.length-1]).selectionStart===this.startMark&&o.selectionEnd===this.endMark&&o.textContent===this.text&&Math.abs(t-o.cursorPos)<=1))return this.undoHistory.length>1&&(o=this.undoHistory[this.undoHistory.length-1],(n=this.undoHistory[this.undoHistory.length-2]).selectionStart===(i=o.selectionStart)&&i===this.startMark&&n.selectionEnd===(r=o.selectionEnd)&&r===this.endMark&&n.textContent===(s=o.textContent)&&s===this.text&&this.undoHistory.pop()),this.redoHistory=[],this.undoHistory.push(new TextEditingState(this.startMark,this.endMark,t,this.text,e))},window.StringMorph2.prototype.popRedoState=function(t){var e;return null!=(e=this.redoHistory.pop())&&this.undoHistory.push(e),e},window.StringMorph2.prototype.popUndoState=function(){var t;return null!=(t=this.undoHistory.pop())&&this.redoHistory.push(t),t},window.StringMorph2.prototype.setHorizontalAlignment=function(t){if(this.horizontalAlignment!==t)return this.horizontalAlignment=t,this.changed()},window.StringMorph2.prototype.setVerticalAlignment=function(t){if(this.verticalAlignment!==t)return this.verticalAlignment=t,this.changed()},window.StringMorph2.prototype.alignLeft=function(){return this.setHorizontalAlignment(AlignmentSpecHorizontal.LEFT),this},window.StringMorph2.prototype.alignCenter=function(){return this.setHorizontalAlignment(AlignmentSpecHorizontal.CENTER),this},window.StringMorph2.prototype.alignRight=function(){return this.setHorizontalAlignment(AlignmentSpecHorizontal.RIGHT),this},window.StringMorph2.prototype.alignTop=function(){return this.setVerticalAlignment(AlignmentSpecVertical.TOP),this},window.StringMorph2.prototype.alignMiddle=function(){return this.setVerticalAlignment(AlignmentSpecVertical.MIDDLE),this},window.StringMorph2.prototype.alignBottom=function(){return this.setVerticalAlignment(AlignmentSpecVertical.BOTTOM),this},window.StringMorph2.prototype.toString=function(){var t;return t=StringMorph2.__super__.toString.call(this),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.hidingOfMorphsContentExtractInLabels?t:t+' ("'+this.text.slice(0,30).replace(/(?:\r\n|\r|\n)/g,"↵")+'...")'},window.StringMorph2.prototype.getTextDescription=function(){return null!=this.textDescription?this.textDescription+" (adhoc description of string)":this.text.replace(/#\d*/,"").slice(0,30)+" (content of string)"},window.StringMorph2.prototype.buildCanvasFontProperty=function(t=this.fittingFontSize){var e;return e="",this.isBold&&(e+="bold "),this.isItalic&&(e+="italic "),e+t+"px "+this.fontName},window.StringMorph2.prototype.searchLargestFittingFont=function(t){var e,n,o;if(PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity=0,n=0,o=Math.round(200*Math.pow(10,PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity)),!this.doesTextFitInExtent(t,n))return-1;if(this.doesTextFitInExtent(t,o))return o/Math.pow(10,PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity);for(;n!==(e=Math.floor((n+o)/2));)this.doesTextFitInExtent(t,e/Math.pow(10,PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity))?n=e:o=e;return n/Math.pow(10,PreferencesAndSettings.decimalFloatFiguresOfFontSizeGranularity)},window.StringMorph2.prototype.generateTextWithEllipsis=function(t){return""!==t?t+"…":""},window.StringMorph2.prototype.searchLongestFittingTextByMultiCroppingIt=function(t){var e,n,o,i,r,s,a,l,d,h,p;if(t=this.transformTextOneToOne(this.text),this.doesTextFitInExtent(t,this.originallySetFontSize))return t;for(e="",n=o=0,a=(l=t.split(/\n/)).length;0<=a?o<a:o>a;n=0<=a?++o:--o)if(e+=l[n],n!==l.length-1&&(e+="\n"),!this.doesTextFitInExtent(e,this.originallySetFontSize)){for(d=0,h=e.length;d!==(r=Math.floor((d+h)/2));)p=e.substring(0,r),this.doesTextFitInExtent(p,this.originallySetFontSize)?d=r:h=r;if(d!==e.length){for(i=!1,"\n"===e.substr(e.length-1)&&(i=!0),s=0;d-s>0&&!this.doesTextFitInExtent(this.generateTextWithEllipsis(e.substring(0,d-s)),this.originallySetFontSize);)s++;if(e=d-s==0?this.doesTextFitInExtent("…",this.originallySetFontSize)?"…":"":this.generateTextWithEllipsis(e.substring(0,d-s)),i){if(!this.doesTextFitInExtent(e+"\n",this.originallySetFontSize))break;e+="\n"}this.doesTextFitInExtent(e,this.originallySetFontSize)||(alert("something wrong, this really should have fit: >"+e+"<"),this.doesTextFitInExtent(e,this.originallySetFontSize))}}return 0===e.length&&(e=this.doesTextFitInExtent("…",this.originallySetFontSize)?"…":""),e},window.StringMorph2.prototype.synchroniseTextAndActualText=function(){var t;return t=this.transformTextOneToOne(this.text),this.doesTextFitInExtent(t,this.originallySetFontSize)||this.fittingSpecWhenBoundsTooSmall===FittingSpecTextInSmallerBounds.SCALEDOWN?this.textPossiblyCroppedToFit=t:void 0},window.StringMorph2.prototype.eliminateInvisibleCharacter=function(t){return t.replace(this.emptyCharacter,"")},window.StringMorph2.prototype.measureText=function(t=this.fittingFontSize,e){var n,o,i;return i=this.buildCanvasFontProperty(t)+"-"+hashCode(e),null!=(o=world.cacheForTextMeasurements.get(i))?o:(world.canvasContextForTextMeasurements.font=this.buildCanvasFontProperty(t),n=world.canvasContextForTextMeasurements.measureText(this.eliminateInvisibleCharacter(e)).width,world.cacheForTextMeasurements.set(i,n),n)},window.StringMorph2.prototype.transformTextOneToOne=function(t){return this.isPassword?this.obfuscateAsPassword("*",t.length):t},window.StringMorph2.prototype.doesTextFitInExtent=function(t=this.transformTextOneToOne(this.text),e){return this.measureText,""===t||new Point(Math.ceil(this.measureText(e,t)),fontHeight(e)).le(this.extent())},window.StringMorph2.prototype.fitToExtent=function(){var t;return t=this.transformTextOneToOne(this.text),this.doesTextFitInExtent(t,this.originallySetFontSize)?(this.textPossiblyCroppedToFit=t,this.fittingSpecWhenBoundsTooLarge===FittingSpecTextInLargerBounds.SCALEUP?this.searchLargestFittingFont(t):this.originallySetFontSize):this.fittingSpecWhenBoundsTooSmall===FittingSpecTextInSmallerBounds.CROP?(this.textPossiblyCroppedToFit=this.searchLongestFittingTextByMultiCroppingIt(t),this.originallySetFontSize):(this.textPossiblyCroppedToFit=t,this.searchLargestFittingFont(t))},window.StringMorph2.prototype.calculateTextWidth=function(t,e){return this.measureText(e,t)},window.StringMorph2.prototype.setFittingFontSize=function(t){if(this.fittingFontSize!==t)return this.fittingFontSize=t,this.changed()},window.StringMorph2.prototype.createBufferCacheKey=function(){return this.extent().toString()+"-"+this.isPassword+"-"+this.isShowingBlanks+"-"+this.originallySetFontSize+"-"+this.buildCanvasFontProperty()+"-"+this.hasDarkOutline+"-"+this.isHeaderLine+"-"+this.color.toString()+"-"+(null!=this.backgroundColor?this.backgroundColor.toString():"transp")+"-"+(null!=this.backgroundTransparency?this.backgroundTransparency.toString():"transp")+"-"+hashCode(this.text)+"-"+hashCode(this.textPossiblyCroppedToFit)+"-"+this.startMark+"-"+this.endMark+"-"+this.markedBackgoundColor.toString()+"-"+this.horizontalAlignment+"-"+this.verticalAlignment+"-"+this.fittingSpecWhenBoundsTooLarge+"-"+this.fittingSpecWhenBoundsTooSmall},window.StringMorph2.prototype.textVerticalPosition=function(t){switch(this.verticalAlignment){case AlignmentSpecVertical.TOP:return 0;case AlignmentSpecVertical.MIDDLE:return(this.height()-t)/2;case AlignmentSpecVertical.BOTTOM:return this.height()-t}},window.StringMorph2.prototype.textHorizontalPosition=function(t){switch(this.horizontalAlignment){case AlignmentSpecHorizontal.LEFT:return 0;case AlignmentSpecHorizontal.CENTER:return this.width()/2-t/2;case AlignmentSpecHorizontal.RIGHT:return this.width()-t}},window.StringMorph2.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s,a,l,d,h,p;return i=this.createBufferCacheKey(this.horizontalAlignment,this.verticalAlignment),null!=(o=world.cacheForImmutableBackBuffers.get(i))?(this.backBuffer!==o[0]&&null!=world.caret&&world.caret.changed(),o):(this.reflowText(),null!=world.caret&&world.caret.changed(),a=this.textPossiblyCroppedToFit,p=this.calculateTextWidth(a),s=fontHeight(this.fittingFontSize),null!=this.backgroundColor||this.verticalAlignment!==AlignmentSpecVertical.TOP||this.horizontalAlignment!==AlignmentSpecHorizontal.LEFT||this.fittingSpecWhenBoundsTooLarge===FittingSpecTextInLargerBounds.FLOAT?(h=this.width(),r=this.height()):(h=p,r=s),(e=(t=newCanvas(new Point(h,r).scaleBy(ceilPixelRatio))).getContext("2d")).useLogicalPixelsUntilRestore(),e.font=this.buildCanvasFontProperty(),e.textAlign="left",e.textBaseline="bottom",this.backgroundColor&&(e.save(),e.fillStyle=this.backgroundColor.toString(),e.globalAlpha=this.backgroundTransparency,e.fillRect(0,0,Math.round(this.width()),Math.round(this.height())),e.restore()),d=this.textVerticalPosition(fontHeight(this.fittingFontSize))+fontHeight(this.fittingFontSize),l=this.textHorizontalPosition(p),this.hasDarkOutline&&(e.fillStyle="black",e.fillText(a,l+0,d+0),e.fillText(a,l+1.5,d+0),e.fillText(a,l-1.5,d+0),e.fillText(a,l+0,d+1.5),e.fillText(a,l+1.5,d+1.5),e.fillText(a,l-1.5,d+1.5),e.fillText(a,l+0,d-1.5),e.fillText(a,l+1.5,d-1.5),e.fillText(a,l-1.5,d-1.5)),e.fillStyle=this.color.toString(),e.fillText(a,l,d),this.isHeaderLine&&(e.strokeStyle=new Color(198,198,198),e.beginPath(),e.moveTo(0,d-s/2),e.lineTo(l-5,d-s/2),e.moveTo(l+p+5,d-s/2),e.lineTo(this.width(),d-s/2),e.stroke()),this.drawSelection(e),n=[t,e],world.cacheForImmutableBackBuffers.set(i,n),n)},window.StringMorph2.prototype.drawSelection=function(t){var e,n,o,i,r,s,a;for(a=[],n=o=r=this.firstSelectedSlot(),s=this.lastSelectedSlot();r<=s?o<s:o>s;n=r<=s?++o:--o)i=this.slotCoordinates(n).subtract(this.position()),e=this.textPossiblyCroppedToFit.charAt(n),t.fillStyle=this.markedBackgoundColor.toString(),t.fillRect(i.x,i.y,Math.ceil(this.measureText(nil,e))+1,Math.ceil(fontHeight(this.fittingFontSize))),t.fillStyle=this.markedTextColor.toString(),a.push(t.fillText(e,i.x,i.y+Math.ceil(fontHeight(this.fittingFontSize))));return a},window.StringMorph2.prototype.slotCoordinates=function(t){var e,n,o,i,r,s,a;return this.transformTextOneToOne(this.text)!==this.textPossiblyCroppedToFit&&this.fittingSpecWhenBoundsTooSmall===FittingSpecTextInSmallerBounds.CROP?(world.stopEditing(),this.edit(),nil):(n=this.text,t!==(e=Math.min(Math.max(t,0),n.length))&&alert("something wrong - slot is out of range"),t=e,s=Math.ceil(this.calculateTextWidth(n.substring(0,t))),r=this.left()+s,a=this.top(),i=this.calculateTextWidth(n),o=this.textVerticalPosition(fontHeight(this.fittingFontSize)),r+=this.textHorizontalPosition(i),a+=o,new Point(r,a))},window.StringMorph2.prototype.slotAtSingleLineString=function(t,e){var n,o,i,r;if(r=this.calculateTextWidth(e),(t-=this.textHorizontalPosition(r))-this.left()>=r)return"⁣"===e[e.length-1]?e.length-1:e.length;for(i=0,n=0;;){if(n>t-this.left()){if(Math.abs(t-this.left()-o)<Math.abs(t-this.left()-n))return i-1;break}if(o=n,n+=this.calculateTextWidth(e[i]),(i+=1)===e.length&&this.calculateTextWidth(e)-this.calculateTextWidth(e[i-1])/2<t-this.left())return i}return i},window.StringMorph2.prototype.pointIsAboveFirstLine=function(t){var e;return e=this.textVerticalPosition(fontHeight(this.fittingFontSize)),t.y-this.top()<e&&0},window.StringMorph2.prototype.pointIsUnderLastLine=function(t){var e;return e=this.textVerticalPosition(fontHeight(this.fittingFontSize))+fontHeight(this.fittingFontSize),t.y-e-this.top()>Math.ceil(fontHeight(this.fittingFontSize))&&this.textPossiblyCroppedToFit.length},window.StringMorph2.prototype.slotAt=function(t){var e,n;return!1!==(e=this.pointIsAboveFirstLine(t))?e:!1!==(n=this.pointIsUnderLastLine(t))?n:this.slotAtSingleLineString(t.x,this.textPossiblyCroppedToFit)},window.StringMorph2.prototype.upFrom=function(t){return this.startOfLine()},window.StringMorph2.prototype.downFrom=function(t){return this.endOfLine()},window.StringMorph2.prototype.startOfLine=function(){return 0},window.StringMorph2.prototype.endOfLine=function(){return this.textPossiblyCroppedToFit.length},window.StringMorph2.prototype.fontSizePopup=function(t){return this.prompt(t.parent.title+"\nfont\nsize:",this,"setFontSize",this.originallySetFontSize.toString(),nil,6,500,!0)},window.StringMorph2.prototype.editPopup=function(t){var e;return e=null!=t?t.parent.title+"\nedit:":"edit:",this.prompt(e,this,"setText",this.text,nil,6,nil,!0)},window.StringMorph2.prototype.setFontName=function(t,e,n){if(this.fontName!==n&&(this.fontName=n,this.changed(),null!=(null!=t?t.parent:void 0)&&t.parent instanceof MenuMorph))return this.updateFontsMenuEntriesTicks(t.parent)},window.StringMorph2.prototype.fontsMenu=function(t,e){var n;return(n=new MenuMorph(this,!1,e,!0,!0,"Fonts")).addMenuItem(untick+"Arial",!0,this,"setFontName",nil,nil,nil,nil,nil,this.justArialFontStack),n.addMenuItem(untick+"Times",!0,this,"setFontName",nil,nil,nil,nil,nil,this.timesFontStack),n.addMenuItem(untick+"Georgia",!0,this,"setFontName",nil,nil,nil,nil,nil,this.georgiaFontStack),n.addMenuItem(untick+"Garamo",!0,this,"setFontName",nil,nil,nil,nil,nil,this.garamoFontStack),n.addMenuItem(untick+"Helve",!0,this,"setFontName",nil,nil,nil,nil,nil,this.helveFontStack),n.addMenuItem(untick+"Verda",!0,this,"setFontName",nil,nil,nil,nil,nil,this.verdaFontStack),n.addMenuItem(untick+"Treby",!0,this,"setFontName",nil,nil,nil,nil,nil,this.trebuFontStack),n.addMenuItem(untick+"Heavy",!0,this,"setFontName",nil,nil,nil,nil,nil,this.heavyFontStack),n.addMenuItem(untick+"Mono",!0,this,"setFontName",nil,nil,nil,nil,nil,this.monoFontStack),this.updateFontsMenuEntriesTicks(n),n.popUpAtHand()},window.StringMorph2.prototype.updateFontsMenuEntriesTicks=function(t){var e,n,o,i,r,s,a,l,d;switch(r=a=n=e=i=d=l=o=s=untick,this.fontName){case this.justArialFontStack:r=tick;break;case this.timesFontStack:a=tick;break;case this.georgiaFontStack:n=tick;break;case this.garamoFontStack:e=tick;break;case this.helveFontStack:i=tick;break;case this.verdaFontStack:d=tick;break;case this.trebuFontStack:l=tick;break;case this.heavyFontStack:o=tick;break;case this.monoFontStack:s=tick}return t.children[1].label.setText(r+"Arial"),t.children[2].label.setText(a+"Times"),t.children[3].label.setText(n+"Georgia"),t.children[4].label.setText(e+"Garamo"),t.children[5].label.setText(i+"Helve"),t.children[6].label.setText(d+"Verda"),t.children[7].label.setText(l+"Treby"),t.children[8].label.setText(o+"Heavy"),t.children[9].label.setText(s+"Mono")},window.StringMorph2.prototype.addMorphSpecificMenuEntries=function(t,e){if(StringMorph2.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),e.addMenuItem("edit...",!0,this,"editPopup","set this String's\ncontent"),e.addMenuItem("font size...",!0,this,"fontSizePopup","set this String's\nfont point size"),e.addMenuItem("font ➜",!1,this,"fontsMenu","pick a font"),this.isBold?e.addMenuItem("normal weight",!0,this,"toggleWeight"):e.addMenuItem("bold",!0,this,"toggleWeight"),this.isItalic?e.addMenuItem("non-italic",!0,this,"toggleItalic"):e.addMenuItem("italic",!0,this,"toggleItalic"),this.isHeaderLine?e.addMenuItem("no header line",!0,this,"toggleHeaderLine"):e.addMenuItem("header line",!0,this,"toggleHeaderLine"),this.isPassword?e.addMenuItem("show characters",!0,this,"toggleIsPassword"):e.addMenuItem("hide characters",!0,this,"toggleIsPassword"),e.addLine(),this.horizontalAlignment!==AlignmentSpecHorizontal.LEFT&&e.addMenuItem("← align left",!0,this,"alignLeft"),this.horizontalAlignment!==AlignmentSpecHorizontal.CENTER&&e.addMenuItem("∸ align center",!0,this,"alignCenter"),this.horizontalAlignment!==AlignmentSpecHorizontal.RIGHT&&e.addMenuItem("→ align right",!0,this,"alignRight"),e.addLine(),this.verticalAlignment!==AlignmentSpecVertical.TOP&&e.addMenuItem("↑ align top",!0,this,"alignTop"),this.verticalAlignment!==AlignmentSpecVertical.MIDDLE&&e.addMenuItem("⍿ align middle",!0,this,"alignMiddle"),this.verticalAlignment!==AlignmentSpecVertical.BOTTOM&&e.addMenuItem("↓ align bottom",!0,this,"alignBottom"),e.addLine(),this.fittingSpecWhenBoundsTooLarge===FittingSpecTextInLargerBounds.SCALEUP?e.addMenuItem("←☓→ don't expand to fill",!0,this,"togglefittingSpecWhenBoundsTooLarge"):e.addMenuItem("←→ expand to fill",!0,this,"togglefittingSpecWhenBoundsTooLarge"),this.fittingSpecWhenBoundsTooSmall===FittingSpecTextInSmallerBounds.CROP?e.addMenuItem("→← shrink to fit",!0,this,"togglefittingSpecWhenBoundsTooSmall"):e.addMenuItem("→⋯← crop to fit",!0,this,"togglefittingSpecWhenBoundsTooSmall"),world.isIndexPage)return e.addLine(),world.isIndexPage?e.addMenuItem("connect to ➜",!0,this,"openTargetSelector","connect to\nanother widget"):e.addMenuItem("set target",!0,this,"openTargetSelector","choose another morph\nwhose numerical property\n will be controlled by this one")},window.StringMorph2.prototype.togglefittingSpecWhenBoundsTooSmall=function(){return this.fittingSpecWhenBoundsTooSmall=!this.fittingSpecWhenBoundsTooSmall,this.changed(),world.stopEditing()},window.StringMorph2.prototype.togglefittingSpecWhenBoundsTooLarge=function(){return world.stopEditing(),this.fittingSpecWhenBoundsTooLarge=!this.fittingSpecWhenBoundsTooLarge,this.changed()},window.StringMorph2.prototype.toggleShowBlanks=function(){return this.isShowingBlanks=!this.isShowingBlanks,this.changed()},window.StringMorph2.prototype.toggleWeight=function(){return this.isBold=!this.isBold,this.changed()},window.StringMorph2.prototype.toggleItalic=function(){return this.isItalic=!this.isItalic,this.changed()},window.StringMorph2.prototype.toggleHeaderLine=function(){return this.isHeaderLine=!this.isHeaderLine,this.changed()},window.StringMorph2.prototype.toggleIsPassword=function(){return world.stopEditing(),this.isPassword=!this.isPassword,this.changed()},window.StringMorph2.prototype.changed=function(){if(StringMorph2.__super__.changed.apply(this,arguments),null!=world.caret)return world.caret.changed()},window.StringMorph2.prototype.reflowText=function(){return this.synchroniseTextAndActualText(),this.setFittingFontSize(this.fitToExtent())},window.StringMorph2.prototype.setText=function(t,e,n,o){var i;if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,null!=e&&(t=e.text.text),i=t+"",this.text!==i&&(this.clearSelection(),this.text=i,this.checkIfTextContentWasModifiedFromTextAtStart(),this.synchroniseTextAndActualText(),this.changed()),this.updateTarget()},window.StringMorph2.prototype.considerCurrentTextAsReferenceText=function(){return this.hashOfTextConsideredAsReference=hashCode(this.text)},window.StringMorph2.prototype.checkIfTextContentWasModifiedFromTextAtStart=function(){var t,e;if(null!=this.widgetToBeNotifiedOfTextModificationChange)return this.hashOfTextConsideredAsReference===hashCode(this.text)?"function"==typeof(t=this.widgetToBeNotifiedOfTextModificationChange).textContentUnmodified?t.textContentUnmodified():void 0:"function"==typeof(e=this.widgetToBeNotifiedOfTextModificationChange).textContentModified?e.textContentModified():void 0},window.StringMorph2.prototype.setFontSize=function(t,e){var n,o;if("number"==typeof(o=null!=(null!=e?e.getValue:void 0)?e.getValue():t)?n=Math.round(Math.min(Math.max(o,4),500)):(n=parseFloat(o),isNaN(n)||(n=Math.round(Math.min(Math.max(n,4),500)))),n!==this.originallySetFontSize)return this.originallySetFontSize=n,this.changed()},window.StringMorph2.prototype.openTargetPropertySelector=function(t,e,n){var o,i,r,s,a,l;for([a,o]=n.stringSetters(),s=new MenuMorph(this,!1,this,!0,!0,"choose target property:"),i=r=0,l=a.length;0<=l?r<l:r>l;i=0<=l?++r:--r)s.addMenuItem(a[i],!0,this,"setTargetAndActionWithOnesPickedFromMenu",nil,nil,nil,nil,nil,n,o[i]);return 0===a.length&&(s=new MenuMorph(this,!1,this,!0,!0,"no target properties available")),s.popUpAtHand()},window.StringMorph2.prototype.numericalSetters=function(t,e){return[t,e]=StringMorph2.__super__.numericalSetters.call(this,t,e),t.push("alpha 0-100","font size","text"),e.push("setAlphaScaled","setFontSize","setText"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.StringMorph2.prototype.stringSetters=function(t,e){return[t,e]=StringMorph2.__super__.stringSetters.call(this,t,e),t.push("bang!","text"),e.push("bang","setText"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.StringMorph2.prototype.updateTarget=function(){this.action&&""!==this.action&&this.target[this.action].call(this.target,this.text,nil,this.connectionsCalculationToken)},window.StringMorph2.prototype.reactToTargetConnection=function(){return this.updateTarget()},window.StringMorph2.prototype.edit=function(){return this.textPossiblyCroppedToFit===this.transformTextOneToOne(this.text)?(world.edit(this),!0):(this.editPopup(),nil)},window.StringMorph2.prototype.selection=function(){var t,e;return t=Math.min(this.startMark,this.endMark),e=Math.max(this.startMark,this.endMark),this.text.slice(t,e)},window.StringMorph2.prototype.firstSelectedSlot=function(){return null==this.startMark||null==this.endMark?nil:Math.min(this.startMark,this.endMark)},window.StringMorph2.prototype.lastSelectedSlot=function(){return null==this.startMark||null==this.endMark?nil:Math.max(this.startMark,this.endMark)},window.StringMorph2.prototype.currentlySelecting=function(){return null!=this.startMark||null!=this.endMark},window.StringMorph2.prototype.clearSelection=function(){if(null!=this.startMark||null!=this.endMark)return this.startMark=nil,this.endMark=nil,this.changed()},window.StringMorph2.prototype.setEndMark=function(t){return this.endMark=t,this.changed()},window.StringMorph2.prototype.selectBetween=function(t,e){return this.startMark=Math.min(t,e),this.endMark=Math.max(t,e),this.changed()},window.StringMorph2.prototype.deleteSelection=function(){var t,e;return t=Math.min(this.startMark,this.endMark),e=Math.max(this.startMark,this.endMark),this.setText(this.text.slice(0,t)+this.text.slice(e))},window.StringMorph2.prototype.selectAll=function(){return this.startMark=0,this.endMark=this.textPossiblyCroppedToFit.length,this.changed()},window.StringMorph2.prototype.startSelectionUpToSlot=function(t,e){return this.startMark=t,this.endMark=e,this.changed()},window.StringMorph2.prototype.extendSelectionUpToSlot=function(t){return this.endMark=t,this.changed()},window.StringMorph2.prototype.mouseDoubleClick=function(){var t,e,n,o,i;if(this.isEditable){for(n=null!=(o=world.caret)?o.slot:void 0,e=0;n+e<this.text.length&&this.text[n+e].isLetter();)e++;for(t=0;n+t-1>=0&&this.text[n+t-1].isLetter();)t--;return this.selectBetween(n+t,n+e),null!=(i=world.caret)?i.gotoSlot(n+e):void 0}},window.StringMorph2.prototype.mouseTripleClick=function(){var t;if(this.isEditable)return this.selectAll(),null!=(t=world.caret)?t.gotoSlot(this.text.length):void 0},window.StringMorph2.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){var d,h,p,c,w;return this.bringToForeground(),null!=(p=world.caret)&&p.bringToForeground(),this.isEditable?(d=!0,h=null!=(c=world.caret)?c.slot:void 0,this.currentlySelecting()||(d=this.edit()),w=this.slotAt(t),i?this.currentlySelecting()?this.extendSelectionUpToSlot(w):null!=h&&this.startSelectionUpToSlot(h,w):this.clearSelection(),null!=d?(world.caret.gotoSlot(w,!0),world.caret.show(),this.caretHorizPositionForVertMovement=world.caret.slot):void 0):this.escalateEvent("mouseClickLeft",t,e,n,o,i,r,s,a,l)},window.StringMorph2.prototype.enableSelecting=function(){return this.mouseDownLeft=function(t){if(this.clearSelection(),this.isEditable&&!this.grabsToParentWhenDragged())return this.edit(),world.caret.gotoPos(t),this.startMark=this.slotAt(t),this.endMark=this.startMark},this.mouseMove=function(t){var e;return this.isEditable&&this.currentlySelecting()?(e=this.slotAt(t))!==this.endMark?(this.endMark=e,this.changed()):void 0:this.disableSelecting()}},window.StringMorph2.prototype.disableSelecting=function(){return this.clearSelection(),this.mouseDownLeft=StringMorph2.prototype.mouseDownLeft,delete this.mouseMove},window.StringMorph2.instances=new Set,"function"==typeof window.StringMorph2.initStaticConstsAfterClassDefinition&&window.StringMorph2.initStaticConstsAfterClassDefinition(),window.TextMorph2=function(t="TextMorph2",e=WorldMorph.preferencesAndSettings.normalTextFontSize,n=this.justArialFontStack,o=!1,i=!1,r,s=nil,a=nil){this.text=t,this.originallySetFontSize=e,this.fontName=n,this.isBold=o,this.isItalic=i,this.color=r,this.backgroundColor=s,this.backgroundTransparency=a,TextMorph2.__super__.constructor.call(this,this.text,this.originallySetFontSize,this.fontName,this.isBold,this.isItalic,!1,!1,this.color,this.backgroundColor,this.backgroundTransparency),this.markedTextColor=Color.WHITE,this.markedBackgoundColor=new Color(60,60,120),this.textPossiblyCroppedToFit=this.transformTextOneToOne(this.text),this.noticesTransparentClick=!0,this.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.CROP,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextMorph2,"name",{value:"TextMorph2"}),window.TextMorph2.__super__=window.StringMorph2.prototype,window.TextMorph2=extend(window.TextMorph2,window.StringMorph2),window.TextMorph2.prototype.wrappedLines=[],window.TextMorph2.prototype.wrappedLineSlots=[],window.TextMorph2.prototype.softWrap=!0,window.TextMorph2.prototype.backgroundColor=nil,window.TextMorph2.prototype.receiver=nil,window.TextMorph2.prototype.heightOfPossiblyCroppedText=nil,window.TextMorph2.prototype.widthOfPossiblyCroppedText=nil,window.TextMorph2.prototype.doesTextFitInExtent=function(t=this.transformTextOneToOne(this.text),e){return""===t||this.breakTextIntoLines(t,e,this.extent())},window.TextMorph2.prototype.getParagraphs=function(t){var e,n;return e=hashCode(t),null!=(n=world.cacheForTextParagraphSplits.get(e))||(n=t.split("\n"),world.cacheForTextParagraphSplits.set(e,n)),n},window.TextMorph2.prototype.getWordsOfParapraph=function(t){var e,n;return e=hashCode(t),null!=(n=world.cacheForParagraphsWordsSplits.get(e))||((n=t.split(" ")).push("\n"),world.cacheForParagraphsWordsSplits.set(e,n)),n},window.TextMorph2.prototype.replaceLastSpaceWithInvisibleCarriageReturn=function(t){return(t=t.substr(0,t.length-1))+this.emptyCharacter},window.TextMorph2.prototype.getWrappingData=function(t,e,n,o){var i,r,s,a,l,d,h,p,c,w,u,g;if(i=this.buildCanvasFontProperty(t)+"-"+e+"-"+hashCode(n),null!=(u=world.cacheForParagraphsWrappingData.get(i)))return u;for(w=[],c=[],d=0,r="",h=0,"",s=0,a=o.length;s<a;s++)"\n"===(p=o[s])?(r=this.replaceLastSpaceWithInvisibleCarriageReturn(r),w.push(r),c.push(h),d=Math.max(d,Math.ceil(this.measureText(t,r))),r=""):(e>0?(l=r+p+" ",Math.ceil(this.measureText(t,l))>e?((r=this.replaceLastSpaceWithInvisibleCarriageReturn(r))!==this.emptyCharacter&&(w.push(r),c.push(h),d=Math.max(d,Math.ceil(this.measureText(t,r)))),r=p+" "):r=l):r=r+p+" ",h+=p.length+1);return g=[w,c,d,h],world.cacheForParagraphsWrappingData.set(i,g),g},window.TextMorph2.prototype.getTextWrappingData=function(t,e,n,o,i){var r,s,a,l,d,h,p,c,w,u,g,f,T,y,S,C,m,W;if(this instanceof SimplePlainTextWdgt&&(i=null,t=this.originallySetFontSize),s=this.buildCanvasFontProperty(t)+"-"+e+"-"+hashCode(n)+"-"+i,null!=(g=world.cacheForTextWrappingData.get(s)))return g;for(m=[],S=[0],c=0,a=0,w=0,d=0,h=o.length;d<h;d++)if(l=o[d],T=this.getWordsOfParapraph(l),W=this.getWrappingData(t,e,l,T),[C,y,p,u]=W,w=a,a+=u,m=m.concat(C),r=y.map((function(t){return t+w})),S=S.concat(r),c=Math.max(c,p),null!=i&&((S.length-1)*Math.ceil(fontHeight(t))>i.y||c>i.x))return world.cacheForTextWrappingData.set(s,!1),!1;return null!=i?(world.cacheForTextWrappingData.set(s,!0),!0):(f=[m,S,c,m.length*Math.ceil(fontHeight(t))],world.cacheForTextWrappingData.set(s,f),f)},window.TextMorph2.prototype.breakTextIntoLines=function(t=this.transformTextOneToOne(this.text),e,n){var o,i,r,s;return this instanceof SimplePlainTextWdgt&&(e=this.originallySetFontSize),i=this.softWrap?this.width():Number.MAX_VALUE,o=hashCode(t)+"-"+this.buildCanvasFontProperty(e)+"-"+i+"-"+n,null!=(s=world.cacheForTextBreakingIntoLinesTopLevel.get(o))||(r=this.getParagraphs(t),s=this.getTextWrappingData(e,i,t,r,n),world.cacheForTextBreakingIntoLinesTopLevel.set(o,s)),s},window.TextMorph2.prototype.reflowText=function(){return TextMorph2.__super__.reflowText.apply(this,arguments),[this.wrappedLines,this.wrappedLineSlots,this.widthOfPossiblyCroppedText,this.heightOfPossiblyCroppedText]=this.breakTextIntoLines(this.textPossiblyCroppedToFit,this.fittingFontSize),this.heightOfPossiblyCroppedText},window.TextMorph2.prototype.createBufferCacheKey=function(){return TextMorph2.__super__.createBufferCacheKey.call(this)+"-"+this.softWrap},window.TextMorph2.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f,T,y;if(i=this.createBufferCacheKey(),null!=(o=world.cacheForImmutableBackBuffers.get(i)))return this.backBuffer!==o[0]&&null!=world.caret&&world.caret.changed(),o;for(r=this.reflowText(),this instanceof SimplePlainTextWdgt&&(r=this.wrappedLines.length*Math.ceil(fontHeight(this.originallySetFontSize))),null!=world.caret&&world.caret.changed(),e=(t=newCanvas()).getContext("2d"),t.width=this.width()*ceilPixelRatio,t.height=this.height()*ceilPixelRatio,e.useLogicalPixelsUntilRestore(),e.font=this.buildCanvasFontProperty(),e.textAlign="left",e.textBaseline="bottom",this.backgroundColor&&(e.save(),e.fillStyle=this.backgroundColor.toString(),e.globalAlpha=this.backgroundTransparency,e.fillRect(0,0,Math.round(this.width()),Math.round(this.height())),e.restore()),u=this.textVerticalPosition(r),e.fillStyle=this.color.toString(),a=0,l=0,d=(p=this.wrappedLines).length;l<d;l++)h=p[l],g=Math.ceil(this.measureText(nil,h)),T=function(){switch(this.horizontalAlignment){case AlignmentSpecHorizontal.RIGHT:return this.width()-g;case AlignmentSpecHorizontal.CENTER:return(this.width()-g)/2;default:return 0}}.call(this),y=(a+1)*Math.ceil(fontHeight(this.fittingFontSize)),a++,e.fillText(this.eliminateInvisibleCharacter(h),T,y+u),this.isHeaderLine&&this.wrappedLines.length<=1&&(s=fontHeight(this.fittingFontSize),c=T,w=y+u,f=g,e.strokeStyle=new Color(198,198,198),e.beginPath(),e.moveTo(0,w-s/2),e.lineTo(c-5,w-s/2),e.moveTo(c+f+5,w-s/2),e.lineTo(this.width(),w-s/2),e.stroke());return this.drawSelection(e),n=[t,e],world.cacheForImmutableBackBuffers.set(i,n),n},window.TextMorph2.prototype.slotRowAndColumn=function(t){var e,n,o,i,r,s,a;for(this.reflowText(),o=0,a=n=0,r=this.wrappedLines.length;0<=r?n<r:n>r;a=0<=r?++n:--n)for(o=this.wrappedLineSlots[a],e=i=0,s=this.wrappedLines[a].length;0<=s?i<s:i>s;e=0<=s?++i:--i){if(o===t)return[a,e];o+=1}return[this.wrappedLines.length-1,this.wrappedLines[this.wrappedLines.length-1].length-1]},window.TextMorph2.prototype.slotCoordinates=function(t){var e,n,o,i,r,s,a,l,d;return this.transformTextOneToOne(this.text)!==this.textPossiblyCroppedToFit&&this.fittingSpecWhenBoundsTooSmall===FittingSpecTextInSmallerBounds.CROP?(world.stopEditing(),this.edit(),nil):(this.reflowText(),[o,n]=this.slotRowAndColumn(t),e=this.measureText(nil,this.wrappedLines[o]),a=Math.ceil(this.measureText(nil,this.wrappedLines[o].substring(0,n))),d=o*Math.ceil(fontHeight(this.fittingFontSize)),r=this.textVerticalPosition(this.heightOfPossiblyCroppedText),i=this.textHorizontalPosition(e),s=this.left()+a+i,l=this.top()+d+r,new Point(s,l))},window.TextMorph2.prototype.slotAtRow=function(t,e){return t>this.wrappedLines.length?this.textPossiblyCroppedToFit.length:this.wrappedLineSlots[Math.max(t-1,0)]+this.slotAtSingleLineString(e,this.wrappedLines[t-1])},window.TextMorph2.prototype.pointIsAboveFirstLine=function(t){var e;return e=this.textVerticalPosition(this.heightOfPossiblyCroppedText),t.y-this.top()<e&&0},window.TextMorph2.prototype.slotAt=function(t){var e,n,o;if(!1!==(e=this.pointIsAboveFirstLine(t)))return e;for(o=this.textVerticalPosition(this.heightOfPossiblyCroppedText),n=0;t.y-this.top()>o+n*Math.ceil(fontHeight(this.fittingFontSize));)n+=1;return n=Math.max(n,1),this.slotAtRow(n,t.x)},window.TextMorph2.prototype.upFrom=function(t){var e,n;return[n,e]=this.slotRowAndColumn(t),n<1?0:this.slotAtRow(n,this.slotCoordinates(this.caretHorizPositionForVertMovement).x)},window.TextMorph2.prototype.downFrom=function(t){var e,n;return[n,e]=this.slotRowAndColumn(t),n>this.wrappedLines.length-2?this.textPossiblyCroppedToFit.length:this.slotAtRow(n+2,this.slotCoordinates(this.caretHorizPositionForVertMovement).x)},window.TextMorph2.prototype.startOfLine=function(t){return this.wrappedLineSlots[this.slotRowAndColumn(t).y]},window.TextMorph2.prototype.endOfLine=function(t){return this.startOfLine(t)+this.wrappedLines[this.slotRowAndColumn(t).y].length-1},window.TextMorph2.prototype.toggleSoftWrap=function(){return this.softWrap=!this.softWrap,this.changed(),world.stopEditing()},window.TextMorph2.prototype.addMorphSpecificMenuEntries=function(t,e){var n,o;return TextMorph2.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),this.softWrap?e.addMenuItem("soft wrap".tick(),!0,this,"toggleSoftWrap"):e.addMenuItem("soft wrap",!0,this,"toggleSoftWrap"),e.addLine(),null!=(null!=(n=this.parent)&&null!=(o=n.parent)?o.parent:void 0)&&this.parent.parent.parent instanceof ConsoleWdgt?(this.currentlySelecting()&&e.addMenuItem("run selection",!0,this.parent.parent.parent,"doSelection"),e.addMenuItem("run contents",!0,this.parent.parent.parent,"doAll")):e.addMenuItem("run contents",!0,this,"doContents")},window.TextMorph2.prototype.setAlignmentToLeft=function(){return this.alignment="left",this.changed()},window.TextMorph2.prototype.setAlignmentToRight=function(){return this.alignment="right",this.changed()},window.TextMorph2.prototype.setAlignmentToCenter=function(){return this.alignment="center",this.changed()},window.TextMorph2.prototype.evaluationMenu=function(){var t;return t=this.buildHierarchyMenu(),this.text.length>0&&(t.prependLine(),t.prependMenuItem("select all",!0,this,"selectAllAndEdit"),t.prependMenuItem("do all",!0,this,"doAll")),""!==this.selection().replace(/^\s\s*/,"").replace(/\s\s*$/,"")&&(t.prependLine(),t.prependMenuItem("inspect selection",!0,this,"inspectSelection","evaluate the\nselected expression\nand inspect the result"),t.prependMenuItem("show selection",!0,this,"showSelection","evaluate the\nselected expression\nand show the result"),t.prependMenuItem("do selection",!0,this,"doSelection","evaluate the\nselected expression")),t},window.TextMorph2.prototype.edit=function(){return this.changed(),TextMorph2.__super__.edit.apply(this,arguments)},window.TextMorph2.prototype.selectAllAndEdit=function(){return this.edit(),this.selectAll()},window.TextMorph2.prototype.doAll=function(){return this.receiver.evaluateString(this.text)},window.TextMorph2.prototype.setReceiver=function(t){return this.receiver=t,this.overridingContextMenu=this.evaluationMenu},window.TextMorph2.prototype.doSelection=function(){return this.receiver.evaluateString(this.selection()),this.edit()},window.TextMorph2.prototype.doContents=function(){return null!=this.receiver?this.receiver.evaluateString(this.text):this.evaluateString(this.text)},window.TextMorph2.prototype.showSelection=function(){var t;if(null!=(t=this.receiver.evaluateString(this.selection())))return this.inform(t)},window.TextMorph2.prototype.inspectSelection=function(){var t;if(null!=(t=this.receiver.evaluateString(this.selection())))return this.spawnInspector(t)},window.TextMorph2.prototype.mouseTripleClick=function(){var t,e,n,o,i,r;if(this.isEditable)return[o,t]=this.slotRowAndColumn(null!=(e=world.caret)?e.slot:void 0),i=this.slotAtRow(o+1,0),r=this.wrappedLineSlots[o+1],this.selectBetween(i,r),null!=(n=world.caret)?n.gotoSlot(r):void 0},window.TextMorph2.instances=new Set,"function"==typeof window.TextMorph2.initStaticConstsAfterClassDefinition&&window.TextMorph2.initStaticConstsAfterClassDefinition(),window.SimplePlainTextWdgt=function(t="SimplePlainText",e=12,n=this.justArialFontStack,o=!1,i=!1,r=Color.BLACK,s=nil,a=nil){this.text=t,this.originallySetFontSize=e,this.fontName=n,this.isBold=o,this.isItalic=i,this.color=r,this.backgroundColor=s,this.backgroundTransparency=a,SimplePlainTextWdgt.__super__.constructor.apply(this,arguments),this.silentRawSetBounds(new Rectangle(0,0,400,40)),this.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.FLOAT,this.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.maxTextWidth=!0,this.reLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimplePlainTextWdgt,"name",{value:"SimplePlainTextWdgt"}),window.SimplePlainTextWdgt.__super__=window.TextMorph2.prototype,window.SimplePlainTextWdgt=extend(window.SimplePlainTextWdgt,window.TextMorph2),window.SimplePlainTextWdgt.augmentWith(window.ControllerMixin,"SimplePlainTextWdgt"),window.SimplePlainTextWdgt.prototype.colloquialName=function(){return"text"},window.SimplePlainTextWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return SimplePlainTextWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.SimplePlainTextWdgt.prototype.openTargetPropertySelector=function(t,e,n){var o,i,r,s,a,l;for([a,o]=n.stringSetters(),s=new MenuMorph(this,!1,this,!0,!0,"choose target property:"),i=r=0,l=a.length;0<=l?r<l:r>l;i=0<=l?++r:--r)s.addMenuItem(a[i],!0,this,"setTargetAndActionWithOnesPickedFromMenu",nil,nil,nil,nil,nil,n,o[i]);return 0===a.length&&(s=new MenuMorph(this,!1,this,!0,!0,"no target properties available")),s.popUpAtHand()},window.SimplePlainTextWdgt.prototype.stringSetters=function(t,e){return[t,e]=SimplePlainTextWdgt.__super__.stringSetters.call(this,t,e),t.push("bang!","text"),e.push("bang","setText"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.SimplePlainTextWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){return SimplePlainTextWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.removeMenuItem("soft wrap"),e.removeMenuItem("soft wrap".tick()),e.removeMenuItem("soft wrap"),e.removeMenuItem("←☓→ don't expand to fill"),e.removeMenuItem("←→ expand to fill"),e.removeMenuItem("→← shrink to fit"),e.removeMenuItem("→⋯← crop to fit"),e.removeMenuItem("header line"),e.removeMenuItem("no header line"),e.removeMenuItem("↑ align top"),e.removeMenuItem("⍿ align middle"),e.removeMenuItem("↓ align bottom"),e.addLine(),world.isIndexPage?e.addMenuItem("connect to ➜",!0,this,"openTargetSelector","connect to\nanother widget"):e.addMenuItem("set target",!0,this,"openTargetSelector","choose another morph\nwhose numerical property\n will be controlled by this one"),this.amIDirectlyInsideScrollPanelWdgt()&&1===this.parent.children.filter((function(t){return!(t instanceof CaretMorph)})).length&&(e.addLine(),this.parent.parent.isTextLineWrapping?e.addMenuItem("☒ soft wrap",!0,this,"softWrapOff"):e.addMenuItem("☐ soft wrap",!0,this,"softWrapOn")),e.removeConsecutiveLines()},window.SimplePlainTextWdgt.prototype.softWrapOn=function(){return this.parent.parent.isTextLineWrapping=!0,this.maxTextWidth=!0,this.parent.fullRawMoveTo(this.parent.parent.position()),this.parent.rawSetExtent(this.parent.parent.extent()),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.softWrapOff=function(){return this.parent.parent.isTextLineWrapping=!1,this.maxTextWidth=nil,this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.bang=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.updateTarget()},window.SimplePlainTextWdgt.prototype.setText=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,SimplePlainTextWdgt.__super__.setText.call(this,t,e,n,!0),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt(),this.updateTarget()},window.SimplePlainTextWdgt.prototype.updateTarget=function(){this.action&&""!==this.action&&this.target[this.action].call(this.target,this.text,nil,this.connectionsCalculationToken)},window.SimplePlainTextWdgt.prototype.reactToTargetConnection=function(){return this.updateTarget()},window.SimplePlainTextWdgt.prototype.toggleShowBlanks=function(){return SimplePlainTextWdgt.__super__.toggleShowBlanks.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.toggleWeight=function(){return SimplePlainTextWdgt.__super__.toggleWeight.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.toggleItalic=function(){return SimplePlainTextWdgt.__super__.toggleItalic.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.toggleIsPassword=function(){return SimplePlainTextWdgt.__super__.toggleIsPassword.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.rawSetExtent=function(t){return SimplePlainTextWdgt.__super__.rawSetExtent.apply(this,arguments),this.reLayout()},window.SimplePlainTextWdgt.prototype.setFontSize=function(t,e){return SimplePlainTextWdgt.__super__.setFontSize.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.setFontName=function(t,e,n){return SimplePlainTextWdgt.__super__.setFontName.apply(this,arguments),this.reLayout(),this.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.SimplePlainTextWdgt.prototype.blendInWithPanelColor=function(){if(this.backgroundColor.equals(WorldMorph.preferencesAndSettings.editableItemBackgroundColor))return this.setBackgroundColor(new Color(249,249,249))},window.SimplePlainTextWdgt.prototype.contrastOutFromPanelColor=function(){if(this.backgroundColor.equals(new Color(249,249,249)))return this.setBackgroundColor(WorldMorph.preferencesAndSettings.editableItemBackgroundColor)},window.SimplePlainTextWdgt.prototype.reLayout=function(){var t,e,n;return SimplePlainTextWdgt.__super__.reLayout.call(this),null!=this.maxTextWidth&&0!==this.maxTextWidth?(this.softWrap=!0,[this.wrappedLines,this.wrappedLineSlots,this.widthOfPossiblyCroppedText,this.heightOfPossiblyCroppedText]=this.breakTextIntoLines(this.text,this.originallySetFontSize,this.extent()),n=this.width()):(this.softWrap=!1,e=new Point(1e7,1e7),[this.wrappedLines,this.wrappedLineSlots,this.widthOfPossiblyCroppedText,this.heightOfPossiblyCroppedText]=this.breakTextIntoLines(this.text,this.originallySetFontSize,e),n=this.widthOfPossiblyCroppedText),t=this.wrappedLines.length*Math.ceil(fontHeight(this.originallySetFontSize)),this.silentRawSetExtent(new Point(n,t)),this.changed(),this.notifyChildrenThatParentHasReLayouted()},window.SimplePlainTextWdgt.instances=new Set,"function"==typeof window.SimplePlainTextWdgt.initStaticConstsAfterClassDefinition&&window.SimplePlainTextWdgt.initStaticConstsAfterClassDefinition(),window.SimpleVideoLinkWdgt=function(t,e="https://goo.gl/9xZrmG"){this.descriptionString=t,this.linkString=e,SimpleVideoLinkWdgt.__super__.constructor.call(this,this.descriptionString,this.linkString),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleVideoLinkWdgt,"name",{value:"SimpleVideoLinkWdgt"}),window.SimpleVideoLinkWdgt.__super__=window.SimpleLinkWdgt.prototype,window.SimpleVideoLinkWdgt=extend(window.SimpleVideoLinkWdgt,window.SimpleLinkWdgt),window.SimpleVideoLinkWdgt.prototype.createLinkIcon=function(){return this.externalLinkIcon=new VideoPlayButtonWdgt},window.SimpleVideoLinkWdgt.instances=new Set,"function"==typeof window.SimpleVideoLinkWdgt.initStaticConstsAfterClassDefinition&&window.SimpleVideoLinkWdgt.initStaticConstsAfterClassDefinition(),window.SpeechBubbleWdgt=function(t="hello"){this.contents=t,SpeechBubbleWdgt.__super__.constructor.call(this),this.color=WorldMorph.preferencesAndSettings.menuBackgroundColor,this.padding=0,this.strokeColor=WorldMorph.preferencesAndSettings.menuStrokeColor,this.cornerRadius=6,this.appearance=new BubblyAppearance(this),this.toolTipMessage="speech bubble",this.buildAndConnectChildren(),this.minimumExtent=new Point(10,10),this.extentToGetWhenDraggedFromGlassBox=new Point(105,80),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SpeechBubbleWdgt,"name",{value:"SpeechBubbleWdgt"}),window.SpeechBubbleWdgt.__super__=window.Widget.prototype,window.SpeechBubbleWdgt=extend(window.SpeechBubbleWdgt,window.Widget),window.SpeechBubbleWdgt.prototype.contents=nil,window.SpeechBubbleWdgt.prototype.padding=nil,window.SpeechBubbleWdgt.prototype.morphInvokingThis=nil,window.SpeechBubbleWdgt.prototype.colloquialName=function(){return"speech bubble"},window.SpeechBubbleWdgt.prototype.buildAndConnectChildren=function(){return this.contentsMorph=new TextMorph2(this.contents,WorldMorph.preferencesAndSettings.bubbleHelpFontSize,nil,!1,!0,"center"),this.contentsMorph.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.contentsMorph.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.contentsMorph.alignMiddle(),this.contentsMorph.alignCenter(),this.contentsMorph.isEditable=!0,this.add(this.contentsMorph),this.invalidateLayout()},window.SpeechBubbleWdgt.prototype.rawSetExtent=function(t){return SpeechBubbleWdgt.__super__.rawSetExtent.apply(this,arguments),this.doLayout(this.bounds)},window.SpeechBubbleWdgt.prototype.doLayout=function(t){return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(trackChanges.push(!1),this.silentRawSetWidth(t.width()),this.silentRawSetHeight(t.height()),this.contentsMorph.rawSetWidth(t.width()-2*this.cornerRadius),this.contentsMorph.rawSetHeight(t.height()-2*this.cornerRadius-t.height()/5),this.contentsMorph.fullRawMoveTo(this.position().add(new Point(this.padding+this.cornerRadius,this.padding+this.cornerRadius))),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.SpeechBubbleWdgt.instances=new Set,"function"==typeof window.SpeechBubbleWdgt.initStaticConstsAfterClassDefinition&&window.SpeechBubbleWdgt.initStaticConstsAfterClassDefinition(),window.CanvasMorph=function(){CanvasMorph.__super__.constructor.apply(this,arguments),this.color=Color.WHITE,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CanvasMorph,"name",{value:"CanvasMorph"}),window.CanvasMorph.__super__=window.PanelWdgt.prototype,window.CanvasMorph=extend(window.CanvasMorph,window.PanelWdgt),window.CanvasMorph.augmentWith(window.BackBufferMixin,"CanvasMorph"),window.CanvasMorph.prototype.iHaveBeenAddedTo=function(t,e){},window.CanvasMorph.prototype.createRefreshOrGetBackBuffer=function(){var t,e;return t=this.extent(),null!=this.backBuffer?(new Point(this.backBuffer.width,this.backBuffer.height).equals(t.scaleBy(ceilPixelRatio))||(e=this.backBuffer,this.backBuffer=newCanvas(t.scaleBy(ceilPixelRatio)),this.backBufferContext=this.backBuffer.getContext("2d"),null!=this.color&&(this.backBufferContext.fillStyle=this.color.toString(),this.backBufferContext.fillRect(0,0,t.x*ceilPixelRatio,t.y*ceilPixelRatio)),this.backBufferContext.drawImage(e,0,0),this.backBufferContext.useLogicalPixelsUntilRestore()),[this.backBuffer,this.backBufferContext]):(this.backBuffer=newCanvas(t.scaleBy(ceilPixelRatio)),this.backBufferContext=this.backBuffer.getContext("2d"),null!=this.color&&(this.backBufferContext.fillStyle=this.color.toString(),this.backBufferContext.fillRect(0,0,t.x*ceilPixelRatio,t.y*ceilPixelRatio)),this.backBufferContext.useLogicalPixelsUntilRestore(),[this.backBuffer,this.backBufferContext])},window.CanvasMorph.prototype.clear=function(t=this.color){var e;return null==this.backBuffer&&this.createRefreshOrGetBackBuffer(),e=new Point(this.backBuffer.width,this.backBuffer.height),this.backBufferContext.setTransform(1,0,0,1,0,0),this.backBufferContext.fillStyle=t.toString(),this.backBufferContext.fillRect(0,0,e.x,e.y),this.backBufferContext.useLogicalPixelsUntilRestore(),this.changed()},window.CanvasMorph.prototype.drawLine=function(t,e,n,o){var i,r,s;return null==this.backBuffer&&this.createRefreshOrGetBackBuffer(),r=t,s=e,(i=this.backBufferContext).lineWidth=n,i.strokeStyle=o.toString(),i.lineCap="round",i.lineJoin="round",i.beginPath(),i.moveTo(r.x,r.y),i.lineTo(s.x,s.y),i.stroke(),this.changed()},window.CanvasMorph.instances=new Set,"function"==typeof window.CanvasMorph.initStaticConstsAfterClassDefinition&&window.CanvasMorph.initStaticConstsAfterClassDefinition(),window.StretchableCanvasWdgt=function(){window.StretchableCanvasWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StretchableCanvasWdgt,"name",{value:"StretchableCanvasWdgt"}),window.StretchableCanvasWdgt.__super__=window.CanvasMorph.prototype,window.StretchableCanvasWdgt=extend(window.StretchableCanvasWdgt,window.CanvasMorph),window.StretchableCanvasWdgt.prototype.anythingPaintedYet=!1,window.StretchableCanvasWdgt.prototype.extentWhenCanvasGotDirty=nil,window.StretchableCanvasWdgt.prototype.behindTheScenesBackBuffer=nil,window.StretchableCanvasWdgt.prototype.behindTheScenesBackBufferContext=nil,window.StretchableCanvasWdgt.prototype.createRefreshOrGetBackBuffer=function(){var t;return t=this.extent(),null==this.backBuffer&&this.createNewFrontFacingBuffer(t),this.anythingPaintedYet||null==this.color||(this.backBufferContext.fillStyle=this.color.toString(),this.backBufferContext.fillRect(0,0,t.x*ceilPixelRatio,t.y*ceilPixelRatio)),this.anythingPaintedYet&&(this.backBufferContext.setTransform(1,0,0,1,0,0),this.backBufferContext.scale(this.width()/this.extentWhenCanvasGotDirty.x,this.height()/this.extentWhenCanvasGotDirty.y),this.backBufferContext.drawImage(this.behindTheScenesBackBuffer,0,0)),this.backBufferContext.useLogicalPixelsUntilRestore(),[this.backBuffer,this.backBufferContext]},window.StretchableCanvasWdgt.prototype.clear=function(t=this.color){throw new Error("not implemented yet")},window.StretchableCanvasWdgt.prototype.createNewBehindTheScenesBuffer=function(t){return this.behindTheScenesBackBuffer=newCanvas(t.scaleBy(ceilPixelRatio)),this.behindTheScenesBackBufferContext=this.behindTheScenesBackBuffer.getContext("2d"),null!=this.color&&(this.behindTheScenesBackBufferContext.fillStyle=this.color.toString(),this.behindTheScenesBackBufferContext.fillRect(0,0,t.x*ceilPixelRatio,t.y*ceilPixelRatio)),this.behindTheScenesBackBufferContext.useLogicalPixelsUntilRestore()},window.StretchableCanvasWdgt.prototype.createNewFrontFacingBuffer=function(t){return this.backBuffer=newCanvas(t.scaleBy(ceilPixelRatio)),this.backBufferContext=this.backBuffer.getContext("2d"),this.backBufferContext.useLogicalPixelsUntilRestore()},window.StretchableCanvasWdgt.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return null!=this.behindTheScenesBackBuffer&&this.anythingPaintedYet||this.createNewBehindTheScenesBuffer(t),this.createNewFrontFacingBuffer(t),StretchableCanvasWdgt.__super__.rawSetExtent.apply(this,arguments),this.doLayout(this.bounds)},window.StretchableCanvasWdgt.prototype.getContextForPainting=function(){var t;return null!=(null!=(t=this.parent)?t.setRatio:void 0)&&null==this.parent.ratio&&(this.parent.setRatio(this.width()/this.height()),this.extentWhenCanvasGotDirty=this.extent(),this.anythingPaintedYet=!0),this.behindTheScenesBackBufferContext.setTransform(1,0,0,1,0,0),this.behindTheScenesBackBufferContext.useLogicalPixelsUntilRestore(),this.behindTheScenesBackBufferContext.scale(this.extentWhenCanvasGotDirty.x/this.width(),this.extentWhenCanvasGotDirty.y/this.height()),this.behindTheScenesBackBufferContext.translate(-this.bounds.origin.x,-this.bounds.origin.y),this.behindTheScenesBackBufferContext},window.StretchableCanvasWdgt.prototype.drawLine=function(t,e,n,o){throw new Error("not implemented yet")},window.StretchableCanvasWdgt.prototype.paintImage=function(t,e){var n,o;return o=this.extent(),null==this.backBuffer&&this.createNewFrontFacingBuffer(o),null==this.behindTheScenesBackBuffer&&this.createNewBehindTheScenesBuffer(o),n=this.getContextForPainting(),this.behindTheScenesBackBufferContext.scale(1/ceilPixelRatio,1/ceilPixelRatio),n.drawImage(e,t.x*ceilPixelRatio,t.y*ceilPixelRatio),this.behindTheScenesBackBufferContext.useLogicalPixelsUntilRestore()},window.StretchableCanvasWdgt.prototype.reactToDropOf=function(t){return this.paintImage(t.position(),t.fullImage(nil,!1,!0)),world.add(t,nil,nil,!0)},window.StretchableCanvasWdgt.prototype.doLayout=function(t){var e,n,o;if(null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed())return this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted();for(trackChanges.push(!1),this.rawSetBounds(t),n=0,o=(e=this.childrenNotHandlesNorCarets()).length;n<o;n++)e[n].rawSetBounds(this.bounds);return trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0},window.StretchableCanvasWdgt.instances=new Set,"function"==typeof window.StretchableCanvasWdgt.initStaticConstsAfterClassDefinition&&window.StretchableCanvasWdgt.initStaticConstsAfterClassDefinition(),window.StretchableEditableWdgt=function(){StretchableEditableWdgt.__super__.constructor.apply(this,arguments),this.buildAndConnectChildren(),this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StretchableEditableWdgt,"name",{value:"StretchableEditableWdgt"}),window.StretchableEditableWdgt.__super__=window.Widget.prototype,window.StretchableEditableWdgt=extend(window.StretchableEditableWdgt,window.Widget),window.StretchableEditableWdgt.augmentWith(window.KeepsRatioWhenInVerticalStackMixin,"StretchableEditableWdgt"),window.StretchableEditableWdgt.prototype.toolsPanel=nil,window.StretchableEditableWdgt.prototype.stretchableWidgetContainer=nil,window.StretchableEditableWdgt.prototype.externalPadding=0,window.StretchableEditableWdgt.prototype.internalPadding=5,window.StretchableEditableWdgt.prototype.providesAmenitiesForEditing=!0,window.StretchableEditableWdgt.prototype.colloquialName=function(){return"Generic panel"},window.StretchableEditableWdgt.prototype.representativeIcon=function(){return new GenericPanelIconWdgt},window.StretchableEditableWdgt.prototype.createToolsPanel=function(){},window.StretchableEditableWdgt.prototype.createNewStretchablePanel=function(){return this.stretchableWidgetContainer=new StretchableWidgetContainerWdgt,this.add(this.stretchableWidgetContainer)},window.StretchableEditableWdgt.prototype.reLayout=function(){var t,e,n,o;return trackChanges.push(!1),t=this.top()+this.externalPadding,o=this.width()-2*this.externalPadding,e=this.height()-2*this.externalPadding,n=this.left()+this.externalPadding,this.stretchableWidgetContainer.parent===this&&(this.stretchableWidgetContainer.fullRawMoveTo(new Point(n,t)),this.stretchableWidgetContainer.setExtent(new Point(o,e))),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.StretchableEditableWdgt.prototype.rawSetExtent=function(t){return StretchableEditableWdgt.__super__.rawSetExtent.apply(this,arguments),this.reLayout()},window.StretchableEditableWdgt.prototype.hasStartingContentBeenChangedByUser=function(){var t;return null!=(null!=(t=this.stretchableWidgetContainer)?t.ratio:void 0)},window.StretchableEditableWdgt.prototype.closeFromContainerWindow=function(t){return this.hasStartingContentBeenChangedByUser()||world.anyReferenceToWdgt(t)?world.anyReferenceToWdgt(t)?t.close():new SaveShortcutPromptWdgt(this,t).popUpAtHand():t.fullDestroy()},window.StretchableEditableWdgt.prototype.editButtonPressedFromWindowBar=function(){return this.dragsDropsAndEditingEnabled?this.disableDragsDropsAndEditing(this):this.enableDragsDropsAndEditing(this)},window.StretchableEditableWdgt.prototype.constrainToRatio=function(){var t;if(null!=this.layoutSpecDetails&&(this.layoutSpecDetails.canSetHeightFreely=!1,null!=(null!=(t=this.stretchableWidgetContainer)?t.ratio:void 0)))return this.rawSetExtent(new Point(this.width(),0))},window.StretchableEditableWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),this.dragsDropsAndEditingEnabled=!0,this.createToolsPanel(),this.stretchableWidgetContainer.enableDragsDropsAndEditing(this)},window.StretchableEditableWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){var e;if(null!=(e=this.layoutSpecDetails)?e.canSetHeightFreely:void 0)StretchableEditableWdgt.__super__.rawSetWidthSizeHeightAccordingly.apply(this,arguments);else if(null!=this.stretchableWidgetContainer){if(null!=this.stretchableWidgetContainer.ratio)return this.rawSetExtent(new Point(t,Math.round(t/this.stretchableWidgetContainer.ratio)));StretchableEditableWdgt.__super__.rawSetWidthSizeHeightAccordingly.apply(this,arguments)}else StretchableEditableWdgt.__super__.rawSetWidthSizeHeightAccordingly.apply(this,arguments)},window.StretchableEditableWdgt.prototype.disableDragsDropsAndEditing=function(t){var e,n;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(n=this.parent)&&"function"==typeof n.makePencilClear&&n.makePencilClear(),this.dragsDropsAndEditingEnabled=!1,null!=this.toolsPanel&&("function"==typeof(e=this.toolsPanel).unselectAll&&e.unselectAll(),this.toolsPanel.destroy(),this.toolsPanel=nil),this.stretchableWidgetContainer.disableDragsDropsAndEditing(this),this.invalidateLayout()},window.StretchableEditableWdgt.prototype.buildAndConnectChildren=function(){return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.createNewStretchablePanel(),this.createToolsPanel(),this.invalidateLayout()},window.StretchableEditableWdgt.prototype.childPickedUp=function(t){if(t===this.stretchableWidgetContainer)return this.createNewStretchablePanel(),this.invalidateLayout()},window.StretchableEditableWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return StretchableEditableWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),null!=(n=this.childrenNotHandlesNorCarets())&&n.length>0&&(e.addLine(),this.dragsDropsAndEditingEnabled?e.addMenuItem("disable editing",!0,this,"disableDragsDropsAndEditing","prevents dragging content in and out"):e.addMenuItem("enable editing",!0,this,"enableDragsDropsAndEditing","lets you drag content in and out")),e.removeConsecutiveLines()},window.StretchableEditableWdgt.instances=new Set,"function"==typeof window.StretchableEditableWdgt.initStaticConstsAfterClassDefinition&&window.StretchableEditableWdgt.initStaticConstsAfterClassDefinition(),window.StretchablePanelWdgt=function(){window.StretchablePanelWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StretchablePanelWdgt,"name",{value:"StretchablePanelWdgt"}),window.StretchablePanelWdgt.__super__=window.PanelWdgt.prototype,window.StretchablePanelWdgt=extend(window.StretchablePanelWdgt,window.PanelWdgt),window.StretchablePanelWdgt.prototype.childRemoved=function(t){var e;if(StretchablePanelWdgt.__super__.childRemoved.apply(this,arguments),null!=(null!=(e=this.parent)?e.setRatio:void 0)&&null!=this.parent.ratio&&0===this.childrenNotHandlesNorCarets().length)return this.parent.resetRatio()},window.StretchablePanelWdgt.prototype.childAdded=function(t){var e;if(StretchablePanelWdgt.__super__.childAdded.apply(this,arguments),null!=(null!=(e=this.parent)?e.setRatio:void 0)&&null==this.parent.ratio&&0!==this.childrenNotHandlesNorCarets().length)return this.parent.setRatio(this.width()/this.height())},window.StretchablePanelWdgt.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return StretchablePanelWdgt.__super__.rawSetExtent.apply(this,arguments),this.doLayout(this.bounds)},window.StretchablePanelWdgt.prototype.doLayout=function(t){var e,n,o,i;if(null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed())return this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted();for(trackChanges.push(!1),n=0,o=(e=this.childrenNotHandlesNorCarets()).length;n<o;n++)(i=e[n]).fullRawMoveInStretchablePanelToFractionalPosition(t),i.rawSetExtentToFractionalExtentInPaneUserHasSet(t);return this.rawSetBounds(t),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0},window.StretchablePanelWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return StretchablePanelWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),null!=(n=this.childrenNotHandlesNorCarets())&&n.length>0&&(e.addLine(),this.dragsDropsAndEditingEnabled?e.addMenuItem("disable editing",!0,this,"disableDragsDropsAndEditing","prevents dragging content in and out"):e.addMenuItem("enable editing",!0,this,"enableDragsDropsAndEditing","lets you drag content in and out")),e.removeConsecutiveLines()},window.StretchablePanelWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),null!=this.parent&&this.parent!==t&&this.parent instanceof StretchableWidgetContainerWdgt?this.parent.enableDragsDropsAndEditing(this):StretchablePanelWdgt.__super__.enableDragsDropsAndEditing.call(this,this)},window.StretchablePanelWdgt.prototype.disableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilClear&&e.makePencilClear(),null!=this.parent&&this.parent!==t&&this.parent instanceof StretchableWidgetContainerWdgt?this.parent.disableDragsDropsAndEditing(this):StretchablePanelWdgt.__super__.disableDragsDropsAndEditing.call(this,this)},window.StretchablePanelWdgt.instances=new Set,"function"==typeof window.StretchablePanelWdgt.initStaticConstsAfterClassDefinition&&window.StretchablePanelWdgt.initStaticConstsAfterClassDefinition(),window.StretchableWidgetContainerWdgt=function(t){StretchableWidgetContainerWdgt.__super__.constructor.call(this,new Point(300,300)),null==t&&(t=new StretchablePanelWdgt),this.add(t),this.contents=t,this.rawSetExtent(new Point(300,300)),this.contents.rawSetExtent(new Point(this.width(),this.height())),this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StretchableWidgetContainerWdgt,"name",{value:"StretchableWidgetContainerWdgt"}),window.StretchableWidgetContainerWdgt.__super__=window.Widget.prototype,window.StretchableWidgetContainerWdgt=extend(window.StretchableWidgetContainerWdgt,window.Widget),window.StretchableWidgetContainerWdgt.prototype.ratio=nil,window.StretchableWidgetContainerWdgt.prototype.contents=nil,window.StretchableWidgetContainerWdgt.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o){return null==this.contents||t instanceof ModifiedTextTriangleAnnotationWdgt||t instanceof HandleMorph?StretchableWidgetContainerWdgt.__super__.add.apply(this,arguments):(this.contents.add(t,e,n,o),"function"==typeof this.grandChildAdded?this.grandChildAdded():void 0)},window.StretchableWidgetContainerWdgt.prototype.setRatio=function(t){var e;return this.ratio=t,null!=(e=this.layoutSpecDetails)?e.canSetHeightFreely=!1:void 0},window.StretchableWidgetContainerWdgt.prototype.resetRatio=function(){var t;if(null!=this.ratio)return this.ratio=nil,null!=(t=this.layoutSpecDetails)&&(t.canSetHeightFreely=!0),this.invalidateLayout()},window.StretchableWidgetContainerWdgt.prototype.colloquialName=function(){return"stretchable panel"},window.StretchableWidgetContainerWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return StretchableWidgetContainerWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=null==this.ratio},window.StretchableWidgetContainerWdgt.prototype.widthWithoutSpacing=function(){var t,e,n,o;return t=this.height(),n=this.width(),null==this.ratio?n:(o=t*this.ratio,e=n/this.ratio,o<=n?o:e<=t?n:void 0)},window.StretchableWidgetContainerWdgt.prototype.rawResizeToWithoutSpacing=function(){if(null!=this.ratio)return this.rawSetExtent(new Point(this.widthWithoutSpacing(),Math.round(this.widthWithoutSpacing()/this.ratio))),this.invalidateLayout()},window.StretchableWidgetContainerWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){var e;return 0!==this.childrenNotHandlesNorCarets(this.contents).length?(null==this.ratio&&(this.ratio=this.width()/this.height(),null!=(e=this.layoutSpecDetails)&&(e.canSetHeightFreely=!1)),this.rawSetExtent(new Point(t,Math.round(t/this.ratio))),this.invalidateLayout()):(this.rawSetExtent(new Point(t,this.height())),this.invalidateLayout())},window.StretchableWidgetContainerWdgt.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return StretchableWidgetContainerWdgt.__super__.rawSetExtent.apply(this,arguments),this.doLayout(this.bounds)},window.StretchableWidgetContainerWdgt.prototype.doLayout=function(t){var e,n,o,i,r,s,a;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),e=this.height(),s=this.width(),null!=this.ratio?(a=e*this.ratio,n=s/this.ratio,r=this.topLeft(),a<=s?(r=r.add(new Point((s-a)/2,0)),i=new Point(a,e)):n<=e&&(r=r.add(new Point(0,(e-n)/2)),i=new Point(s,n)),o=new Rectangle(r).setBoundsWidthAndHeight(i),this.contents.doLayout(o.round())):this.contents.doLayout(this.bounds),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.StretchableWidgetContainerWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return StretchableWidgetContainerWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),null!=(n=this.childrenNotHandlesNorCarets())&&n.length>0&&(e.addLine(),this.dragsDropsAndEditingEnabled?e.addMenuItem("disable editing",!0,this,"disableDragsDropsAndEditing","prevents dragging content in and out"):e.addMenuItem("enable editing",!0,this,"enableDragsDropsAndEditing","lets you drag content in and out")),e.removeConsecutiveLines()},window.StretchableWidgetContainerWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),null!=this.parent&&this.parent!==t&&this.parent instanceof SimpleSlideWdgt?this.parent.enableDragsDropsAndEditing(this):StretchableWidgetContainerWdgt.__super__.enableDragsDropsAndEditing.call(this,this)},window.StretchableWidgetContainerWdgt.prototype.disableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilClear&&e.makePencilClear(),null!=this.parent&&this.parent!==t&&this.parent instanceof SimpleSlideWdgt?this.parent.disableDragsDropsAndEditing(this):StretchableWidgetContainerWdgt.__super__.disableDragsDropsAndEditing.call(this,this)},window.StretchableWidgetContainerWdgt.instances=new Set,"function"==typeof window.StretchableWidgetContainerWdgt.initStaticConstsAfterClassDefinition&&window.StretchableWidgetContainerWdgt.initStaticConstsAfterClassDefinition(),window.SwitchButtonMorph=function(t){var e,n,o,i;for(this.buttons=t,SwitchButtonMorph.__super__.constructor.call(this),n=0,o=(i=this.buttons).length;n<o;n++)e=i[n],this.add(e);this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SwitchButtonMorph,"name",{value:"SwitchButtonMorph"}),window.SwitchButtonMorph.__super__=window.Widget.prototype,window.SwitchButtonMorph=extend(window.SwitchButtonMorph,window.Widget),window.SwitchButtonMorph.prototype.buttons=nil,window.SwitchButtonMorph.prototype.highlightColor=new Color(192,192,192),window.SwitchButtonMorph.prototype.pressColor=new Color(128,128,128),window.SwitchButtonMorph.prototype.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=!0,window.SwitchButtonMorph.prototype.buttonShown=0,window.SwitchButtonMorph.prototype.color=Color.WHITE,window.SwitchButtonMorph.prototype.iHaveBeenAddedTo=function(t,e){return this.resetSwitchButton()},window.SwitchButtonMorph.prototype.doLayout=function(t){var e,n,o,i,r;for(null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.rawSetBounds(t),e=0,o=0,i=(r=this.buttons).length;o<i;o++)(n=r[o]).parent===this&&(n.doLayout(this.bounds),e%this.buttons.length===this.buttonShown?n.show():n.hide()),e++;return this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.SwitchButtonMorph.prototype.getTextDescription=function(){},window.SwitchButtonMorph.prototype.isSelected=function(){return 0!==this.buttonShown},window.SwitchButtonMorph.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){return this.buttonShown++,this.buttonShown=this.buttonShown%this.buttons.length,this.invalidateLayout(),this.escalateEvent("mouseClickLeft",this)},window.SwitchButtonMorph.prototype.resetSwitchButton=function(){return this.buttonShown=0,this.invalidateLayout()},window.SwitchButtonMorph.instances=new Set,"function"==typeof window.SwitchButtonMorph.initStaticConstsAfterClassDefinition&&window.SwitchButtonMorph.initStaticConstsAfterClassDefinition(),window.TextEditingState=function(t,e,n,o,i){this.selectionStart=t,this.selectionEnd=e,this.cursorPos=n,this.textContent=o,this.isJustFirstClickToPositionCursor=i,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextEditingState,"name",{value:"TextEditingState"}),window.TextEditingState.__super__=Object.prototype,window.TextEditingState.augmentWith(window.DeepCopierMixin,"TextEditingState"),window.TextEditingState.prototype.selectionStart=nil,window.TextEditingState.prototype.selectionEnd=nil,window.TextEditingState.prototype.cursorPos=nil,window.TextEditingState.prototype.textContent=nil,window.TextEditingState.prototype.isJustFirstClickToPositionCursor=nil,window.TextEditingState.instances=new Set,"function"==typeof window.TextEditingState.initStaticConstsAfterClassDefinition&&window.TextEditingState.initStaticConstsAfterClassDefinition(),window.ToggleButtonMorph=function(t,e,n=0){0===n?ToggleButtonMorph.__super__.constructor.call(this,[t,e]):ToggleButtonMorph.__super__.constructor.call(this,[e,t]),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToggleButtonMorph,"name",{value:"ToggleButtonMorph"}),window.ToggleButtonMorph.__super__=window.SwitchButtonMorph.prototype,window.ToggleButtonMorph=extend(window.ToggleButtonMorph,window.SwitchButtonMorph),window.ToggleButtonMorph.prototype.mouseClickLeft=function(){if(null==this.parent.wantsButtonsToBehaveLikeRadioButtons||!this.parent.wantsButtonsToBehaveLikeRadioButtons||null!=this.parent.allowsRadioButtonsToBeAllDisabled&&this.parent.allowsRadioButtonsToBeAllDisabled||1!==this.buttonShown)return ToggleButtonMorph.__super__.mouseClickLeft.apply(this,arguments)},window.ToggleButtonMorph.prototype.select=function(t){if(this.buttonShown!==t)return this.buttons[this.buttonShown].mouseClickLeft()},window.ToggleButtonMorph.prototype.toggle=function(){return this.buttons[this.buttonShown].mouseClickLeft()},window.ToggleButtonMorph.instances=new Set,"function"==typeof window.ToggleButtonMorph.initStaticConstsAfterClassDefinition&&window.ToggleButtonMorph.initStaticConstsAfterClassDefinition(),window.ToolPanelWdgt=function(){window.ToolPanelWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToolPanelWdgt,"name",{value:"ToolPanelWdgt"}),window.ToolPanelWdgt.__super__=window.PanelWdgt.prototype,window.ToolPanelWdgt=extend(window.ToolPanelWdgt,window.PanelWdgt),window.ToolPanelWdgt.prototype.numberOfIconsOnPanel=0,window.ToolPanelWdgt.prototype.internalPadding=5,window.ToolPanelWdgt.prototype.externalPadding=10,window.ToolPanelWdgt.prototype.thumbnailSize=30,window.ToolPanelWdgt.prototype.addMany=function(t){var e,n,o;for(n=0,o=t.length;n<o;n++)e=t[n],this.add(e,nil,nil,nil,nil,nil,!0);return this.reLayout()},window.ToolPanelWdgt.prototype.add=function(t,e=nil,n=LayoutSpec.ATTACHEDAS_FREEFLOATING,o,i,r,s){var a,l,d,h,p,c,w,u;if(t instanceof ModifiedTextTriangleAnnotationWdgt||t instanceof HandleMorph)return ToolPanelWdgt.__super__.add.apply(this,arguments);if(t.grabbedWidgetSwitcheroo===Widget.prototype.grabbedWidgetSwitcheroo&&(t.isTemplate=!0),null==t.extentToGetWhenDraggedFromGlassBox&&(t.extentToGetWhenDraggedFromGlassBox=t.extent()),t instanceof GlassBoxBottomWdgt||((d=new GlassBoxBottomWdgt).add(t),t.actionableAsThumbnail||((h=new GlassBoxTopWdgt).toolTipMessage=t.toolTipMessage,d.add(h)),d.fullRawMoveTo(this.topLeft().add(new Point(this.externalPadding,this.externalPadding))),d.rawSetExtent(new Point(this.thumbnailSize,this.thumbnailSize)),d.reLayout(),t=d),a=this.childrenNotHandlesNorCarets(),l=!1,null!=r&&a.length>0)for(w=0,p=0,c=a.length;p<c;p++){if((u=a[p]).bounds.growBy(this.internalPadding).containsPoint(r)){l=!0,u.bounds.growBy(this.internalPadding).rightHalf().containsPoint(r)&&w++;break}w++}return l?ToolPanelWdgt.__super__.add.call(this,t,w,n,o):ToolPanelWdgt.__super__.add.call(this,t,this.numberOfIconsOnPanel,n,o),this.numberOfIconsOnPanel++,s?void 0:this.reLayout()},window.ToolPanelWdgt.prototype.rawSetExtent=function(t){return ToolPanelWdgt.__super__.rawSetExtent.apply(this,arguments),this.reLayout()},window.ToolPanelWdgt.prototype.reLayout=function(){var t,e,n,o,i,r,s,a,l,d,h,p;for(trackChanges.push(!1),t=this.childrenNotHandlesNorCarets(),r=0,s=0,i=0,null!=this.parent&&(d=this.parent instanceof ScrollPanelWdgt?this.parent.width():this.width()),n=0,o=t.length;n<o;n++)l=t[n],h=r*(this.thumbnailSize+this.internalPadding),p=s*(this.thumbnailSize+this.internalPadding),this.externalPadding+h+this.thumbnailSize+this.externalPadding>d&&(0!==i&&s++,h=(r=0)*(this.thumbnailSize+this.internalPadding),p=s*(this.thumbnailSize+this.internalPadding)),e=(this.thumbnailSize-l.width())/2,a=(this.thumbnailSize-l.height())/2,l.fullRawMoveTo(this.position().add(new Point(this.externalPadding,this.externalPadding)).add(new Point(h,p)).add(new Point(e,a)).round()),r++,i++;return trackChanges.pop(),this.layoutIsValid=!0,this.fullChanged()},window.ToolPanelWdgt.instances=new Set,"function"==typeof window.ToolPanelWdgt.initStaticConstsAfterClassDefinition&&window.ToolPanelWdgt.initStaticConstsAfterClassDefinition(),window.ToolTipWdgt=function(t="text here",e,n=WorldMorph.preferencesAndSettings.menuBackgroundColor,o,i=0){this.contents=t,this.morphInvokingThis=e,this.color=n,this.padding=i,ToolTipWdgt.__super__.constructor.call(this),this.strokeColor=WorldMorph.preferencesAndSettings.menuStrokeColor,this.cornerRadius=o||6,this.appearance=new BubblyAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToolTipWdgt,"name",{value:"ToolTipWdgt"}),window.ToolTipWdgt.__super__=window.Widget.prototype,window.ToolTipWdgt=extend(window.ToolTipWdgt,window.Widget),window.ToolTipWdgt.prototype.contents=nil,window.ToolTipWdgt.prototype.padding=nil,window.ToolTipWdgt.prototype.morphInvokingThis=nil,window.ToolTipWdgt.prototype.openAt=function(t){return this.buildAndConnectChildren(),this.fullRawMoveTo(t.subtract(new Point(8,this.height()))),this.fullRawMoveWithin(world),world.add(this),this.addShadow(),this.fullChanged(),world.destroyToolTips(),world.toolTipsList.add(this)},window.ToolTipWdgt.prototype.buildAndConnectChildren=function(){return this.contentsMorph&&(this.contentsMorph=this.contentsMorph.destroy()),this.contents instanceof Widget?this.contentsMorph=this.contents:isString(this.contents)?this.contentsMorph=new TextMorph(this.contents,WorldMorph.preferencesAndSettings.bubbleHelpFontSize,nil,!1,!0,"center"):this.contents instanceof HTMLCanvasElement?(this.contentsMorph=new Widget,this.contentsMorph.silentRawSetWidth(this.contents.width),this.contentsMorph.silentRawSetHeight(this.contents.height),this.contentsMorph.backBuffer=this.contents,this.contentsMorph.backBufferContext=this.contentsMorph.backBuffer.getContext("2d")):this.contentsMorph=new TextMorph(this.contents.toString(),WorldMorph.preferencesAndSettings.bubbleHelpFontSize,nil,!1,!0,"center"),this.add(this.contentsMorph),this.silentRawSetWidth(this.contentsMorph.width()+(this.padding?2*this.padding:2*this.cornerRadius)),this.silentRawSetHeight(this.contentsMorph.height()+this.cornerRadius+2*this.padding+2),this.contentsMorph.fullRawMoveTo(this.position().add(new Point(this.padding||this.cornerRadius,this.padding+1)))};window.ToolTipWdgt.ongoingTimeouts=new Set,window.ToolTipWdgt.createBubbleHelpIfHandStillOnMorph=function(t,e){if(e.root()===world&&e.boundsContainPoint(world.hand.position()))return new this(t,e).openAt(e.topRight())},window.ToolTipWdgt.cancelAllScheduledToolTips=function(){return this.ongoingTimeouts.forEach(t=>clearTimeout(t)),this.ongoingTimeouts.clear()},window.ToolTipWdgt.createInAWhileIfHandStillContainedInMorph=function(t,e,n=500){return"undefined"!=typeof Automator&&null!==Automator&&Automator.animationsPacingControl&&Automator.state!==Automator.IDLE?this.createBubbleHelpIfHandStillOnMorph(e,t):this.ongoingTimeouts.add(setTimeout(()=>this.createBubbleHelpIfHandStillOnMorph(e,t),n))},window.ToolTipWdgt.instances=new Set,"function"==typeof window.ToolTipWdgt.initStaticConstsAfterClassDefinition&&window.ToolTipWdgt.initStaticConstsAfterClassDefinition(),window.UpperRightTriangleAppearance=function(t,e="topRight"){this.positionWithinParent=e,UpperRightTriangleAppearance.__super__.constructor.call(this,t),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UpperRightTriangleAppearance,"name",{value:"UpperRightTriangleAppearance"}),window.UpperRightTriangleAppearance.__super__=window.Appearance.prototype,window.UpperRightTriangleAppearance=extend(window.UpperRightTriangleAppearance,window.Appearance),window.UpperRightTriangleAppearance.prototype.positionWithinParent=nil,window.UpperRightTriangleAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;return this.morph.preliminaryCheckNothingToDraw(e,t)?nil:([i,l,d,o,r,h,s]=this.morph.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,t.useLogicalPixelsUntilRestore(),a=this.morph.position(),t.translate(a.x,a.y),this.renderingHelper(t,this.morph.color),t.restore(),this.paintHighlight(t,o,r,h,s)))},window.UpperRightTriangleAppearance.prototype.renderingHelper=function(t,e){return t.lineWidth=1,t.lineCap="round",t.save(),t.fillStyle=e.toString(),t.beginPath(),"topRight"===this.positionWithinParent?(t.moveTo(0,0),t.lineTo(this.morph.width(),this.morph.height()),t.lineTo(this.morph.width(),0)):"topLeft"===this.positionWithinParent&&(t.moveTo(0,0),t.lineTo(0,this.morph.height()),t.lineTo(this.morph.width(),0)),t.closePath(),t.fill(),t.restore()},window.UpperRightTriangleAppearance.prototype.isTransparentAt=function(t){var e,n;return!this.morph.boundsContainPoint(t)||(n=this.morph.position(),(e=new Point(t.x-n.x,t.y-n.y)).x/e.y<this.morph.width()/this.morph.height())},window.UpperRightTriangleAppearance.instances=new Set,"function"==typeof window.UpperRightTriangleAppearance.initStaticConstsAfterClassDefinition&&window.UpperRightTriangleAppearance.initStaticConstsAfterClassDefinition(),window.VerticalStackLayoutSpec=function(t){return this.elasticity=t,"function"==typeof this.registerThisInstance&&this.registerThisInstance(),nil},Object.defineProperty(window.VerticalStackLayoutSpec,"name",{value:"VerticalStackLayoutSpec"}),window.VerticalStackLayoutSpec.__super__=Object.prototype,window.VerticalStackLayoutSpec.augmentWith(window.DeepCopierMixin,"VerticalStackLayoutSpec"),window.VerticalStackLayoutSpec.prototype.stack=nil,window.VerticalStackLayoutSpec.prototype.element=nil,window.VerticalStackLayoutSpec.prototype.widthOfStackWhenAdded=nil,window.VerticalStackLayoutSpec.prototype.widthOfElementWhenAdded=nil,window.VerticalStackLayoutSpec.prototype.elasticity=1,window.VerticalStackLayoutSpec.prototype.alignment="left",window.VerticalStackLayoutSpec.prototype.rememberInitialDimensions=function(t,e){var n,o;return this.element=t,this.stack=e,n=this.stack.availableWidthForContents(),(o=this.element.widthWithoutSpacing())>n?(this.widthOfElementWhenAdded=n,this.elasticity=1):this.widthOfElementWhenAdded=o,this.widthOfStackWhenAdded=n},window.VerticalStackLayoutSpec.prototype.getWidthInStack=function(){var t,e,n;return e=(t=this.stack.availableWidthForContents())*this.widthOfElementWhenAdded/this.widthOfStackWhenAdded-this.widthOfElementWhenAdded,n=this.widthOfElementWhenAdded+this.elasticity*e,n=Math.round(n),Math.min(n,t)},window.VerticalStackLayoutSpec.prototype.addMorphSpecificMenuEntries=function(t,e){return e.addLine(),e.addMenuItem("layout in stack ➜",!1,this,"vertStackMenu","")},window.VerticalStackLayoutSpec.prototype.vertStackMenu=function(t,e,n,o,i){var r;return(r=new MenuMorph(t,!1,e,!0,!0,nil)).addMenuItem("base width...",!0,this,"baseWidthPopout",""),r.addMenuItem("elasticity...",!0,this,"elasticityPopout",""),"left"!==this.alignment&&r.addMenuItem("align left",!0,this,"setAlignmentToLeft"),"right"!==this.alignment&&r.addMenuItem("align right",!0,this,"setAlignmentToRight"),"center"!==this.alignment&&r.addMenuItem("align center",!0,this,"setAlignmentToCenter"),r.popUpAtHand()},window.VerticalStackLayoutSpec.prototype.setAlignmentToLeft=function(){if("left"!==this.alignment)return this.alignment="left",this.element.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.VerticalStackLayoutSpec.prototype.setAlignmentToRight=function(){if("right"!==this.alignment)return this.alignment="right",this.element.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.VerticalStackLayoutSpec.prototype.setAlignmentToCenter=function(){if("enter"!==this.alignment)return this.alignment="center",this.element.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.VerticalStackLayoutSpec.prototype.elasticityPopout=function(t,e,n,o,i,r,s){return this.element.prompt(t.parent.title+"\nelasticity:",this,"setElasticity",(100*this.elasticity).toString(),nil,0,100,!0)},window.VerticalStackLayoutSpec.prototype.setElasticity=function(t,e){var n;if(n=null!=(null!=e?e.getValue:void 0)?e.getValue():t,n=Number(n),n/=100,this.elasticity!==n)return this.elasticity=n,this.element.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.VerticalStackLayoutSpec.prototype.baseWidthPopout=function(t,e,n,o,i,r,s){return this.element.prompt(t.parent.title+"\nbase width:",this,"setWidthOfElementWhenAdded",this.widthOfElementWhenAdded.toString(),nil,10,1e3,!0)},window.VerticalStackLayoutSpec.prototype.setWidthOfElementWhenAdded=function(t,e){var n;if(n=null!=(null!=e?e.getValue:void 0)?e.getValue():t,(n=Math.round(n))&&this.widthOfElementWhenAdded!==n)return this.widthOfElementWhenAdded=n,this.element.refreshScrollPanelWdgtOrVerticalStackIfIamInIt()},window.VerticalStackLayoutSpec.instances=new Set,"function"==typeof window.VerticalStackLayoutSpec.initStaticConstsAfterClassDefinition&&window.VerticalStackLayoutSpec.initStaticConstsAfterClassDefinition(),window.WindowContentLayoutSpec=function(t,e,n){this.preferredStartingWidth=t,this.preferredStartingHeight=e,WindowContentLayoutSpec.__super__.constructor.call(this,n),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowContentLayoutSpec,"name",{value:"WindowContentLayoutSpec"}),window.WindowContentLayoutSpec.__super__=window.VerticalStackLayoutSpec.prototype,window.WindowContentLayoutSpec=extend(window.WindowContentLayoutSpec,window.VerticalStackLayoutSpec),window.WindowContentLayoutSpec.augmentWith(window.DeepCopierMixin,"WindowContentLayoutSpec"),window.WindowContentLayoutSpec.prototype.preferredStartingWidth=nil,window.WindowContentLayoutSpec.prototype.preferredStartingHeight=nil,window.WindowContentLayoutSpec.prototype.canSetHeightFreely=!0,window.WindowContentLayoutSpec.prototype.resizerCanOverlapContents=!0,window.WindowContentLayoutSpec.prototype.rememberInitialDimensions=function(t,e){var n;if(this.element=t,this.stack=e,WindowContentLayoutSpec.__super__.rememberInitialDimensions.apply(this,arguments),n=this.stack.availableWidthForContents(),this.preferredStartingWidth===PreferredSize.DONT_MIND)return this.widthOfElementWhenAdded=n,this.elasticity=1},window.WindowContentLayoutSpec.instances=new Set,"function"==typeof window.WindowContentLayoutSpec.initStaticConstsAfterClassDefinition&&window.WindowContentLayoutSpec.initStaticConstsAfterClassDefinition(),window.WindowContentsPlaceholderText=function(){WindowContentsPlaceholderText.__super__.constructor.call(this,"Drop a widget in here",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1),this.alignCenter(),this.alignMiddle(),this.fittingSpecWhenBoundsTooLarge=!1,this.changed(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowContentsPlaceholderText,"name",{value:"WindowContentsPlaceholderText"}),window.WindowContentsPlaceholderText.__super__=window.TextMorph2.prototype,window.WindowContentsPlaceholderText=extend(window.WindowContentsPlaceholderText,window.TextMorph2),window.WindowContentsPlaceholderText.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.DONT_MIND,PreferredSize.DONT_MIND,1)},window.WindowContentsPlaceholderText.instances=new Set,"function"==typeof window.WindowContentsPlaceholderText.initStaticConstsAfterClassDefinition&&window.WindowContentsPlaceholderText.initStaticConstsAfterClassDefinition(),window.WorldMorph=function(t,e=!0){this.worldCanvas=t,this.automaticallyAdjustToFillEntireBrowserAlsoOnResize=e,window.location.href.includes("worldWithSystemTestHarness")?this.isIndexPage=!1:this.isIndexPage=!0,WorldMorph.preferencesAndSettings=new PreferencesAndSettings,WorldMorph.__super__.constructor.call(this),this.patternName=this.pattern1,this.appearance=new DesktopAppearance(this),this.color=new Color(205,205,205),this.strokeColor=nil,this.alpha=1,this.stamp=Date.now(),this.isDevMode=!1,this.hand=new ActivePointerWdgt(this),this.keyboardEventsReceiver=nil,this.lastEditedText=nil,this.caret=nil,this.temporaryHandlesAndLayoutAdjusters=new Set,this.inputDOMElementForVirtualKeyboard=nil,this.automaticallyAdjustToFillEntireBrowserAlsoOnResize&&this.isIndexPage?this.stretchWorldToFillEntirePage():this.sizeCanvasToTestScreenResolution(),this.setBounds(new Rectangle(0,0,this.worldCanvas.width/ceilPixelRatio,this.worldCanvas.height/ceilPixelRatio)),this.initEventListeners(),"undefined"!=typeof Automator&&null!==Automator&&(this.automator=new Automator),this.worldCanvasContext=this.worldCanvas.getContext("2d"),this.canvasForTextMeasurements=newCanvas(),this.canvasContextForTextMeasurements=this.canvasForTextMeasurements.getContext("2d"),this.canvasContextForTextMeasurements.useLogicalPixelsUntilRestore(),this.canvasContextForTextMeasurements.textAlign="left",this.canvasContextForTextMeasurements.textBaseline="bottom",this.cacheForTextMeasurements=new LRUCache(1e3,864e5),this.cacheForTextParagraphSplits=new LRUCache(300,864e5),this.cacheForParagraphsWordsSplits=new LRUCache(300,864e5),this.cacheForParagraphsWrappingData=new LRUCache(300,864e5),this.cacheForTextWrappingData=new LRUCache(300,864e5),this.cacheForImmutableBackBuffers=new LRUCache(1e3,864e5),this.cacheForTextBreakingIntoLinesTopLevel=new LRUCache(10,864e5),this.changed(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WorldMorph,"name",{value:"WorldMorph"}),window.WorldMorph.__super__=window.PanelWdgt.prototype,window.WorldMorph=extend(window.WorldMorph,window.PanelWdgt),window.WorldMorph.augmentWith(window.GridPositioningOfAddedShortcutsMixin,"WorldMorph"),window.WorldMorph.augmentWith(window.KeepIconicDesktopSystemLinksBackMixin,"WorldMorph"),window.WorldMorph.prototype.mousedownBrowserEventListener=nil,window.WorldMorph.prototype.mouseupBrowserEventListener=nil,window.WorldMorph.prototype.mousemoveBrowserEventListener=nil,window.WorldMorph.prototype.contextmenuEventListener=nil,window.WorldMorph.prototype.touchstartBrowserEventListener=nil,window.WorldMorph.prototype.touchendBrowserEventListener=nil,window.WorldMorph.prototype.touchmoveBrowserEventListener=nil,window.WorldMorph.prototype.gesturestartBrowserEventListener=nil,window.WorldMorph.prototype.gesturechangeBrowserEventListener=nil,window.WorldMorph.prototype.keydownBrowserEventListener=nil,window.WorldMorph.prototype.keyupBrowserEventListener=nil,window.WorldMorph.prototype.keypressBrowserEventListener=nil,window.WorldMorph.prototype.wheelBrowserEventListener=nil,window.WorldMorph.prototype.copyBrowserEventListener=nil,window.WorldMorph.prototype.pasteBrowserEventListener=nil,window.WorldMorph.prototype.clipboardTextIfTestRunning=nil,window.WorldMorph.prototype.errorConsole=nil,window.WorldMorph.prototype.lastSerializationString="",window.WorldMorph.prototype.inputDOMElementForVirtualKeyboardKeydownBrowserEventListener=nil,window.WorldMorph.prototype.inputDOMElementForVirtualKeyboardKeyupBrowserEventListener=nil,window.WorldMorph.prototype.inputDOMElementForVirtualKeyboardKeypressBrowserEventListener=nil,window.WorldMorph.prototype.keyComboResetWorldEventListener=nil,window.WorldMorph.prototype.keyComboTurnOnAnimationsPacingControl=nil,window.WorldMorph.prototype.keyComboTurnOffAnimationsPacingControl=nil,window.WorldMorph.prototype.keyComboTakeScreenshotEventListener=nil,window.WorldMorph.prototype.keyComboStopTestRecordingEventListener=nil,window.WorldMorph.prototype.keyComboCheckStringsOfItemsInMenuOrderImportant=nil,window.WorldMorph.prototype.keyComboCheckStringsOfItemsInMenuOrderUnimportant=nil,window.WorldMorph.prototype.keyComboAddTestCommentEventListener=nil,window.WorldMorph.prototype.keyComboCheckNumberOfMenuItemsEventListener=nil,window.WorldMorph.prototype.dragoverEventListener=nil,window.WorldMorph.prototype.resizeBrowserEventListener=nil,window.WorldMorph.prototype.otherTasksToBeRunOnStep=[],window.WorldMorph.prototype.showRedraws=!1,window.WorldMorph.prototype.doubleCheckCachedMethodsResults=!1,window.WorldMorph.prototype.automator=nil,window.WorldMorph.prototype.worldCanvas=nil,window.WorldMorph.prototype.worldCanvasContext=nil,window.WorldMorph.prototype.canvasForTextMeasurements=nil,window.WorldMorph.prototype.canvasContextForTextMeasurements=nil,window.WorldMorph.prototype.cacheForTextMeasurements=nil,window.WorldMorph.prototype.cacheForTextParagraphSplits=nil,window.WorldMorph.prototype.cacheForParagraphsWordsSplits=nil,window.WorldMorph.prototype.cacheForParagraphsWrappingData=nil,window.WorldMorph.prototype.cacheForTextWrappingData=nil,window.WorldMorph.prototype.cacheForTextBreakingIntoLinesTopLevel=nil,window.WorldMorph.prototype.automaticallyAdjustToFillEntireBrowserAlsoOnResize=!0,window.WorldMorph.prototype.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren=new Set,window.WorldMorph.prototype.hierarchyOfClickedWdgts=new Set,window.WorldMorph.prototype.hierarchyOfClickedMenus=new Set,window.WorldMorph.prototype.popUpsMarkedForClosure=new Set,window.WorldMorph.prototype.freshlyCreatedPopUps=new Set,window.WorldMorph.prototype.openPopUps=new Set,window.WorldMorph.prototype.toolTipsList=new Set,window.WorldMorph.prototype.broken=nil,window.WorldMorph.prototype.duplicatedBrokenRectsTracker=nil,window.WorldMorph.prototype.numberOfDuplicatedBrokenRects=0,window.WorldMorph.prototype.numberOfMergedSourceAndDestination=0,window.WorldMorph.prototype.morphsToBeHighlighted=new Set,window.WorldMorph.prototype.currentHighlightingMorphs=new Set,window.WorldMorph.prototype.morphsBeingHighlighted=new Set,window.WorldMorph.prototype.morphsToBePinouted=new Set,window.WorldMorph.prototype.currentPinoutingMorphs=new Set,window.WorldMorph.prototype.morphsBeingPinouted=new Set,window.WorldMorph.prototype.steppingWdgts=new Set,window.WorldMorph.prototype.basementWdgt=nil,window.WorldMorph.prototype.maxShadowSize=6,window.WorldMorph.prototype.events=[],window.WorldMorph.prototype.outstandingTimerTriggeredOperationsCounter=[],window.WorldMorph.prototype.widgetsReferencingOtherWidgets=new Set,window.WorldMorph.prototype.incrementalGcSessionId=0,window.WorldMorph.prototype.desktopSidesPadding=10,window.WorldMorph.prototype.laysIconsHorizontallyInGrid=!1,window.WorldMorph.prototype.iconsLayingInGridWrapCount=5,window.WorldMorph.prototype.errorsWhileRepainting=[],window.WorldMorph.prototype.paintingWidget=nil,window.WorldMorph.prototype.widgetsGivingErrorWhileRepainting=[],window.WorldMorph.prototype.lastNonTextPropertyChangerButtonClickedOrDropped=nil,window.WorldMorph.prototype.patternName=nil,window.WorldMorph.prototype.pattern1="plain",window.WorldMorph.prototype.pattern2="circles",window.WorldMorph.prototype.pattern3="vert. stripes",window.WorldMorph.prototype.pattern4="oblique stripes",window.WorldMorph.prototype.pattern5="dots",window.WorldMorph.prototype.pattern6="zigzag",window.WorldMorph.prototype.pattern7="bricks",window.WorldMorph.prototype.howManyUntitledShortcuts=0,window.WorldMorph.prototype.howManyUntitledFoldersShortcuts=0,window.WorldMorph.prototype.lastUsedConnectionsCalculationToken=0,window.WorldMorph.prototype.isIndexPage=nil,window.WorldMorph.prototype.colloquialName=function(){return"Desktop"},window.WorldMorph.prototype.makePrettier=function(){return WorldMorph.preferencesAndSettings.menuFontSize=14,WorldMorph.preferencesAndSettings.menuHeaderFontSize=13,WorldMorph.preferencesAndSettings.menuHeaderColor=new Color(125,125,125),WorldMorph.preferencesAndSettings.menuHeaderBold=!1,WorldMorph.preferencesAndSettings.menuStrokeColor=new Color(186,186,186),WorldMorph.preferencesAndSettings.menuBackgroundColor=new Color(250,250,250),WorldMorph.preferencesAndSettings.menuButtonsLabelColor=new Color(50,50,50),WorldMorph.preferencesAndSettings.normalTextFontSize=13,WorldMorph.preferencesAndSettings.titleBarTextFontSize=13,WorldMorph.preferencesAndSettings.titleBarTextHeight=16,WorldMorph.preferencesAndSettings.titleBarBoldText=!1,WorldMorph.preferencesAndSettings.bubbleHelpFontSize=12,WorldMorph.preferencesAndSettings.iconDarkLineColor=new Color(37,37,37),WorldMorph.preferencesAndSettings.defaultPanelsBackgroundColor=new Color(249,249,249),WorldMorph.preferencesAndSettings.defaultPanelsStrokeColor=new Color(198,198,198),this.setPattern(nil,nil,"dots"),this.changed()},window.WorldMorph.prototype.getNextUntitledShortcutName=function(){var t;return t="Untitled",this.howManyUntitledShortcuts>0&&(t+=" "+(this.howManyUntitledShortcuts+1)),this.howManyUntitledShortcuts++,t},window.WorldMorph.prototype.getNextUntitledFolderShortcutName=function(){var t;return t="new folder",this.howManyUntitledFoldersShortcuts>0&&(t+=" "+(this.howManyUntitledFoldersShortcuts+1)),this.howManyUntitledFoldersShortcuts++,t},window.WorldMorph.prototype.wantsDropOf=function(t){return this._acceptsDrops},window.WorldMorph.prototype.makeNewConnectionsCalculationToken=function(){return++this.lastUsedConnectionsCalculationToken},window.WorldMorph.prototype.createErrorConsole=function(){var t,e;return t=new ErrorsLogViewerMorph("Errors",this,"modifyCodeToBeInjected",""),(e=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),world.add(e),e.changed(),this.errorConsole=e,this.errorConsole.fullMoveTo(new Point(190,10)),this.errorConsole.setExtent(new Point(550,415)),this.errorConsole.hide()},window.WorldMorph.prototype.removeSpinnerAndFakeDesktop=function(){var t,e;return(t=document.getElementById("spinner")).parentNode.removeChild(t),(e=document.getElementById("splashScreenFakeDesktop")).parentNode.removeChild(e)},window.WorldMorph.prototype.createDesktop=function(){var t,e;if(this.isIndexPage&&(this.setColor(new Color(244,243,244)),this.makePrettier()),this.isIndexPage||console.log("booting"),this.basementWdgt=new BasementWdgt,this.isIndexPage)return(t=new AnalogClockWdgt).rawSetExtent(new Point(80,80)),t.fullRawMoveTo(new Point(this.right()-80-this.desktopSidesPadding,this.top()+this.desktopSidesPadding)),this.add(t),menusHelper.createWelcomeMessageWindowAndShortcut(),menusHelper.createHowToSaveMessageOpener(),menusHelper.basementIconAndText(),menusHelper.createSimpleDocumentLauncher(),menusHelper.createFizzyPaintLauncher(),menusHelper.createSimpleSlideLauncher(),menusHelper.createDashboardsLauncher(),menusHelper.createPatchProgrammingLauncher(),menusHelper.createGenericPanelLauncher(),menusHelper.createToolbarsOpener(),e=this.makeFolder(nil,nil,"examples"),menusHelper.createDegreesConverterOpener(e),menusHelper.createSampleSlideOpener(e),menusHelper.createSampleDashboardOpener(e),menusHelper.createSampleDocOpener(e)},window.WorldMorph.prototype.mostRecentlyCreatedPopUp=function(){var t;return t=nil,-1,this.openPopUps.forEach(e=>e.isOrphan()?this.openPopUps.delete(e):e.instanceNumericID>=-1?t=e:void 0),t},window.WorldMorph.prototype.closePopUpsMarkedForClosure=function(){return this.popUpsMarkedForClosure.forEach(t=>t.close()),this.popUpsMarkedForClosure.clear()},window.WorldMorph.prototype.fullPaintIntoAreaOrBlitFromBackBuffer=function(t,e){return WorldMorph.__super__.fullPaintIntoAreaOrBlitFromBackBuffer.call(this,t,e),this.hand.fullPaintIntoAreaOrBlitFromBackBuffer(t,e)},window.WorldMorph.prototype.clippedThroughBounds=function(){return this.checkClippedThroughBoundsCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clippedThroughBoundsCache=this.boundingBox(),this.clippedThroughBoundsCache},window.WorldMorph.prototype.clipThrough=function(){return this.checkClipThroughCache=WorldMorph.numberOfAddsAndRemoves+"-"+WorldMorph.numberOfVisibilityFlagsChanges+"-"+WorldMorph.numberOfCollapseFlagsChanges+"-"+WorldMorph.numberOfRawMovesAndResizes,this.clipThroughCache=this.boundingBox(),this.clipThroughCache},window.WorldMorph.prototype.pushBrokenRect=function(t,e,n){return null!=this.duplicatedBrokenRectsTracker[e.toString()]?this.numberOfDuplicatedBrokenRects++:(n?t.srcBrokenRect=this.broken.length:t.dstBrokenRect=this.broken.length,this.broken.push(e)),this.duplicatedBrokenRectsTracker[e.toString()]=!0},window.WorldMorph.prototype.mergeBrokenRectsIfCloseOrPushBoth=function(t,e,n){var o,i;return(o=e.merge(n)).area()<(i=e.area()+n.area())+i/10?(this.pushBrokenRect(t,o,!0),this.numberOfMergedSourceAndDestination++):(this.pushBrokenRect(t,e,!0),this.pushBrokenRect(t,n,!1))},window.WorldMorph.prototype.checkARectWithHierarchy=function(t,e,n){var o,i;for(o=e,i=[];null!=o.parent;)null!=(o=o.parent).srcBrokenRect&&(this.broken[o.srcBrokenRect],this.broken[o.srcBrokenRect].containsRectangle(t)?n?(this.broken[e.srcBrokenRect]=nil,e.srcBrokenRect=nil):(this.broken[e.dstBrokenRect]=nil,e.dstBrokenRect=nil):t.containsRectangle(this.broken[o.srcBrokenRect])&&(this.broken[o.srcBrokenRect]=nil,o.srcBrokenRect=nil)),null!=o.dstBrokenRect?(this.broken[o.dstBrokenRect],this.broken[o.dstBrokenRect].containsRectangle(t)?n?(this.broken[e.srcBrokenRect]=nil,i.push(e.srcBrokenRect=nil)):(this.broken[e.dstBrokenRect]=nil,i.push(e.dstBrokenRect=nil)):t.containsRectangle(this.broken[o.dstBrokenRect])?(this.broken[o.dstBrokenRect]=nil,i.push(o.dstBrokenRect=nil)):i.push(void 0)):i.push(void 0);return i},window.WorldMorph.prototype.rectAlreadyIncludedInParentBrokenMorph=function(){var t,e,n,o,i,r,s,a,l;for(n=0,i=(s=window.morphsThatMaybeChangedGeometryOrPosition).length;n<i;n++)null!=(e=s[n]).srcBrokenRect&&(t=this.broken[e.srcBrokenRect],this.checkARectWithHierarchy(t,e,!0)),null!=e.dstBrokenRect&&(t=this.broken[e.dstBrokenRect],this.checkARectWithHierarchy(t,e,!1));for(l=[],o=0,r=(a=window.morphsThatMaybeChangedFullGeometryOrPosition).length;o<r;o++)null!=(e=a[o]).srcBrokenRect&&(t=this.broken[e.srcBrokenRect],this.checkARectWithHierarchy(t,e)),null!=e.dstBrokenRect?(t=this.broken[e.dstBrokenRect],l.push(this.checkARectWithHierarchy(t,e))):l.push(void 0);return l},window.WorldMorph.prototype.cleanupSrcAndDestRectsOfMorphs=function(){var t,e,n,o,i,r,s,a;for(e=0,o=(r=window.morphsThatMaybeChangedGeometryOrPosition).length;e<o;e++)(t=r[e]).srcBrokenRect=nil,t.dstBrokenRect=nil;for(a=[],n=0,i=(s=window.morphsThatMaybeChangedFullGeometryOrPosition).length;n<i;n++)(t=s[n]).srcBrokenRect=nil,a.push(t.dstBrokenRect=nil);return a},window.WorldMorph.prototype.fleshOutBroken=function(){var t,e,n,o,i,r,s,a;for(a=nil,n=nil,s=[],o=0,i=(r=window.morphsThatMaybeChangedGeometryOrPosition).length;o<i;o++)null!=(e=r[o]).clippedBoundsWhenLastPainted&&e.clippedBoundsWhenLastPainted.isNotEmpty()&&(a=e.clippedBoundsWhenLastPainted.expandBy(1).growBy(this.maxShadowSize)),e.surelyNotShowingUpOnScreenBasedOnVisibilityCollapseAndOrphanage()||(t=e.clippedThroughBounds()).isNotEmpty()&&(n=t.spread().expandBy(1).growBy(this.maxShadowSize)),null!=a&&null!=n?this.mergeBrokenRectsIfCloseOrPushBoth(e,a,n):null==a&&null==n||(null!=a?this.pushBrokenRect(e,a,!0):this.pushBrokenRect(e,n,!0)),e.geometryOrPositionPossiblyChanged=!1,s.push(e.clippedBoundsWhenLastPainted=nil);return s},window.WorldMorph.prototype.fleshOutFullBroken=function(){var t,e,n,o,i,r,s,a;for(a=nil,n=nil,s=[],o=0,i=(r=window.morphsThatMaybeChangedFullGeometryOrPosition).length;o<i;o++)null!=(e=r[o]).fullClippedBoundsWhenLastPainted&&e.fullClippedBoundsWhenLastPainted.isNotEmpty()&&(a=e.fullClippedBoundsWhenLastPainted.expandBy(1).growBy(this.maxShadowSize)),e.surelyNotShowingUpOnScreenBasedOnVisibilityCollapseAndOrphanage()||(t=e.fullClippedBounds()).isNotEmpty()&&(n=t.spread().expandBy(1).growBy(this.maxShadowSize)),null!=a&&null!=n?this.mergeBrokenRectsIfCloseOrPushBoth(e,a,n):null==a&&null==n||(null!=a?this.pushBrokenRect(e,a,!0):this.pushBrokenRect(e,n,!0)),e.fullGeometryOrPositionPossiblyChanged=!1,s.push(e.fullClippedBoundsWhenLastPainted=nil);return s},window.WorldMorph.prototype.recalculateLayouts=function(){for(var t,e;0!==morphsThatMaybeChangedLayout.length;){for(;(e=morphsThatMaybeChangedLayout[morphsThatMaybeChangedLayout.length-1]).layoutIsValid;)if(morphsThatMaybeChangedLayout.pop(),0===morphsThatMaybeChangedLayout.length)return;for(;null!=e.parent&&e.layoutSpec!==LayoutSpec.ATTACHEDAS_FREEFLOATING&&!e.parent.layoutIsValid;)e=e.parent;try{e.doLayout()}catch(e){t=e,this.softResetWorld(),null==world.errorConsole&&world.createErrorConsole(),this.errorConsole.contents.showUpWithError(t)}}},window.WorldMorph.prototype.clearGeometryOrPositionPossiblyChangedFlags=function(){var t,e,n,o,i;for(i=[],t=0,e=(o=window.morphsThatMaybeChangedGeometryOrPosition).length;t<e;t++)n=o[t],i.push(n.geometryOrPositionPossiblyChanged=!1);return i},window.WorldMorph.prototype.clearFullGeometryOrPositionPossiblyChangedFlags=function(){var t,e,n,o,i;for(i=[],t=0,e=(o=window.morphsThatMaybeChangedFullGeometryOrPosition).length;t<e;t++)n=o[t],i.push(n.fullGeometryOrPositionPossiblyChanged=!1);return i},window.WorldMorph.prototype.updateBroken=function(){if(this.broken=[],this.duplicatedBrokenRectsTracker={},this.numberOfDuplicatedBrokenRects=0,this.numberOfMergedSourceAndDestination=0,this.fleshOutFullBroken(),this.fleshOutBroken(),this.rectAlreadyIncludedInParentBrokenMorph(),this.cleanupSrcAndDestRectsOfMorphs(),this.clearGeometryOrPositionPossiblyChangedFlags(),this.clearFullGeometryOrPositionPossiblyChangedFlags(),window.morphsThatMaybeChangedGeometryOrPosition=[],window.morphsThatMaybeChangedFullGeometryOrPosition=[],window.healingRectanglesPhase=!0,this.errorsWhileRepainting=[],this.broken.forEach(t=>{var e;if(null!=t&&t.isNotEmpty())try{return this.fullPaintIntoAreaOrBlitFromBackBuffer(this.worldCanvasContext,t)}catch(t){return e=t,this.resetWorldCanvasContext(),this.queueErrorForLaterReporting(e),this.hideOffendingWidget(),this.softResetWorld()}}),0!==this.errorsWhileRepainting.length&&this.findOutAllOtherOffendingWidgetsAndPaintWholeScreen(),world.showRedraws&&this.showBrokenRects(this.worldCanvasContext),this.resetDataStructuresForBrokenRects(),window.healingRectanglesPhase=!1,1!==trackChanges.length&&!0!==trackChanges[0])return alert("trackChanges array should have only one element (true)")},window.WorldMorph.prototype.findOutAllOtherOffendingWidgetsAndPaintWholeScreen=function(){var t,e,n,o;for(t=this.errorsWhileRepainting.length,n=nil,0,o=[];n!==t;){0;try{this.fullPaintIntoAreaOrBlitFromBackBuffer(this.worldCanvasContext,this.bounds)}catch(t){e=t,this.resetWorldCanvasContext(),this.queueErrorForLaterReporting(e),this.hideOffendingWidget(),this.softResetWorld()}n=t,o.push(t=this.errorsWhileRepainting.length)}return o},window.WorldMorph.prototype.resetWorldCanvasContext=function(){var t,e,n;for(this.worldCanvasContext.closePath(),"function"==typeof(t=this.worldCanvasContext).resetTransform&&t.resetTransform(),n=[],e=1;e<2e3;++e)n.push(this.worldCanvasContext.restore());return n},window.WorldMorph.prototype.queueErrorForLaterReporting=function(t){if(this.errorsWhileRepainting.push(t),!this.widgetsGivingErrorWhileRepainting.includes(this.paintingWidget))return this.widgetsGivingErrorWhileRepainting.push(this.paintingWidget),this.paintingWidget.silentHide()},window.WorldMorph.prototype.hideOffendingWidget=function(){if(!this.widgetsGivingErrorWhileRepainting.includes(this.paintingWidget))return this.widgetsGivingErrorWhileRepainting.push(this.paintingWidget),this.paintingWidget.silentHide()},window.WorldMorph.prototype.resetDataStructuresForBrokenRects=function(){return this.broken=[],this.duplicatedBrokenRectsTracker={},this.numberOfDuplicatedBrokenRects=0,this.numberOfMergedSourceAndDestination=0},window.WorldMorph.prototype.addHighlightingMorphs=function(){return this.currentHighlightingMorphs.forEach(t=>this.morphsToBeHighlighted.has(t.wdgtThisWdgtIsHighlighting)?t.wdgtThisWdgtIsHighlighting.hasMaybeChangedGeometryOrPosition()?t.rawSetBounds(t.wdgtThisWdgtIsHighlighting.clippedThroughBounds()):void 0:(this.currentHighlightingMorphs.delete(t),this.morphsBeingHighlighted.delete(t.wdgtThisWdgtIsHighlighting),t.wdgtThisWdgtIsHighlighting=nil,t.fullDestroy())),this.morphsToBeHighlighted.forEach(t=>{var e;if(!this.morphsBeingHighlighted.has(t))return e=new HighlighterMorph,world.add(e),e.wdgtThisWdgtIsHighlighting=t,e.rawSetBounds(t.clippedThroughBounds()),e.setColor(new Color(0,0,255)),e.setAlphaScaled(50),this.currentHighlightingMorphs.add(e),this.morphsBeingHighlighted.add(t)})},window.WorldMorph.prototype.playQueuedEvents=function(){var t,e,n,o,i,r,s,a,l,d;try{for(o=i=0,r=this.events.length;i<r;o=i+=2)switch(n=this.events[o],e=this.events[o+1],n){case"inputDOMElementForVirtualKeyboardKeydownBrowserEvent":null!=(s=this.keyboardEventsReceiver)&&s.processKeyDown(e),"U+0009"!==e.keyIdentifier&&"Tab"!==e.keyIdentifier||null!=(a=this.keyboardEventsReceiver)&&a.processKeyPress(e);break;case"inputDOMElementForVirtualKeyboardKeyupBrowserEvent":null!=(l=this.keyboardEventsReceiver)&&"function"==typeof l.processKeyUp&&l.processKeyUp(e);break;case"inputDOMElementForVirtualKeyboardKeypressBrowserEvent":null!=(d=this.keyboardEventsReceiver)&&d.processKeyPress(e);break;case"mousedownBrowserEvent":this.mousedownBrowserEventHandler(e.button,e.buttons,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey);break;case"mouseupBrowserEvent":this.mouseupBrowserEventHandler(e.button,e.ctrlKey,e.buttons,e.shiftKey,e.altKey,e.metaKey);break;case"mousemoveBrowserEvent":this.mousemoveBrowserEventHandler(e.pageX,e.pageY,e.button,e.buttons,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey);break;case"wheelBrowserEvent":this.wheelBrowserEventHandler(e.deltaX,e.deltaY,e.deltaZ,e.altKey,e.button,e.buttons);break;case"touchstartBrowserEvent":this.mousemoveBrowserEventHandler(Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY),0,0,!1,!1,!1,!1),this.mousedownBrowserEventHandler(0,1,!1,!1,!1,!1);break;case"touchendBrowserEvent":this.mouseupBrowserEventHandler(0,!1,0,!1,!1,!1);break;case"touchmoveBrowserEvent":this.mousemoveBrowserEventHandler(Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY),0,1,!1,!1,!1,!1);break;case"gesturestartBrowserEvent":case"gesturechangeBrowserEvent":break;case"keydownBrowserEvent":this.keydownBrowserEventHandler(e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey);break;case"keyupBrowserEvent":this.keyupBrowserEventHandler(e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey);break;case"keypressBrowserEvent":this.keypressBrowserEventHandler(e.keyCode,this.getChar(e),e.shiftKey,e.ctrlKey,e.altKey,e.metaKey);break;case"cutBrowserEvent":this.cutBrowserEventHandler(e);break;case"copyBrowserEvent":this.copyBrowserEventHandler(e);break;case"pasteBrowserEvent":this.pasteBrowserEventHandler(e);break;case"resizeBrowserEvent":this.resizeBrowserEventHandler()}}catch(e){t=e,this.softResetWorld(),null==world.errorConsole&&world.createErrorConsole(),this.errorConsole.contents.showUpWithError(t)}return this.events=[]},window.WorldMorph.prototype.loadAPartOfFizzyGumSourceIfNeeded=function(){if(window.srcLoadsSteps.length>0)return window.srcLoadsSteps.shift().call()},window.WorldMorph.prototype.showErrorsHappenedInRepaintingStepInPreviousCycle=function(){var t,e,n,o,i;for(i=[],e=0,n=(o=this.errorsWhileRepainting).length;e<n;e++)t=o[e],null==world.errorConsole&&world.createErrorConsole(),i.push(this.errorConsole.contents.showUpWithError(t));return i},window.WorldMorph.prototype.doOneCycle=function(){return WorldMorph.currentTime=Date.now(),WorldMorph.currentDate=new Date,this.showErrorsHappenedInRepaintingStepInPreviousCycle(),this.playQueuedEvents(),"undefined"!=typeof AutomatorPlayer&&null!==AutomatorPlayer&&Automator.state===Automator.PLAYING&&this.automator.player.replayTestCommands(),this.runOtherTasksStepFunction(),this.loadAPartOfFizzyGumSourceIfNeeded(),this.runChildrensStepFunction(),this.hand.reCheckMouseEntersAndMouseLeavesAfterPotentialGeometryChanges(),window.recalculatingLayouts=!0,this.recalculateLayouts(),window.recalculatingLayouts=!1,this.addHighlightingMorphs(),this.updateBroken(),WorldMorph.frameCount++},window.WorldMorph.prototype.runChildrensStepFunction=function(){return this.steppingWdgts.forEach(t=>{var e,n;if(e=Math.round(1e3/t.fps),t.fps<=0?n=0:t.synchronisedStepping?(n=e-WorldMorph.currentTime%e,0!==t.previousMillisecondsRemainingToWaitedFrame&&n>t.previousMillisecondsRemainingToWaitedFrame&&(n=0),t.previousMillisecondsRemainingToWaitedFrame=n):n=e-(WorldMorph.currentTime-t.lastTime),n<=0)return this.stepWidget(t),t.lastTime=WorldMorph.currentTime-(WorldMorph.currentTime-t.lastTime)%e})},window.WorldMorph.prototype.stepWidget=function(t){var e,n;t.onNextStep&&(n=t.onNextStep,t.onNextStep=nil,n.call(t)),t.step;try{return t.step()}catch(t){return e=t,this.softResetWorld(),null==world.errorConsole&&world.createErrorConsole(),this.errorConsole.contents.showUpWithError(e)}},window.WorldMorph.prototype.runOtherTasksStepFunction=function(){var t,e,n,o,i;for(o=[],t=0,e=(n=this.otherTasksToBeRunOnStep).length;t<e;t++)i=n[t],o.push(i());return o},window.WorldMorph.prototype.stretchWorldToFillEntirePage=function(){var t,e,n;if(this.automaticallyAdjustToFillEntireBrowserAlsoOnResize=!0,n=getDocumentPositionOf(this.worldCanvas),t=window.innerHeight,e=window.innerWidth,n.x>0&&(this.worldCanvas.style.position="absolute",this.worldCanvas.style.left="0px",n.x=0),n.y>0&&(this.worldCanvas.style.position="absolute",this.worldCanvas.style.top="0px",n.y=0),document.body.scrollTop&&(t=document.documentElement.clientHeight),document.body.scrollLeft&&(e=document.documentElement.clientWidth),this.worldCanvas.width!==e||this.worldCanvas.height!==t)return this.fullChanged(),this.worldCanvas.width=e*ceilPixelRatio,this.worldCanvas.style.width=e+"px",this.worldCanvas.height=t*ceilPixelRatio,this.worldCanvas.style.height=t+"px",this.rawSetExtent(new Point(e,t)),this.desktopReLayout()},window.WorldMorph.prototype.desktopReLayout=function(){var t,e;return null!=(e=this.firstChildSuchThat((function(t){return t instanceof BasementOpenerWdgt})))&&(e.userMovedThisFromComputedPosition?(e.fullRawMoveInDesktopToFractionalPosition(),e.wasPositionedSlightlyOutsidePanel||e.fullRawMoveWithin(this)):e.fullMoveTo(this.bottomRight().subtract(new Point(75,75).add(this.desktopSidesPadding)))),null!=(t=this.firstChildSuchThat((function(t){return t instanceof AnalogClockWdgt})))&&(t.userMovedThisFromComputedPosition?(t.fullRawMoveInDesktopToFractionalPosition(),t.wasPositionedSlightlyOutsidePanel||t.fullRawMoveWithin(this)):t.fullMoveTo(new Point(this.right()-80-this.desktopSidesPadding,this.top()+this.desktopSidesPadding))),this.children.forEach(n=>{if(!(n===e||n===t||n instanceof WidgetHolderWithCaptionWdgt||(null!=n.positionFractionalInHoldingPanel&&n.fullRawMoveInDesktopToFractionalPosition(),n.wasPositionedSlightlyOutsidePanel)))return n.fullRawMoveWithin(this)})},window.WorldMorph.prototype.getPointerAndWdgtInfo=function(t=this.hand.topWdgtUnderPointer()){var e,n,o,i,r,s,a;return e=t.boundingBox().asArray_xywh(),o=t.identifyViaTextLabel(),i=t.pathOfChildrenPositionsRelativeToWorld(),r=this.hand.positionFractionalInMorph(t),s=this.hand.positionPixelsInMorph(t),a=this.hand.position(),n=null!=t.parentThatIsA(ListMorph),[t.uniqueIDString(),i,o,e,r,s,a,n]},window.WorldMorph.prototype.addMouseChangeCommand=function(t,e,n,o,i,r,s){var a;if("undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING)return a=this.getPointerAndWdgtInfo(),this.automator.recorder.addMouseChangeCommand(t,e,n,o,i,r,s,...a)},window.WorldMorph.prototype.mousedownBrowserEventHandler=function(t,e,n,o,i,r){return this.addMouseChangeCommand("down",t,e,n,o,i,r),this.hand.processMouseDown(t,e,n,o,i,r)},window.WorldMorph.prototype.mouseupBrowserEventHandler=function(t,e,n,o,i,r){return this.addMouseChangeCommand("up",t,e,n,o,i,r),this.hand.processMouseUp(t,e,n,o,i,r)},window.WorldMorph.prototype.mousemoveBrowserEventHandler=function(t,e,n,o,i,r,s,a){var l,d,h,p;if(h=t-(d=getDocumentPositionOf(this.worldCanvas)).x,p=e-d.y,this.hand.processMouseMove(h,p,n,o,i,r,s,a),this.hand.isThisPointerFloatDraggingSomething()&&"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&("floatDrag",l=world.automator.tagsCollectedWhileRecordingTest,indexOf.call(l,"floatDrag")<0&&l.push("floatDrag")),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING)return this.automator.recorder.addMouseMoveCommand(h,p,this.hand.isThisPointerFloatDraggingSomething(),n,o,i,r,s,a)},window.WorldMorph.prototype.wheelBrowserEventHandler=function(t,e,n,o,i,r){var s;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&(s=this.getPointerAndWdgtInfo(),this.automator.recorder.addWheelCommand(t,e,n,o,i,r,...s)),this.hand.processWheel(t,e,n,o,i,r)},window.WorldMorph.prototype.getChar=function(t){return null==t.which?String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode?String.fromCharCode(t.which):nil},window.WorldMorph.prototype.keydownBrowserEventHandler=function(t,e,n,o,i){var r;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&this.automator.recorder.addKeyDownCommand(t,e,n,o,i),null!=(r=this.keyboardEventsReceiver)?r.processKeyDown(t,e,n,o,i):void 0},window.WorldMorph.prototype.keyupBrowserEventHandler=function(t,e,n,o,i){var r;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&this.automator.recorder.addKeyUpCommand(t,e,n,o,i),null!=(r=this.keyboardEventsReceiver)&&"function"==typeof r.processKeyUp?r.processKeyUp(t,e,n,o,i):void 0},window.WorldMorph.prototype.keypressBrowserEventHandler=function(t,e,n,o,i,r){var s;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING&&this.automator.recorder.addKeyPressCommand(t,e,n,o,i,r),null!=(s=this.keyboardEventsReceiver)?s.processKeyPress(t,e,n,o,i,r):void 0},window.WorldMorph.prototype.cutBrowserEventHandler=function(t){var e;if(null!=(e=this.caret)&&e.processCut(t),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING)return this.automator.recorder.addCutCommand(t)},window.WorldMorph.prototype.copyBrowserEventHandler=function(t){if("undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING)return this.automator.recorder.addCopyCommand(t)},window.WorldMorph.prototype.pasteBrowserEventHandler=function(t){if(this.caret&&(this.caret.processPaste(t),"undefined"!=typeof Automator&&null!==Automator&&Automator.state===Automator.RECORDING))return this.automator.recorder.addPasteCommand(selectedText)},window.WorldMorph.prototype.resizeBrowserEventHandler=function(){if(this.automaticallyAdjustToFillEntireBrowserAlsoOnResize)return this.stretchWorldToFillEntirePage()},window.WorldMorph.prototype.initMouseEventListeners=function(){var t;return t=this.worldCanvas,this.mousedownBrowserEventListener=t=>(this.events.push("mousedownBrowserEvent"),this.events.push(t)),t.addEventListener("mousedown",this.mousedownBrowserEventListener,!1),this.mouseupBrowserEventListener=t=>(this.events.push("mouseupBrowserEvent"),this.events.push(t)),t.addEventListener("mouseup",this.mouseupBrowserEventListener,!1),this.mousemoveBrowserEventListener=t=>(this.events.push("mousemoveBrowserEvent"),this.events.push(t)),t.addEventListener("mousemove",this.mousemoveBrowserEventListener,!1)},window.WorldMorph.prototype.initTouchEventListeners=function(){var t;return t=this.worldCanvas,this.touchstartBrowserEventListener=t=>(this.events.push("touchstartBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("touchstart",this.touchstartBrowserEventListener,!1),this.touchendBrowserEventListener=t=>(this.events.push("touchendBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("touchend",this.touchendBrowserEventListener,!1),this.touchmoveBrowserEventListener=t=>(this.events.push("touchmoveBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("touchmove",this.touchmoveBrowserEventListener,!1),this.gesturestartBrowserEventListener=t=>(this.events.push("gesturestartBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("gesturestart",this.gesturestartBrowserEventListener,!1),this.gesturechangeBrowserEventListener=t=>(this.events.push("gesturechangeBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("gesturechange",this.gesturechangeBrowserEventListener,!1)},window.WorldMorph.prototype.initKeyboardEventListeners=function(){var t;return t=this.worldCanvas,this.keydownBrowserEventListener=t=>{var e,n;if(this.events.push("keydownBrowserEvent"),this.events.push(t),n=!1,8===t.keyCode&&(n=("INPUT"!==(e=t.srcElement||t.target).tagName.toUpperCase()||"TEXT"!==e.type.toUpperCase()&&"PASSWORD"!==e.type.toUpperCase()&&"FILE"!==e.type.toUpperCase()&&"SEARCH"!==e.type.toUpperCase()&&"EMAIL"!==e.type.toUpperCase()&&"NUMBER"!==e.type.toUpperCase()&&"DATE"!==e.type.toUpperCase())&&"TEXTAREA"!==e.tagName.toUpperCase()||(e.readOnly||e.disabled)),32===t.keyCode&&t.target===this.worldCanvas&&(n=!0),9===t.keyCode&&t.target===this.worldCanvas&&(n=!0),n)return t.preventDefault()},t.addEventListener("keydown",this.keydownBrowserEventListener,!1),this.keyupBrowserEventListener=t=>(this.events.push("keyupBrowserEvent"),this.events.push(t)),t.addEventListener("keyup",this.keyupBrowserEventListener,!1),this.keypressBrowserEventListener=t=>(this.events.push("keypressBrowserEvent"),this.events.push(t)),t.addEventListener("keypress",this.keypressBrowserEventListener,!1)},window.WorldMorph.prototype.initClipboardEventListeners=function(){return this.cutBrowserEventListener=t=>{var e;return e="",this.caret&&(e=this.caret.target.selection(),(null!=t?t.clipboardData:void 0)&&(t.preventDefault(),t.clipboardData.setData("text/plain",e)),window.clipboardData&&(t.returnValue=!1,window.clipboardData.setData("Text",e))),this.events.push("cutBrowserEvent"),this.events.push(e)},document.body.addEventListener("cut",this.cutBrowserEventListener,!1),this.copyBrowserEventListener=t=>{var e;return e="",this.caret&&(e="undefined"!=typeof clipboardTextIfTestRunning&&null!==clipboardTextIfTestRunning?clipboardTextIfTestRunning:this.caret.target.selection(),(null!=t?t.clipboardData:void 0)&&(t.preventDefault(),t.clipboardData.setData("text/plain",e)),window.clipboardData&&(t.returnValue=!1,window.clipboardData.setData("Text",e))),this.events.push("copyBrowserEvent"),this.events.push(e)},document.body.addEventListener("copy",this.copyBrowserEventListener,!1),this.pasteBrowserEventListener=t=>{var e;return this.caret&&null!=t&&(t.clipboardData&&(e=t.clipboardData.getData("text/plain")),window.clipboardData&&(e=window.clipboardData.getData("Text"))),this.events.push("pasteBrowserEvent"),this.events.push(e)},document.body.addEventListener("paste",this.pasteBrowserEventListener,!1)},window.WorldMorph.prototype.initKeyCombosEventListeners=function(){},window.WorldMorph.prototype.initOtherMiscEventListeners=function(){var t;return t=this.worldCanvas,this.contextmenuEventListener=function(t){return t.preventDefault()},t.addEventListener("contextmenu",this.contextmenuEventListener,!1),this.wheelBrowserEventListener=t=>(this.events.push("wheelBrowserEvent"),this.events.push(t),t.preventDefault()),t.addEventListener("wheel",this.wheelBrowserEventListener,!1),this.dragoverEventListener=function(t){return t.preventDefault()},window.addEventListener("dragover",this.dragoverEventListener,!1),this.resizeBrowserEventListener=()=>(this.events.push("resizeBrowserEvent"),this.events.push(nil)),window.addEventListener("resize",this.resizeBrowserEventListener,!1)},window.WorldMorph.prototype.initEventListeners=function(){return this.initMouseEventListeners(),this.initTouchEventListeners(),this.initKeyboardEventListeners(),this.initClipboardEventListeners(),this.initKeyCombosEventListeners(),this.initOtherMiscEventListeners()},window.WorldMorph.prototype.mouseDownLeft=function(){return noOperation},window.WorldMorph.prototype.mouseClickLeft=function(){return noOperation},window.WorldMorph.prototype.mouseDownRight=function(){return noOperation},window.WorldMorph.prototype.nextTab=function(t){var e;if(e=this.nextEntryField(t))return this.switchTextFieldFocus(t,e)},window.WorldMorph.prototype.previousTab=function(t){var e;if(e=this.previousEntryField(t))return this.switchTextFieldFocus(t,e)},window.WorldMorph.prototype.switchTextFieldFocus=function(t,e){return t.clearSelection(),e.bringToForeground(),e.selectAll(),e.edit()},window.WorldMorph.prototype.softResetWorld=function(){return this.hand.drop(),this.hand.mouseOverList.clear(),this.hand.nonFloatDraggedWdgt=nil,this.wdgtsDetectingClickOutsideMeOrAnyOfMeChildren.clear(),this.lastNonTextPropertyChangerButtonClickedOrDropped=nil},window.WorldMorph.prototype.fullDestroyChildren=function(){var t,e,n,o;for("Morph","Wdgt","Widget",n=0,o=(t=Object.keys(window).filter((function(t){return t.includes("Morph",t.length-"Morph".length)||t.includes("Wdgt",t.length-"Wdgt".length)||t.includes("Widget",t.length-"Widget".length)}))).length;n<o;n++)"WorldMorph"!==(e=t[n])&&(window[e].lastBuiltInstanceNumericID=0);return"undefined"!=typeof Automator&&null!==Automator&&(world.automator.recorder.turnOffAnimationsPacingControl(),world.automator.recorder.turnOffAlignmentOfMorphIDsMechanism(),world.automator.recorder.turnOffHidingOfMorphsContentExtractInLabels(),world.automator.recorder.turnOffHidingOfMorphsNumberIDInLabels()),WorldMorph.__super__.fullDestroyChildren.call(this)},window.WorldMorph.prototype.destroyToolTips=function(){return this.toolTipsList.forEach(t=>{if(!t.boundsContainPoint(this.position()))return t.fullDestroy(),this.toolTipsList.delete(t)})},window.WorldMorph.prototype.buildContextMenu=function(){var t;return this.isIndexPage?((t=new MenuMorph(this,!1,this,!0,!0,"Desktop")).addMenuItem("wallpapers ➜",!1,this,"wallpapersMenu","choose a wallpaper for the Desktop"),t.addMenuItem("new folder",!0,this,"makeFolder"),t):(t=this.isDevMode?new MenuMorph(this,!1,this,!0,!0,this.constructor.name||this.constructor.toString().split(" ")[1].split("(")[0]):new MenuMorph(this,!1,this,!0,!0,"Widgetic"),this.isDevMode&&(t.addMenuItem("demo ➜",!1,this,"popUpDemoMenu","sample morphs"),t.addLine(),t.addMenuItem("show all",!0,this,"showAllMinimised"),t.addMenuItem("hide all",!0,this,"minimiseAll"),t.addMenuItem("delete all",!0,this,"closeChildren"),t.addMenuItem("move all inside",!0,this,"keepAllSubmorphsWithin","keep all submorphs\nwithin and visible"),t.addMenuItem("inspect",!0,this,"inspect","open a window on\nall properties"),t.addMenuItem("test menu ➜",!1,this,"testMenu","debugging and testing operations"),t.addLine(),t.addMenuItem("restore display",!0,this,"changed","redraw the\nscreen once"),t.addMenuItem("fit whole page",!0,this,"stretchWorldToFillEntirePage","let the World automatically\nadjust to browser resizings"),t.addMenuItem("color...",!0,this,"popUpColorSetter","choose the World's\nbackground color"),t.addMenuItem("wallpapers ➜",!1,this,"wallpapersMenu","choose a wallpaper for the Desktop"),WorldMorph.preferencesAndSettings.inputMode===PreferencesAndSettings.INPUT_MODE_MOUSE?t.addMenuItem("touch screen settings",!0,WorldMorph.preferencesAndSettings,"toggleInputMode","bigger menu fonts\nand sliders"):t.addMenuItem("standard settings",!0,WorldMorph.preferencesAndSettings,"toggleInputMode","smaller menu fonts\nand sliders"),t.addLine()),"undefined"!=typeof Automator&&null!==Automator&&t.addMenuItem("system tests ➜",!1,this,"popUpSystemTestsMenu",""),this.isDevMode?t.addMenuItem("switch to user mode",!0,this,"toggleDevMode","disable developers'\ncontext menus"):t.addMenuItem("switch to dev mode",!0,this,"toggleDevMode"),t.addMenuItem("new folder",!0,this,"makeFolder"),t.addMenuItem("about Fizzygum...",!0,this,"about"),t)},window.WorldMorph.prototype.wallpapersMenu=function(t,e){var n;return(n=new MenuMorph(this,!1,e,!0,!0,"Wallpapers")).addMenuItem(untick+this.pattern1,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern1),n.addMenuItem(untick+this.pattern2,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern2),n.addMenuItem(untick+this.pattern3,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern3),n.addMenuItem(untick+this.pattern4,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern4),n.addMenuItem(untick+this.pattern5,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern5),n.addMenuItem(untick+this.pattern6,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern6),n.addMenuItem(untick+this.pattern7,!0,this,"setPattern",nil,nil,nil,nil,nil,this.pattern7),this.updatePatternsMenuEntriesTicks(n),n.popUpAtHand()},window.WorldMorph.prototype.setPattern=function(t,e,n){if(this.patternName!==n)return this.patternName=n,this.changed(),null!=(null!=t?t.parent:void 0)&&t.parent instanceof MenuMorph?this.updatePatternsMenuEntriesTicks(t.parent):void 0},window.WorldMorph.prototype.updatePatternsMenuEntriesTicks=function(t){var e,n,o,i,r,s,a;switch(e=n=o=i=r=s=a=untick,this.patternName){case this.pattern1:e=tick;break;case this.pattern2:n=tick;break;case this.pattern3:o=tick;break;case this.pattern4:i=tick;break;case this.pattern5:r=tick;break;case this.pattern6:s=tick;break;case this.pattern7:a=tick}return t.children[1].label.setText(e+this.pattern1),t.children[2].label.setText(n+this.pattern2),t.children[3].label.setText(o+this.pattern3),t.children[4].label.setText(i+this.pattern4),t.children[5].label.setText(r+this.pattern5),t.children[6].label.setText(s+this.pattern6),t.children[7].label.setText(a+this.pattern7)},window.WorldMorph.prototype.create=function(t){return t.pickUp()},window.WorldMorph.prototype.edit=function(t){var e,n;if(this.caret&&(n=this.lastEditedText,this.lastEditedText=this.caret.target,this.lastEditedText!==n&&this.lastEditedText.clearSelection(),this.caret=this.caret.fullDestroy()),this.caret=new CaretMorph(t),t.parent.add(this.caret),this.keyboardEventsReceiver=this.caret,WorldMorph.preferencesAndSettings.isTouchDevice&&WorldMorph.preferencesAndSettings.useVirtualKeyboard)return this.initVirtualKeyboard(),e=getDocumentPositionOf(this.worldCanvas),this.inputDOMElementForVirtualKeyboard.style.top=this.caret.top()+e.y+"px",this.inputDOMElementForVirtualKeyboard.style.left=this.caret.left()+e.x+"px",this.inputDOMElementForVirtualKeyboard.focus()},window.WorldMorph.prototype.stopEditing=function(){return this.caret&&(this.lastEditedText=this.caret.target,this.lastEditedText.clearSelection(),this.caret=this.caret.fullDestroy()),this.keyboardEventsReceiver=nil,this.inputDOMElementForVirtualKeyboard&&(this.inputDOMElementForVirtualKeyboard.blur(),document.body.removeChild(this.inputDOMElementForVirtualKeyboard),this.inputDOMElementForVirtualKeyboard=nil),this.worldCanvas.focus()},window.WorldMorph.prototype.anyReferenceToWdgt=function(t){var e;for(e of this.widgetsReferencingOtherWidgets)if(e.target===t)return!0;return!1},window.WorldMorph.preferencesAndSettings=nil,window.WorldMorph.currentTime=nil,window.WorldMorph.currentDate=nil,window.WorldMorph.ongoingUrlActionNumber=0,window.WorldMorph.frameCount=0,window.WorldMorph.numberOfAddsAndRemoves=0,window.WorldMorph.numberOfVisibilityFlagsChanges=0,window.WorldMorph.numberOfCollapseFlagsChanges=0,window.WorldMorph.numberOfRawMovesAndResizes=0,window.WorldMorph.instances=new Set,"function"==typeof window.WorldMorph.initStaticConstsAfterClassDefinition&&window.WorldMorph.initStaticConstsAfterClassDefinition(),window.AnalogClockWdgt=function(){this.fps=1,this.synchronisedStepping=!0,this.dateLastTicked=WorldMorph.currentDate,world.steppingWdgts.add(this),AnalogClockWdgt.__super__.constructor.call(this),this.setColor(new Color(255,125,125)),this.rawSetExtent(new Point(200,200)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AnalogClockWdgt,"name",{value:"AnalogClockWdgt"}),window.AnalogClockWdgt.__super__=window.Widget.prototype,window.AnalogClockWdgt=extend(window.AnalogClockWdgt,window.Widget),window.AnalogClockWdgt.prototype.hoursHandAngle=0,window.AnalogClockWdgt.prototype.minutesHandAngle=0,window.AnalogClockWdgt.prototype.secondsHandAngle=0,window.AnalogClockWdgt.prototype.strokeSizeToClockDimensionRatio=.004,window.AnalogClockWdgt.prototype.dateLastTicked=nil,window.AnalogClockWdgt.prototype.colloquialName=function(){return"analog clock"},window.AnalogClockWdgt.prototype.widthWithoutSpacing=function(){return Math.min(this.width(),this.height())},window.AnalogClockWdgt.prototype.rawResizeToWithoutSpacing=function(){return this.rawSetExtent(new Point(this.widthWithoutSpacing(),this.widthWithoutSpacing()))},window.AnalogClockWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return AnalogClockWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.AnalogClockWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){return this.rawSetExtent(new Point(t,t))},window.AnalogClockWdgt.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),i.isNotEmpty()?h<1||s<1?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.backgroundTransparency,this.paintRectangle(t,o,r,h,s,this.backgroundColor),t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.renderingHelper(t,Color.WHITE,n),t.restore(),this.paintHighlight(t,o,r,h,s)):void 0},window.AnalogClockWdgt.prototype.step=function(){return this.dateLastTicked=WorldMorph.currentDate,this.changed()},window.AnalogClockWdgt.prototype.calculateHandsAngles=function(){var t,e,n;return"undefined"!=typeof Automator&&null!==Automator&&Automator.animationsPacingControl&&Automator.state===Automator.PLAYING&&(this.dateLastTicked=new Date(2011,10,30)),n=this.dateLastTicked.getSeconds()+this.dateLastTicked.getMilliseconds()/1e3,e=this.dateLastTicked.getMinutes(),t=(t=this.dateLastTicked.getHours())>=12?t-12:t,this.hoursHandAngle=t*Math.PI/6+Math.PI/360*e+Math.PI/21600*n,this.minutesHandAngle=Math.PI/30*e+Math.PI/1800*n,this.secondsHandAngle=n*Math.PI/30},window.AnalogClockWdgt.prototype.renderingHelper=function(t,e,n){var o,i,r,s;for(o=this.height(),s=this.width(),t.lineWidth=1*Math.min(s,o)*this.strokeSizeToClockDimensionRatio,t.lineCap="round",t.save(),t.globalAlpha=(null!=n?n.alpha:1)*this.alpha,r=Math.min(s/2,o/2),t.translate(s/2,o/2),t.scale(.9,.9),t.rotate(-Math.PI/2),t.strokeStyle="black",t.fillStyle="white",t.lineWidth=6*Math.min(s,o)*this.strokeSizeToClockDimensionRatio,t.lineCap="round",t.save(),i=0;i<12;)t.beginPath(),t.rotate(Math.PI/6),t.moveTo(2.4*r/3,0),t.lineTo(r,0),t.stroke(),i++;for(t.restore(),t.save(),t.lineWidth=5*Math.min(s,o)*this.strokeSizeToClockDimensionRatio,i=0;i<60;)i%5!=0&&(t.beginPath(),t.moveTo(2.7*r/3,0),t.lineTo(r,0),t.stroke()),t.rotate(Math.PI/30),i++;return t.restore(),t.fillStyle="black",this.calculateHandsAngles(),this.drawHoursHand(t,r),this.drawMinutesHand(t,r),this.drawSecondsHand(t,r),this.drawDotInMiddleOfFace(t,r),t.beginPath(),t.lineWidth=10*Math.min(s,o)*this.strokeSizeToClockDimensionRatio,t.strokeStyle="#325FA2",t.arc(0,0,r,0,2*Math.PI),t.stroke(),t.restore(),t.strokeStyle=e.toString()},window.AnalogClockWdgt.prototype.drawHoursHand=function(t,e){var n,o;return n=this.height(),o=this.width(),t.save(),t.rotate(this.hoursHandAngle),t.lineWidth=8*Math.min(o,n)*this.strokeSizeToClockDimensionRatio,t.beginPath(),t.moveTo(-e/7,0),t.lineTo(e/2,0),t.stroke(),t.restore()},window.AnalogClockWdgt.prototype.drawMinutesHand=function(t,e){var n,o;return n=this.height(),o=this.width(),t.save(),t.rotate(this.minutesHandAngle),t.lineWidth=5*Math.min(o,n)*this.strokeSizeToClockDimensionRatio,t.beginPath(),t.moveTo(-e/5,0),t.lineTo(e/1.3,0),t.stroke(),t.restore()},window.AnalogClockWdgt.prototype.drawSecondsHand=function(t,e){var n,o;return n=this.height(),o=this.width(),t.save(),t.rotate(this.secondsHandAngle),t.strokeStyle="#D40000",t.fillStyle="#D40000",t.lineWidth=6*Math.min(o,n)*this.strokeSizeToClockDimensionRatio,t.beginPath(),t.moveTo(-e/5,0),t.lineTo(e/1.3,0),t.stroke(),t.restore()},window.AnalogClockWdgt.prototype.drawDotInMiddleOfFace=function(t,e){var n,o;return n=this.height(),o=this.width(),t.save(),t.fillStyle="#D40000",t.lineWidth=6*Math.min(o,n)*this.strokeSizeToClockDimensionRatio,t.beginPath(),t.arc(0,0,Math.min(o,n)/30,0,2*Math.PI),t.fill(),t.restore()},window.AnalogClockWdgt.instances=new Set,"function"==typeof window.AnalogClockWdgt.initStaticConstsAfterClassDefinition&&window.AnalogClockWdgt.initStaticConstsAfterClassDefinition(),window.DashboardsWdgt=function(){window.DashboardsWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DashboardsWdgt,"name",{value:"DashboardsWdgt"}),window.DashboardsWdgt.__super__=window.StretchableEditableWdgt.prototype,window.DashboardsWdgt=extend(window.DashboardsWdgt,window.StretchableEditableWdgt),window.DashboardsWdgt.prototype.colloquialName=function(){return"Dashboards Maker"},window.DashboardsWdgt.prototype.representativeIcon=function(){return new DashboardsIconWdgt},window.DashboardsWdgt.prototype.createToolsPanel=function(){return this.toolsPanel=new ScrollPanelWdgt(new ToolPanelWdgt),this.toolsPanel.addMany([new TextBoxCreatorButtonWdgt,new ExternalLinkCreatorButtonWdgt,new ScatterPlotWithAxesCreatorButtonWdgt,new FunctionPlotWithAxesCreatorButtonWdgt,new BarPlotWithAxesCreatorButtonWdgt,new Plot3DCreatorButtonWdgt,new WorldMapCreatorButtonWdgt,new USAMapCreatorButtonWdgt,new MapPinIconWdgt,new SpeechBubbleWdgt,new ArrowNIconWdgt,new ArrowSIconWdgt,new ArrowWIconWdgt,new ArrowEIconWdgt,new ArrowNWIconWdgt,new ArrowNEIconWdgt,new ArrowSWIconWdgt,new ArrowSEIconWdgt]),this.toolsPanel.disableDragsDropsAndEditing(),this.add(this.toolsPanel),this.dragsDropsAndEditingEnabled=!0,this.invalidateLayout()},window.DashboardsWdgt.prototype.createNewStretchablePanel=function(){return this.stretchableWidgetContainer=new StretchableWidgetContainerWdgt,this.add(this.stretchableWidgetContainer)},window.DashboardsWdgt.prototype.reLayout=function(){var t,e,n,o,i;return trackChanges.push(!1),this.left()+this.externalPadding,this.right()-this.externalPadding,t=this.top()+this.externalPadding,(null!=(e=this.toolsPanel)?e.parent:void 0)===this&&(this.toolsPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,t)),this.toolsPanel.rawSetExtent(new Point(95,this.height()-2*this.externalPadding))),i=this.width()-2*this.externalPadding,this.dragsDropsAndEditingEnabled&&(i-=this.toolsPanel.width()+this.internalPadding),n=this.height()-2*this.externalPadding,o=this.dragsDropsAndEditingEnabled?this.toolsPanel.right()+this.internalPadding:this.left()+this.externalPadding,this.stretchableWidgetContainer.parent===this&&(this.stretchableWidgetContainer.fullRawMoveTo(new Point(o,t)),this.stretchableWidgetContainer.setExtent(new Point(i,n))),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.DashboardsWdgt.instances=new Set,"function"==typeof window.DashboardsWdgt.initStaticConstsAfterClassDefinition&&window.DashboardsWdgt.initStaticConstsAfterClassDefinition(),window.PatchProgrammingWdgt=function(){window.PatchProgrammingWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingWdgt,"name",{value:"PatchProgrammingWdgt"}),window.PatchProgrammingWdgt.__super__=window.StretchableEditableWdgt.prototype,window.PatchProgrammingWdgt=extend(window.PatchProgrammingWdgt,window.StretchableEditableWdgt),window.PatchProgrammingWdgt.prototype.colloquialName=function(){return"Patch Programming"},window.PatchProgrammingWdgt.prototype.representativeIcon=function(){return new PatchProgrammingIconWdgt},window.PatchProgrammingWdgt.prototype.createToolsPanel=function(){return this.toolsPanel=new ScrollPanelWdgt(new ToolPanelWdgt),this.toolsPanel.addMany([new TextBoxCreatorButtonWdgt,new SliderNodeCreatorButtonWdgt,new ColorPaletteNodeCreatorButtonWdgt,new GrayscalePaletteNodeCreatorButtonWdgt,new CalculatingNodeCreatorButtonWdgt]),this.toolsPanel.disableDragsDropsAndEditing(),this.add(this.toolsPanel),this.dragsDropsAndEditingEnabled=!0,this.invalidateLayout()},window.PatchProgrammingWdgt.prototype.createNewStretchablePanel=function(){return this.stretchableWidgetContainer=new StretchableWidgetContainerWdgt,this.add(this.stretchableWidgetContainer)},window.PatchProgrammingWdgt.prototype.reLayout=function(){var t,e,n,o,i;return trackChanges.push(!1),this.left()+this.externalPadding,this.right()-this.externalPadding,t=this.top()+this.externalPadding,(null!=(e=this.toolsPanel)?e.parent:void 0)===this&&(this.toolsPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,t)),this.toolsPanel.rawSetExtent(new Point(95,this.height()-2*this.externalPadding))),i=this.width()-2*this.externalPadding,this.dragsDropsAndEditingEnabled&&(i-=this.toolsPanel.width()+this.internalPadding),n=this.height()-2*this.externalPadding,o=this.dragsDropsAndEditingEnabled?this.toolsPanel.right()+this.internalPadding:this.left()+this.externalPadding,this.stretchableWidgetContainer.parent===this&&(this.stretchableWidgetContainer.fullRawMoveTo(new Point(o,t)),this.stretchableWidgetContainer.setExtent(new Point(i,n))),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.PatchProgrammingWdgt.instances=new Set,"function"==typeof window.PatchProgrammingWdgt.initStaticConstsAfterClassDefinition&&window.PatchProgrammingWdgt.initStaticConstsAfterClassDefinition(),window.ReconfigurablePaintWdgt=function(){window.ReconfigurablePaintWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ReconfigurablePaintWdgt,"name",{value:"ReconfigurablePaintWdgt"}),window.ReconfigurablePaintWdgt.__super__=window.StretchableEditableWdgt.prototype,window.ReconfigurablePaintWdgt=extend(window.ReconfigurablePaintWdgt,window.StretchableEditableWdgt),window.ReconfigurablePaintWdgt.prototype.mainCanvas=nil,window.ReconfigurablePaintWdgt.prototype.overlayCanvas=nil,window.ReconfigurablePaintWdgt.prototype.pencilToolButton=nil,window.ReconfigurablePaintWdgt.prototype.brushToolButton=nil,window.ReconfigurablePaintWdgt.prototype.toothpasteToolButton=nil,window.ReconfigurablePaintWdgt.prototype.eraserToolButton=nil,window.ReconfigurablePaintWdgt.prototype.highlightedToolIconColor=new Color(245,126,0),window.ReconfigurablePaintWdgt.prototype.colloquialName=function(){return"Drawings Maker"},window.ReconfigurablePaintWdgt.prototype.representativeIcon=function(){return new PaintBucketIconWdgt},window.ReconfigurablePaintWdgt.prototype.isToolPressed=function(t){var e;return null!=(e=this.toolsPanel.whichButtonSelected())&&e===t.parent},window.ReconfigurablePaintWdgt.prototype.newCodeToInjectFromButton=function(t){if(this.isToolPressed(t))return t.injectCodeIntoTarget()},window.ReconfigurablePaintWdgt.prototype.createNewStretchablePanel=function(){return this.stretchableWidgetContainer=new StretchableWidgetContainerWdgt(new StretchableCanvasWdgt),this.stretchableWidgetContainer.disableDrops(),this.add(this.stretchableWidgetContainer),this.mainCanvas=this.stretchableWidgetContainer.contents,this.overlayCanvas=new CanvasGlassTopWdgt,this.overlayCanvas.underlyingCanvasMorph=this.mainCanvas,this.overlayCanvas.disableDrops(),this.mainCanvas.add(this.overlayCanvas),this.overlayCanvas.noticesTransparentClick=!0,this.overlayCanvas.injectProperty("mouseLeave","# don't leave any trace behind then the pointer\n# moves out.\n(pos) ->\n    context = @backBufferContext\n    context.setTransform 1, 0, 0, 1, 0, 0\n    context.clearRect 0, 0, @width() * ceilPixelRatio, @height() * ceilPixelRatio\n    @changed()")},window.ReconfigurablePaintWdgt.prototype.createToolsPanel=function(){var t,e,n,o,i,r,s,a;return this.toolsPanel=new RadioButtonsHolderMorph,this.add(this.toolsPanel),(i=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new Pencil2IconMorph)).alpha=.1,i.sourceCodeToBeInjected='mouseMove = (pos, mouseButton) ->\n    if world.hand.isThisPointerDraggingSomething() then return\n    context = @backBufferContext\n    context.setTransform 1, 0, 0, 1, 0, 0\n    context.clearRect 0, 0, @width() * ceilPixelRatio, @height() * ceilPixelRatio\n    context.useLogicalPixelsUntilRestore()\n\n    # give it a little bit of a tint so\n    # you can see the canvas when you take it\n    # apart from the paint tool.\n    #context.fillStyle = (new Color 0,255,0,0.5).toString()\n    #context.fillRect 0, 0, @width(), @height()\n\n    context.translate -@bounds.origin.x, -@bounds.origin.y\n    context.translate pos.x, pos.y\n\n    context.beginPath()\n    context.lineWidth="2"\n\n    if mouseButton == \'left\'\n        contextMain = @underlyingCanvasMorph.getContextForPainting()\n        contextMain.translate pos.x, pos.y\n\n        contextMain.beginPath()\n        contextMain.lineWidth="2"\n        contextMain.fillStyle = "black"\n        contextMain.rect(-2,-2,4,4)\n        contextMain.fill()\n        @underlyingCanvasMorph.changed()\n\n    else\n        context.strokeStyle="red"\n        context.rect(-2,-2,4,4)\n        context.stroke()\n    @changed()',(r=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new Pencil2IconMorph(this.highlightedToolIconColor))).alpha=.1,r.sourceCodeToBeInjected="mouseMove = -> return",this.pencilToolButton=new ToggleButtonMorph(i,r),(t=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new BrushIconMorph)).alpha=.1,t.sourceCodeToBeInjected='mouseMove = (pos, mouseButton) ->\n    if world.hand.isThisPointerDraggingSomething() then return\n    context = @backBufferContext\n    context.setTransform 1, 0, 0, 1, 0, 0\n    context.clearRect 0, 0, @width() * ceilPixelRatio, @height() * ceilPixelRatio\n    context.useLogicalPixelsUntilRestore()\n\n    context.translate -@bounds.origin.x, -@bounds.origin.y\n    context.translate pos.x, pos.y\n\n    context.beginPath()\n    context.lineWidth="2"\n\n    if mouseButton == \'left\'\n        context.fillStyle = "red"\n\n        contextMain = @underlyingCanvasMorph.getContextForPainting()\n        contextMain.translate pos.x, pos.y\n        contextMain.fillStyle = "black"\n\n        # the brush is 16 x 16, so center it\n        contextMain.translate -8, -8\n\n        # for convenience, the brush has been\n        # drawn first using 6x6 squares, so now\n        # scale those back\n        contextMain.scale 1/6, 1/6\n\n        contextMain.beginPath()\n        contextMain.rect 48, 0, 6, 6\n        contextMain.rect 36, 6, 6, 6\n        contextMain.rect 54, 6, 6, 6\n        contextMain.rect 66, 6, 6, 6\n        contextMain.rect 30, 12, 12, 6\n        contextMain.rect 48, 12, 6, 6\n        contextMain.rect 72, 12, 6, 6\n        contextMain.rect 12, 18, 36, 6\n        contextMain.rect 60, 18, 6, 6\n        contextMain.rect 78, 18, 6, 6\n        contextMain.rect 24, 24, 42, 6\n        contextMain.rect 72, 24, 6, 6\n        contextMain.rect 90, 24, 6, 6\n        contextMain.rect 18, 30, 42, 6\n        contextMain.rect 66, 30, 6, 6\n        contextMain.rect 18, 36, 36, 6\n        contextMain.rect 6, 36, 6, 6\n        contextMain.rect 60, 36, 12, 6\n        contextMain.rect 78, 36, 6, 6\n        contextMain.rect 90, 36, 6, 6\n        contextMain.rect 24, 42, 36, 6\n        contextMain.rect 66, 42, 12, 6\n        contextMain.rect 6, 48, 6, 6\n        contextMain.rect 18, 48, 6, 6\n        contextMain.rect 30, 48, 12, 6\n        contextMain.rect 54, 48, 6, 6\n        contextMain.rect 78, 48, 6, 6\n        contextMain.rect 36, 54, 6, 12\n        contextMain.rect 48, 54, 6, 6\n        contextMain.rect 60, 54, 12, 6\n        contextMain.rect 90, 54, 6, 6\n        contextMain.rect 6, 60, 6, 6\n        contextMain.rect 18, 60, 12, 6\n        contextMain.rect 54, 60, 6, 12\n        contextMain.rect 78, 60, 6, 6\n        contextMain.rect 0, 66, 6, 6\n        contextMain.rect 42, 66, 6, 12\n        contextMain.rect 66, 66, 6, 6\n        contextMain.rect 18, 72, 6, 6\n        contextMain.rect 30, 72, 6, 6\n        contextMain.rect 60, 78, 6, 6\n        contextMain.rect 78, 78, 6, 6\n        contextMain.rect 12, 84, 6, 6\n        contextMain.rect 36, 84, 6, 6\n        contextMain.rect 54, 84, 6, 6\n        contextMain.rect 42, 90, 6, 6\n        contextMain.rect 18, 6, 6, 6\n        contextMain.rect 6, 24, 6, 6\n        contextMain.rect 0, 42, 6, 6\n        contextMain.fill()\n\n\n        @underlyingCanvasMorph.changed()\n\n    else\n        context.strokeStyle="green"\n    context.rect(-5,-5,10,10)\n    context.stroke()\n    @changed()',(e=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new BrushIconMorph(this.highlightedToolIconColor))).alpha=.1,e.sourceCodeToBeInjected="mouseMove = -> return",this.brushToolButton=new ToggleButtonMorph(t,e),(s=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new ToothpasteIconMorph)).alpha=.1,s.sourceCodeToBeInjected='# Toothpaste graphics\n# original implementation by Ward Cunningham, from Tektronix Smalltalk\n# implementation of Smalltalk 80\n# on the Magnolia (1980-1983) and the Tek 4404 (1984)\n# "Draw spheres ala Ken Knowlton, Computer Graphics, v15 n4 p352."\n\npaintBrush = (contextMain) ->\n    contextMain.save()\n    # the brush is 16 x 16, so center it\n    contextMain.translate -8, -8\n\n    # for convenience, the brush has been\n    # drawn first using 6x6 squares, so now\n    # scale those back\n    contextMain.scale 1/6, 1/6\n\n    contextMain.beginPath()\n    contextMain.rect 48, 0, 6, 6\n    contextMain.rect 36, 6, 6, 6\n    contextMain.rect 54, 6, 6, 6\n    contextMain.rect 66, 6, 6, 6\n    contextMain.rect 30, 12, 12, 6\n    contextMain.rect 48, 12, 6, 6\n    contextMain.rect 72, 12, 6, 6\n    contextMain.rect 12, 18, 36, 6\n    contextMain.rect 60, 18, 6, 6\n    contextMain.rect 78, 18, 6, 6\n    contextMain.rect 24, 24, 42, 6\n    contextMain.rect 72, 24, 6, 6\n    contextMain.rect 90, 24, 6, 6\n    contextMain.rect 18, 30, 42, 6\n    contextMain.rect 66, 30, 6, 6\n    contextMain.rect 18, 36, 36, 6\n    contextMain.rect 6, 36, 6, 6\n    contextMain.rect 60, 36, 12, 6\n    contextMain.rect 78, 36, 6, 6\n    contextMain.rect 90, 36, 6, 6\n    contextMain.rect 24, 42, 36, 6\n    contextMain.rect 66, 42, 12, 6\n    contextMain.rect 6, 48, 6, 6\n    contextMain.rect 18, 48, 6, 6\n    contextMain.rect 30, 48, 12, 6\n    contextMain.rect 54, 48, 6, 6\n    contextMain.rect 78, 48, 6, 6\n    contextMain.rect 36, 54, 6, 12\n    contextMain.rect 48, 54, 6, 6\n    contextMain.rect 60, 54, 12, 6\n    contextMain.rect 90, 54, 6, 6\n    contextMain.rect 6, 60, 6, 6\n    contextMain.rect 18, 60, 12, 6\n    contextMain.rect 54, 60, 6, 12\n    contextMain.rect 78, 60, 6, 6\n    contextMain.rect 0, 66, 6, 6\n    contextMain.rect 42, 66, 6, 12\n    contextMain.rect 66, 66, 6, 6\n    contextMain.rect 18, 72, 6, 6\n    contextMain.rect 30, 72, 6, 6\n    contextMain.rect 60, 78, 6, 6\n    contextMain.rect 78, 78, 6, 6\n    contextMain.rect 12, 84, 6, 6\n    contextMain.rect 36, 84, 6, 6\n    contextMain.rect 54, 84, 6, 6\n    contextMain.rect 42, 90, 6, 6\n    contextMain.rect 18, 6, 6, 6\n    contextMain.rect 6, 24, 6, 6\n    contextMain.rect 0, 42, 6, 6\n    contextMain.fill()\n\n    contextMain.restore()\n\n# you\'d be tempted to initialise the queue\n# on mouseDown but it would be a bad idea\n# because the mouse could come "already-pressed"\n# from outside the canvas\ninitialiseQueueIfNeeded = ->\n    if !@queue?\n        @queue = [0..24].map -> nil\n\nmouseUpLeft = ->\n    if world.hand.isThisPointerDraggingSomething() then return\n    if @queue?\n        # draining the queue\n        contextMain = @underlyingCanvasMorph.getContextForPainting()\n        \n        until @queue.length == 0\n            previousPos = @queue[0]\n            @queue.shift()\n            if previousPos?\n                contextMain.save()\n                contextMain.translate previousPos.x, previousPos.y\n                contextMain.fillStyle = "white"\n                @paintBrush contextMain\n                contextMain.restore()\n        delete @queue\n\nmouseMove = (pos, mouseButton) ->\n    if world.hand.isThisPointerDraggingSomething() then return\n    context = @backBufferContext\n    context.setTransform 1, 0, 0, 1, 0, 0\n    context.clearRect 0, 0, @width() * ceilPixelRatio, @height() * ceilPixelRatio\n    context.useLogicalPixelsUntilRestore()\n\n    context.translate -@bounds.origin.x, -@bounds.origin.y\n    context.translate pos.x, pos.y\n\n    context.beginPath()\n    context.lineWidth="2"\n\n    if mouseButton == \'left\'\n        @initialiseQueueIfNeeded()\n        @queue.push pos\n        context.fillStyle = "red"\n\n        contextMain = @underlyingCanvasMorph.getContextForPainting()\n        \n        contextMain.save()\n        contextMain.translate pos.x, pos.y\n        contextMain.fillStyle = "black"\n        #@paintBrush contextMain\n        contextMain.beginPath()\n        contextMain.arc 0,0,9,0,2*Math.PI\n        contextMain.fill()\n        contextMain.restore()\n\n\n        previousPos = @queue[0]\n        @queue.shift()\n        if previousPos?\n            contextMain.save()\n            contextMain.translate previousPos.x, previousPos.y\n            contextMain.fillStyle = "white"\n            @paintBrush contextMain\n            contextMain.restore()\n\n\n        @underlyingCanvasMorph.changed()\n\n    else\n        context.strokeStyle="green"\n    context.rect(-5,-5,10,10)\n    context.stroke()\n    @changed()',(a=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new ToothpasteIconMorph(this.highlightedToolIconColor))).alpha=.1,a.sourceCodeToBeInjected="mouseMove = -> return",this.toothpasteToolButton=new ToggleButtonMorph(s,a),(n=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new EraserIconMorph)).alpha=.1,n.sourceCodeToBeInjected='mouseMove = (pos, mouseButton) ->\n    if world.hand.isThisPointerDraggingSomething() then return\n    context = @backBufferContext\n    context.setTransform 1, 0, 0, 1, 0, 0\n    context.clearRect 0, 0, @width() * ceilPixelRatio, @height() * ceilPixelRatio\n    context.useLogicalPixelsUntilRestore()\n\n    context.translate -@bounds.origin.x, -@bounds.origin.y\n    context.translate pos.x, pos.y\n\n    context.beginPath()\n    context.lineWidth="2"\n\n    if mouseButton == \'left\'\n        context.fillStyle = "red"\n\n        contextMain = @underlyingCanvasMorph.getContextForPainting()\n        contextMain.translate pos.x, pos.y\n\n        contextMain.beginPath()\n        contextMain.lineWidth="2"\n        contextMain.fillStyle = Color.WHITE.toString()\n        contextMain.rect(-5,-5,10,10)\n        contextMain.fill()\n        @underlyingCanvasMorph.changed()\n\n    else\n        context.strokeStyle="green"\n    context.rect(-5,-5,10,10)\n    context.stroke()\n    @changed()',(o=new CodeInjectingSimpleRectangularButtonMorph(this,this.overlayCanvas,new EraserIconMorph(this.highlightedToolIconColor))).alpha=.1,o.sourceCodeToBeInjected="mouseMove = -> return",this.eraserToolButton=new ToggleButtonMorph(n,o),new EditableMarkMorph(this.pencilToolButton,i,"editInjectableSource"),new EditableMarkMorph(this.brushToolButton,t,"editInjectableSource"),new EditableMarkMorph(this.toothpasteToolButton,s,"editInjectableSource"),new EditableMarkMorph(this.eraserToolButton,n,"editInjectableSource"),this.toolsPanel.add(this.pencilToolButton),this.toolsPanel.add(this.brushToolButton),this.toolsPanel.add(this.toothpasteToolButton),this.toolsPanel.add(this.eraserToolButton),this.pencilToolButton.toggle(),this.invalidateLayout()},window.ReconfigurablePaintWdgt.prototype.reLayout=function(){var t,e,n,o,i,r;return trackChanges.push(!1),this.left()+this.externalPadding,this.right()-this.externalPadding,e=this.top()+this.externalPadding,r=null!=this.toolsPanel&&this.toolsPanel.parent===this?new Point(93,55):new Point(0,0),null!=this.toolsPanel&&this.toolsPanel.parent===this&&(this.toolsPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,e)),this.toolsPanel.rawSetExtent(new Point(2*this.internalPadding+r.width(),this.height()-2*this.externalPadding)),this.pencilToolButton.parent===this.toolsPanel&&(t=(t=new Rectangle(new Point(this.toolsPanel.left()+this.internalPadding,e+this.internalPadding))).setBoundsWidthAndHeight(r),this.pencilToolButton.doLayout(t)),this.brushToolButton.parent===this.toolsPanel&&(t=(t=new Rectangle(new Point(this.toolsPanel.left()+this.internalPadding,this.pencilToolButton.bottom()+this.internalPadding))).setBoundsWidthAndHeight(r),this.brushToolButton.doLayout(t)),this.toothpasteToolButton.parent===this.toolsPanel&&(t=(t=new Rectangle(new Point(this.toolsPanel.left()+this.internalPadding,this.brushToolButton.bottom()+this.internalPadding))).setBoundsWidthAndHeight(r),this.toothpasteToolButton.doLayout(t)),this.eraserToolButton.parent===this.toolsPanel&&(t=(t=new Rectangle(new Point(this.toolsPanel.left()+this.internalPadding,this.toothpasteToolButton.bottom()+this.internalPadding))).setBoundsWidthAndHeight(r),this.eraserToolButton.doLayout(t))),i=null!=this.toolsPanel&&this.toolsPanel.parent===this?this.width()-this.toolsPanel.width()-2*this.externalPadding-this.internalPadding:this.width()-2*this.externalPadding,n=this.height()-2*this.externalPadding,o=null!=this.toolsPanel&&this.toolsPanel.parent===this?this.toolsPanel.right()+this.internalPadding:this.left()+this.externalPadding,this.stretchableWidgetContainer.parent===this&&(this.stretchableWidgetContainer.fullRawMoveTo(new Point(o,e)),this.stretchableWidgetContainer.setExtent(new Point(i,n))),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.ReconfigurablePaintWdgt.instances=new Set,"function"==typeof window.ReconfigurablePaintWdgt.initStaticConstsAfterClassDefinition&&window.ReconfigurablePaintWdgt.initStaticConstsAfterClassDefinition(),window.SimpleDocumentWdgt=function(t=""){this.defaultContents=t,SimpleDocumentWdgt.__super__.constructor.call(this,new Point(368,335)),this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleDocumentWdgt,"name",{value:"SimpleDocumentWdgt"}),window.SimpleDocumentWdgt.__super__=window.Widget.prototype,window.SimpleDocumentWdgt=extend(window.SimpleDocumentWdgt,window.Widget),window.SimpleDocumentWdgt.prototype.toolsPanel=nil,window.SimpleDocumentWdgt.prototype.defaultContents=nil,window.SimpleDocumentWdgt.prototype.textMorph=nil,window.SimpleDocumentWdgt.prototype.simpleDocumentScrollPanel=nil,window.SimpleDocumentWdgt.prototype.simpleDocumentScrollPanelText=nil,window.SimpleDocumentWdgt.prototype.externalPadding=0,window.SimpleDocumentWdgt.prototype.internalPadding=5,window.SimpleDocumentWdgt.prototype.providesAmenitiesForEditing=!0,window.SimpleDocumentWdgt.prototype.startingText="Your text here.",window.SimpleDocumentWdgt.prototype.colloquialName=function(){return"Docs Maker"},window.SimpleDocumentWdgt.prototype.representativeIcon=function(){return new TypewriterIconWdgt},window.SimpleDocumentWdgt.prototype.hasStartingContentBeenChangedByUser=function(){return!(1===this.simpleDocumentScrollPanel.contents.children.length&&this.simpleDocumentScrollPanel.contents.children[0]instanceof SimplePlainTextWdgt&&this.simpleDocumentScrollPanel.contents.children[0].text===this.startingText)},window.SimpleDocumentWdgt.prototype.closeFromContainerWindow=function(t){return this.hasStartingContentBeenChangedByUser()||world.anyReferenceToWdgt(t)?world.anyReferenceToWdgt(t)?t.close():new SaveShortcutPromptWdgt(this,t).popUpAtHand():t.fullDestroy()},window.SimpleDocumentWdgt.prototype.buildAndConnectChildren=function(){var t;return"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.createToolsPanel(),this.simpleDocumentScrollPanel=new SimpleDocumentScrollPanelWdgt,t=new SimplePlainTextWdgt(this.startingText,nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1),this.simpleDocumentScrollPanel.setContents(t,5),t.isEditable=!0,t.enableSelecting(),this.add(this.simpleDocumentScrollPanel),this.invalidateLayout()},window.SimpleDocumentWdgt.prototype.createToolsPanel=function(){return this.toolsPanel=new HorizontalMenuPanelWdgt,this.toolsPanel.strokeColor=nil,this.toolsPanel.rawSetExtent(new Point(300,10)),this.toolsPanel.add(new ChangeFontButtonWdgt(this)),this.toolsPanel.add(new BoldButtonWdgt),this.toolsPanel.add(new ItalicButtonWdgt),this.toolsPanel.add(new FormatAsCodeButtonWdgt),this.toolsPanel.add(new IncreaseFontSizeButtonWdgt),this.toolsPanel.add(new DecreaseFontSizeButtonWdgt),this.toolsPanel.add(new AlignLeftButtonWdgt),this.toolsPanel.add(new AlignCenterButtonWdgt),this.toolsPanel.add(new AlignRightButtonWdgt),this.toolsPanel.add(new TemplatesButtonWdgt),this.add(this.toolsPanel),this.toolsPanel.disableDragsDropsAndEditing(),this.dragsDropsAndEditingEnabled=!0,this.invalidateLayout()},window.SimpleDocumentWdgt.prototype.editButtonPressedFromWindowBar=function(){return this.dragsDropsAndEditingEnabled?this.disableDragsDropsAndEditing(this):this.enableDragsDropsAndEditing(this)},window.SimpleDocumentWdgt.prototype.enableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),!this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilYellow&&e.makePencilYellow(),this.dragsDropsAndEditingEnabled=!0,this.createToolsPanel(),this.simpleDocumentScrollPanel.enableDragsDropsAndEditing(this)},window.SimpleDocumentWdgt.prototype.disableDragsDropsAndEditing=function(t){var e;if(null==t&&(t=this),this.dragsDropsAndEditingEnabled)return null!=(e=this.parent)&&"function"==typeof e.makePencilClear&&e.makePencilClear(),this.toolsPanel.destroy(),this.toolsPanel=nil,this.dragsDropsAndEditingEnabled=!1,this.simpleDocumentScrollPanel.disableDragsDropsAndEditing(this),this.invalidateLayout()},window.SimpleDocumentWdgt.prototype.doLayout=function(t){var e,n,o,i,r;return this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(SimpleDocumentWdgt.__super__.doLayout.apply(this,arguments),trackChanges.push(!1),e=this.height()-2*this.externalPadding,i=this.top()+this.externalPadding,r=0,this.dragsDropsAndEditingEnabled&&(r=35,e-=this.internalPadding,i+=r+this.internalPadding),o=e-r,(null!=(n=this.toolsPanel)?n.parent:void 0)===this&&(this.toolsPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,this.top()+this.externalPadding)),this.toolsPanel.rawSetExtent(new Point(this.width()-2*this.externalPadding,r))),this.simpleDocumentScrollPanel.parent===this&&(this.simpleDocumentScrollPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,i)),this.simpleDocumentScrollPanel.rawSetExtent(new Point(this.width()-2*this.externalPadding,o))),trackChanges.pop(),this.fullChanged(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted())},window.SimpleDocumentWdgt.prototype.addMorphSpecificMenuEntries=function(t,e){var n;return SimpleDocumentWdgt.__super__.addMorphSpecificMenuEntries.apply(this,arguments),null!=(n=this.childrenNotHandlesNorCarets())&&n.length>0&&(e.addLine(),this.dragsDropsAndEditingEnabled?e.addMenuItem("disable editing",!0,this,"disableDragsDropsAndEditing","prevents dragging content in and out"):e.addMenuItem("enable editing",!0,this,"enableDragsDropsAndEditing","lets you drag content in and out")),e.removeConsecutiveLines()},window.SimpleDocumentWdgt.instances=new Set,"function"==typeof window.SimpleDocumentWdgt.initStaticConstsAfterClassDefinition&&window.SimpleDocumentWdgt.initStaticConstsAfterClassDefinition(),window.SimpleSlideWdgt=function(){window.SimpleSlideWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SimpleSlideWdgt,"name",{value:"SimpleSlideWdgt"}),window.SimpleSlideWdgt.__super__=window.StretchableEditableWdgt.prototype,window.SimpleSlideWdgt=extend(window.SimpleSlideWdgt,window.StretchableEditableWdgt),window.SimpleSlideWdgt.prototype.colloquialName=function(){return"Slides Maker"},window.SimpleSlideWdgt.prototype.representativeIcon=function(){return new SimpleSlideIconWdgt},window.SimpleSlideWdgt.prototype.createToolsPanel=function(){return this.toolsPanel=new ScrollPanelWdgt(new ToolPanelWdgt),this.toolsPanel.addMany([new TextBoxCreatorButtonWdgt,new ExternalLinkCreatorButtonWdgt,new VideoPlayCreatorButtonWdgt,new WorldMapCreatorButtonWdgt,new USAMapCreatorButtonWdgt,new RectangleMorph,new MapPinIconWdgt,new SpeechBubbleWdgt,new DestroyIconMorph,new ScratchAreaIconMorph,new FloraIconMorph,new ScooterIconMorph,new HeartIconMorph,new FizzygumLogoIconWdgt,new FizzygumLogoWithTextIconWdgt,new VaporwaveBackgroundIconWdgt,new VaporwaveSunIconWdgt,new ArrowNIconWdgt,new ArrowSIconWdgt,new ArrowWIconWdgt,new ArrowEIconWdgt,new ArrowNWIconWdgt,new ArrowNEIconWdgt,new ArrowSWIconWdgt,new ArrowSEIconWdgt]),this.toolsPanel.disableDragsDropsAndEditing(),this.add(this.toolsPanel),this.dragsDropsAndEditingEnabled=!0,this.invalidateLayout()},window.SimpleSlideWdgt.prototype.createNewStretchablePanel=function(){return this.stretchableWidgetContainer=new StretchableWidgetContainerWdgt,this.add(this.stretchableWidgetContainer)},window.SimpleSlideWdgt.prototype.reLayout=function(){var t,e,n,o,i;return trackChanges.push(!1),this.left()+this.externalPadding,this.right()-this.externalPadding,t=this.top()+this.externalPadding,(null!=(e=this.toolsPanel)?e.parent:void 0)===this&&(this.toolsPanel.fullRawMoveTo(new Point(this.left()+this.externalPadding,t)),this.toolsPanel.rawSetExtent(new Point(95,this.height()-2*this.externalPadding))),i=this.width()-2*this.externalPadding,this.dragsDropsAndEditingEnabled&&(i-=this.toolsPanel.width()+this.internalPadding),n=this.height()-2*this.externalPadding,o=this.dragsDropsAndEditingEnabled?this.toolsPanel.right()+this.internalPadding:this.left()+this.externalPadding,this.stretchableWidgetContainer.parent===this&&(this.stretchableWidgetContainer.fullRawMoveTo(new Point(o,t)),this.stretchableWidgetContainer.setExtent(new Point(i,n))),trackChanges.pop(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism&&world.alignIDsOfNextMorphsInSystemTests(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted()},window.SimpleSlideWdgt.instances=new Set,"function"==typeof window.SimpleSlideWdgt.initStaticConstsAfterClassDefinition&&window.SimpleSlideWdgt.initStaticConstsAfterClassDefinition(),window.DoubleLinkedList=function(){this.headNode=this.tailNode=nil,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DoubleLinkedList,"name",{value:"DoubleLinkedList"}),window.DoubleLinkedList.__super__=Object.prototype,window.DoubleLinkedList.prototype.remove=function(t){return t.pre?t.pre.next=t.next:this.headNode=t.next,t.next?t.next.pre=t.pre:this.tailNode=t.pre},window.DoubleLinkedList.prototype.insertBeginning=function(t){return this.headNode?(t.next=this.headNode,this.headNode.pre=t,this.headNode=t):this.headNode=this.tailNode=t},window.DoubleLinkedList.prototype.moveToHead=function(t){return this.remove(t),this.insertBeginning(t)},window.DoubleLinkedList.prototype.clear=function(){return this.headNode=this.tailNode=nil},window.DoubleLinkedList.instances=new Set,"function"==typeof window.DoubleLinkedList.initStaticConstsAfterClassDefinition&&window.DoubleLinkedList.initStaticConstsAfterClassDefinition(),window.LRUCache=function(t=10,e=6e4){this.capacity=t,this.maxAge=e,this._linkList=new DoubleLinkedList,this.reset(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.LRUCache,"name",{value:"LRUCache"}),window.LRUCache.__super__=Object.prototype,window.LRUCache.prototype.keys=function(){return Object.keys(this._hash)},window.LRUCache.prototype.remove=function(t){var e;if(null!=this._hash[t])return e=this._hash[t],this._linkList.remove(e),delete this._hash[t],e.data.onDispose&&e.data.onDispose.call(this,e.data.key,e.data.value),this.size--},window.LRUCache.prototype.reset=function(){return this._hash={},this.size=0,this._linkList.clear()},window.LRUCache.prototype.set=function(t,e,n){var o;if(o=this._hash[t])return o.data.value=e,o.data.onDispose=n,this._refreshNode(o);this.size===this.capacity&&this.remove(this._linkList.tailNode.data.key),(o=function(t,e,n){return{data:t,pre:e,next:n}}({key:t,value:e,onDispose:n})).data.lastVisitTime=Date.now(),this._linkList.insertBeginning(o),this._hash[t]=o,this.size++},window.LRUCache.prototype.get=function(t){var e;if(e=this._hash[t]){if(!this._isExpiredNode(e))return this._refreshNode(e),e.data.value;this.remove(t)}},window.LRUCache.prototype._refreshNode=function(t){return t.data.lastVisitTime=Date.now(),this._linkList.moveToHead(t)},window.LRUCache.prototype._isExpiredNode=function(t){return Date.now()-t.data.lastVisitTime>this.maxAge},window.LRUCache.prototype.has=function(t){return null!=this._hash[t]},window.LRUCache.instances=new Set,"function"==typeof window.LRUCache.initStaticConstsAfterClassDefinition&&window.LRUCache.initStaticConstsAfterClassDefinition(),window.Rectangle=function(t=0,e=0,n=0,o=0){"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof o?(this.origin=new Point(t,e),this.corner=new Point(n,o)):t instanceof Point&&"number"==typeof e&&"number"==typeof n?(this.origin=t,this.corner=new Point(e,n)):"number"==typeof t&&"number"==typeof e&&n instanceof Point?(this.origin=new Point(t,e),this.corner=n):t instanceof Point&&e instanceof Point?(this.origin=t,this.corner=e):t instanceof Point?(this.origin=t,this.corner=new Point(0,0)):t instanceof Rectangle&&(this.origin=t.origin,this.corner=e.origin),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Rectangle,"name",{value:"Rectangle"}),window.Rectangle.__super__=Object.prototype,window.Rectangle.augmentWith(window.DeepCopierMixin,"Rectangle"),window.Rectangle.prototype.origin=nil,window.Rectangle.prototype.corner=nil,window.Rectangle.prototype.toString=function(){return"["+this.origin+" | "+this.extent()+"]"},window.Rectangle.prototype.onlyContainingIntegers=function(){return Math.floor(this.origin.x)===this.origin.x&&Math.floor(this.origin.y)===this.origin.y&&Math.floor(this.corner.x)===this.corner.x&&Math.floor(this.corner.y)===this.corner.y},window.Rectangle.prototype.debugIfFloats=function(){},window.Rectangle.prototype.copy=function(){return this.debugIfFloats(),new this.constructor(this.left(),this.top(),this.right(),this.bottom())},window.Rectangle.prototype.setTo=function(t,e,n,o){return this.debugIfFloats(),this.origin=new Point(t||(0===t?0:this.left()),e||(0===e?0:this.top())),this.corner=new Point(n||(0===n?0:this.right()),o||(0===o?0:this.bottom()))},window.Rectangle.prototype.setBoundsWidthAndHeight=function(t,e){var n;return n=this.copy(),"number"==typeof t&&"number"==typeof e?n.corner=new Point(t+n.origin.x,e+n.origin.y):t instanceof Point&&(n.corner=new Point(t.x+n.origin.x,t.y+n.origin.y)),n},window.Rectangle.prototype.area=function(){var t;return this.debugIfFloats(),(t=this.width())<0?0:Math.max(t*this.height(),0)},window.Rectangle.prototype.bottom=function(){return this.debugIfFloats(),this.corner.y},window.Rectangle.prototype.bottomCenter=function(){return this.debugIfFloats(),new Point(this.center().x,this.bottom())},window.Rectangle.prototype.bottomLeft=function(){return this.debugIfFloats(),new Point(this.origin.x,this.corner.y)},window.Rectangle.prototype.bottomRight=function(){return this.debugIfFloats(),this.corner.copy()},window.Rectangle.prototype.boundingBox=function(){return this.debugIfFloats(),this},window.Rectangle.prototype.center=function(){return this.debugIfFloats(),this.origin.add(this.corner.subtract(this.origin).floorDivideBy(2))},window.Rectangle.prototype.extent=function(){return this.debugIfFloats(),this.corner.subtract(this.origin)},window.Rectangle.prototype.isEmpty=function(){return this.debugIfFloats(),this.width()<=0||this.height()<=0},window.Rectangle.prototype.isNotEmpty=function(){return!this.isEmpty()},window.Rectangle.prototype.height=function(){return this.debugIfFloats(),this.corner.y-this.origin.y},window.Rectangle.prototype.left=function(){return this.debugIfFloats(),this.origin.x},window.Rectangle.prototype.leftCenter=function(){return this.debugIfFloats(),new Point(this.left(),this.center().y)},window.Rectangle.prototype.right=function(){return this.debugIfFloats(),this.corner.x},window.Rectangle.prototype.rightCenter=function(){return this.debugIfFloats(),new Point(this.right(),this.center().y)},window.Rectangle.prototype.top=function(){return this.debugIfFloats(),this.origin.y},window.Rectangle.prototype.topCenter=function(){return this.debugIfFloats(),new Point(this.center().x,this.top())},window.Rectangle.prototype.topLeft=function(){return this.debugIfFloats(),this.origin},window.Rectangle.prototype.topRight=function(){return this.debugIfFloats(),new Point(this.corner.x,this.origin.y)},window.Rectangle.prototype.width=function(){return this.debugIfFloats(),this.corner.x-this.origin.x},window.Rectangle.prototype.position=function(){return this.debugIfFloats(),this.origin},window.Rectangle.prototype.equals=function(t){return null!=t&&(this.debugIfFloats(),this.origin.equals(t.origin)&&this.corner.equals(t.corner))},window.Rectangle.prototype.abs=function(){var t,e;return this.debugIfFloats(),e=this.origin.abs(),t=this.corner.max(e),e.corner(t)},window.Rectangle.prototype.insetBy=function(t){var e;return this.debugIfFloats(),(e=new this.constructor).origin=this.origin.add(t),e.corner=this.corner.subtract(t),e.debugIfFloats(),e},window.Rectangle.prototype.rightHalf=function(){var t;return this.debugIfFloats(),(t=new this.constructor).origin=this.origin.add(new Point(Math.round(this.width()/2),0)),t.corner=this.corner.copy(),t.debugIfFloats(),t},window.Rectangle.prototype.expandBy=function(t){var e;return this.debugIfFloats(),(e=new this.constructor).origin=this.origin.subtract(t),e.corner=this.corner.add(t),e.debugIfFloats(),e},window.Rectangle.prototype.growBy=function(t){var e;return this.debugIfFloats(),(e=new this.constructor).origin=this.origin.copy(),e.corner=this.corner.add(t),e.debugIfFloats(),e},window.Rectangle.prototype.intersect=function(t){var e,n,o;return this.debugIfFloats(),e=this.zeroIfNegative(),n=t.zeroIfNegative(),e.isEmpty()||n.isEmpty()?this.constructor.EMPTY:((o=new this.constructor).origin=e.origin.max(n.origin),o.corner=e.corner.min(n.corner),(o=o.zeroIfNegative()).debugIfFloats(),o)},window.Rectangle.prototype.zeroIfNegative=function(){return this.debugIfFloats(),this.isEmpty()?this.constructor.EMPTY:this},window.Rectangle.prototype.merge=function(t){var e,n,o;return this.debugIfFloats(),e=this.zeroIfNegative(),n=t.zeroIfNegative(),e.isEmpty()?n:n.isEmpty()?e:((o=new this.constructor).origin=e.origin.min(n.origin),o.corner=e.corner.max(t.corner),o.debugIfFloats(),o)},window.Rectangle.prototype.round=function(){return this.origin.round().corner(this.corner.round())},window.Rectangle.prototype.floor=function(){return this.origin.floor().corner(this.corner.floor())},window.Rectangle.prototype.ceil=function(){return this.origin.ceil().corner(this.corner.ceil())},window.Rectangle.prototype.spread=function(){return this.debugIfFloats(),this.origin.floor().corner(this.corner.ceil())},window.Rectangle.prototype.toLocalCoordinatesOf=function(t){return new this.constructor(this.origin.x-t.left(),this.origin.y-t.top(),this.corner.x-t.left(),this.corner.y-t.top())},window.Rectangle.prototype.containsPoint=function(t){return this.debugIfFloats(),this.origin.le(t)&&t.lt(this.corner)},window.Rectangle.prototype.containsRectangle=function(t){return this.debugIfFloats(),t.origin.ge(this.origin)&&t.corner.le(this.corner)},window.Rectangle.prototype.isIntersecting=function(t){var e,n;return this.debugIfFloats(),n=t.origin,(e=t.corner).x>=this.origin.x&&e.y>=this.origin.y&&n.x<=this.corner.x&&n.y<=this.corner.y},window.Rectangle.prototype.scaleBy=function(t){var e,n;return this.debugIfFloats(),n=this.origin.multiplyBy(t),e=this.corner.multiplyBy(t),new this.constructor(n.x,n.y,e.x,e.y)},window.Rectangle.prototype.translateBy=function(t){var e,n;return this.debugIfFloats(),n=this.origin.add(t),e=this.corner.add(t),new this.constructor(n.x,n.y,e.x,e.y)},window.Rectangle.prototype.translateTo=function(t){var e;return this.debugIfFloats(),e=this.corner,new this.constructor(t.x,t.y,e.x,e.y)},window.Rectangle.prototype.asArray=function(){return this.debugIfFloats(),[this.left(),this.top(),this.right(),this.bottom()]},window.Rectangle.prototype.asArray_xywh=function(){return this.debugIfFloats(),[this.left(),this.top(),this.width(),this.height()]},window.Rectangle.EMPTY=new Rectangle,window.Rectangle.instances=new Set,"function"==typeof window.Rectangle.initStaticConstsAfterClassDefinition&&window.Rectangle.initStaticConstsAfterClassDefinition(),window.BlinkerMorph=function(t=2){this.fps=t,world.steppingWdgts.add(this),BlinkerMorph.__super__.constructor.call(this),this.appearance=new RectangularAppearance(this),this.color=Color.BLACK,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BlinkerMorph,"name",{value:"BlinkerMorph"}),window.BlinkerMorph.__super__=window.Widget.prototype,window.BlinkerMorph=extend(window.BlinkerMorph,window.Widget),window.BlinkerMorph.prototype.step=function(){if("undefined"==typeof Automator||null===Automator||!Automator.animationsPacingControl||Automator.state===Automator.IDLE)return this.toggleVisibility()},window.BlinkerMorph.instances=new Set,"function"==typeof window.BlinkerMorph.initStaticConstsAfterClassDefinition&&window.BlinkerMorph.initStaticConstsAfterClassDefinition(),window.CanvasGlassTopWdgt=function(){CanvasGlassTopWdgt.__super__.constructor.apply(this,arguments),this.color=nil,this.isLockingToPanels=!0,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CanvasGlassTopWdgt,"name",{value:"CanvasGlassTopWdgt"}),window.CanvasGlassTopWdgt.__super__=window.CanvasMorph.prototype,window.CanvasGlassTopWdgt=extend(window.CanvasGlassTopWdgt,window.CanvasMorph),window.CanvasGlassTopWdgt.prototype.underlyingCanvasMorph=nil,window.CanvasGlassTopWdgt.prototype.defaultRejectDrags=!0,window.CanvasGlassTopWdgt.instances=new Set,"function"==typeof window.CanvasGlassTopWdgt.initStaticConstsAfterClassDefinition&&window.CanvasGlassTopWdgt.initStaticConstsAfterClassDefinition(),window.CaretMorph=function(t){var e;this.target=t,this.slot=this.target.text.length,CaretMorph.__super__.constructor.call(this),1===(null!=(e=this.target.undoHistory)?e.length:void 0)&&this.target.undoHistory[this.target.undoHistory.length-1].isJustFirstClickToPositionCursor&&(this.target.undoHistory=[]),this.minimumExtent=new Point(1,1),this.target instanceof TextMorph&&"left"!==this.target.alignment&&this.target.setAlignmentToLeft(),this.adjustAccordingToTargetText(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CaretMorph,"name",{value:"CaretMorph"}),window.CaretMorph.__super__=window.BlinkerMorph.prototype,window.CaretMorph=extend(window.CaretMorph,window.BlinkerMorph),window.CaretMorph.prototype.keyDownEventUsed=!1,window.CaretMorph.prototype.target=nil,window.CaretMorph.prototype.slot=nil,window.CaretMorph.prototype.viewPadding=1,window.CaretMorph.prototype.currentCaretFontSize=nil,window.CaretMorph.prototype.adjustAccordingToTargetText=function(){return this.updateDimension(),this.gotoSlot(this.slot)},window.CaretMorph.prototype.justBeforeBeingPainted=function(){return this.adjustAccordingToTargetText()},window.CaretMorph.prototype.updateDimension=function(){var t;if((t=fontHeight(this.target.actualFontSizeUsedInRendering()))!==this.currentCaretFontSize)return this.currentCaretFontSize=t,this.rawSetExtent(new Point(Math.max(Math.floor(t/20),1),t))},window.CaretMorph.prototype.processKeyPress=function(t,e,n,o,i,r){return this.keyDownEventUsed?(this.keyDownEventUsed=!1,this.updateDimension(),nil):(o?this.ctrl(t,n):r?this.cmd(t,n):this.insert(e,n),this.target.escalateEvent("reactToKeystroke",t,e,n,o,i,r),this.updateDimension())},window.CaretMorph.prototype.processKeyDown=function(t,e,n,o,i){if(this.keyDownEventUsed=!1,n)return this.ctrl(t,e),this.target.escalateEvent("reactToKeystroke",t,nil,e,n,o,i),void this.updateDimension();if(i)return this.cmd(t,e),this.target.escalateEvent("reactToKeystroke",t,nil,e,n,o,i),void this.updateDimension();switch(t){case 32:this.insert(" "),this.keyDownEventUsed=!0;break;case 37:this.goLeft(e),this.keyDownEventUsed=!0;break;case 39:this.goRight(e),this.keyDownEventUsed=!0;break;case 38:this.goUp(e),this.keyDownEventUsed=!0;break;case 40:this.goDown(e),this.keyDownEventUsed=!0;break;case 36:this.goHome(e),this.keyDownEventUsed=!0;break;case 35:this.goEnd(e),this.keyDownEventUsed=!0;break;case 46:this.deleteRight(),this.keyDownEventUsed=!0;break;case 8:this.deleteLeft(),this.keyDownEventUsed=!0;break;case 9:if(this.keyDownEventUsed=!0,null!=this.target){if(e)return this.target.backTab(this.target);if(!(this.target instanceof SimplePlainTextWdgt))return this.target.tab(this.target);this.insert("  "),this.keyDownEventUsed=!0}break;case 13:"StringMorph"===this.target.constructor.name||"StringMorph2"===this.target.constructor.name?this.accept():this.insert("\n"),this.keyDownEventUsed=!0;break;case 27:this.cancel(),this.keyDownEventUsed=!0}return this.target.escalateEvent("reactToKeystroke",t,nil,e,n,o,i),this.updateDimension()},window.CaretMorph.prototype.processCut=function(t){return world.outstandingTimerTriggeredOperationsCounter.push(!0),window.setTimeout(()=>(this.deleteLeft(),world.outstandingTimerTriggeredOperationsCounter.pop()),50,!0)},window.CaretMorph.prototype.processCopy=function(t){},window.CaretMorph.prototype.processPaste=function(t){return world.outstandingTimerTriggeredOperationsCounter.push(!0),window.setTimeout(()=>(this.insert(t),world.outstandingTimerTriggeredOperationsCounter.pop()),50,!0)},window.CaretMorph.prototype.gotoSlot=function(t,e){var n,o,i,r,s,a;if(i=this.target.text.length,this.slot=t<0?0:t>i?i:t,null!=(r=this.target.slotCoordinates(this.slot))&&(this.parent&&this.target.isScrollable&&(a=this.parent.right()-this.viewPadding,o=this.parent.left()+this.viewPadding,r.x>a&&(this.target.fullRawMoveLeftSideTo(this.target.left()+a-r.x),r.x=a),r.x<o&&(o=Math.min(this.parent.left(),o),this.target.fullRawMoveLeftSideTo(this.target.left()+o-r.x),r.x=o),this.target.right()<a&&a-this.target.width()<o&&(r.x+=a-this.target.right(),this.target.fullRawMoveRightSideTo(a))),this.show(),this.fullRawMoveTo(r.floor()),this.amIDirectlyInsideScrollPanelWdgt()&&this.target.isScrollable&&this.parent.parent.scrollCaretIntoView(this)),e&&0===(null!=(s=this.target.undoHistory)?s.length:void 0))return"function"==typeof(n=this.target).pushUndoState?n.pushUndoState(this.slot,!0):void 0},window.CaretMorph.prototype.goLeft=function(t){return t||null==this.target.firstSelectedSlot()?(this.updateSelection(t),this.gotoSlot(this.slot-1),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)):(this.gotoSlot(this.target.firstSelectedSlot()),this.updateSelection(t)),this.target.caretHorizPositionForVertMovement=this.slot},window.CaretMorph.prototype.goRight=function(t,e){return t||null==this.target.lastSelectedSlot()?(this.updateSelection(t),this.gotoSlot(this.slot+(e||1)),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)):(this.gotoSlot(this.target.lastSelectedSlot()),this.updateSelection(t)),this.target.caretHorizPositionForVertMovement=this.slot},window.CaretMorph.prototype.goUp=function(t){return t||null==this.target.lastSelectedSlot()?(this.updateSelection(t),this.gotoSlot(this.target.upFrom(this.slot)),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)):(this.gotoSlot(this.target.firstSelectedSlot()),this.updateSelection(t))},window.CaretMorph.prototype.goDown=function(t){return t||null==this.target.lastSelectedSlot()?(this.updateSelection(t),this.gotoSlot(this.target.downFrom(this.slot)),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)):(this.gotoSlot(this.target.lastSelectedSlot()),this.updateSelection(t))},window.CaretMorph.prototype.goHome=function(t){return this.updateSelection(t),this.gotoSlot(this.target.startOfLine(this.slot)),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)},window.CaretMorph.prototype.goEnd=function(t){return this.updateSelection(t),this.gotoSlot(this.target.endOfLine(this.slot)),this.updateSelection(t),this.clearSelectionIfStartAndEndMeet(t)},window.CaretMorph.prototype.gotoPos=function(t){var e;return e=this.target.slotAt(t),this.gotoSlot(e),this.show(),e},window.CaretMorph.prototype.clearSelectionIfStartAndEndMeet=function(t){if(t&&this.target.startMark===this.target.endMark)return this.target.clearSelection()},window.CaretMorph.prototype.updateSelection=function(t){return t?null==this.target.endMark&&null==this.target.startMark?this.target.selectBetween(this.slot,this.slot):this.target.endMark!==this.slot?this.target.setEndMark(this.slot):void 0:this.target.clearSelection()},window.CaretMorph.prototype.accept=function(){return world.stopEditing(),this.escalateEvent("accept",nil)},window.CaretMorph.prototype.cancel=function(){return world.stopEditing(),this.escalateEvent("cancel",nil)},window.CaretMorph.prototype.undo=function(t){var e,n;if(null!=this.target.undoHistory)if(t){if(null!=(e=this.target.popRedoState()))return this.bringTextAndCaretToState(e)}else if(this.target.undoHistory.length>1)return this.target.popUndoState(),n=this.target.undoHistory[this.target.undoHistory.length-1],this.bringTextAndCaretToState(n)},window.CaretMorph.prototype.bringTextAndCaretToState=function(t){return this.target.setText(t.textContent,nil,nil),this.gotoSlot(t.cursorPos),null!=t.selectionStart&&null!=t.selectionEnd?this.target.selectBetween(t.selectionStart,t.selectionEnd):this.target.clearSelection()},window.CaretMorph.prototype.insert=function(t,e){var n,o,i;if(!this.target.isNumeric||!isNaN(parseFloat(t))||"-"===t||"."===t)return"function"==typeof(n=this.target).pushUndoState&&n.pushUndoState(this.slot),""!==this.target.selection()&&(this.gotoSlot(this.target.firstSelectedSlot()),this.target.deleteSelection()),i=(i=this.target.text).slice(0,this.slot)+t+i.slice(this.slot),this.target.setText(i,nil,nil),this.goRight(!1,t.length),this.updateDimension(),"function"==typeof(o=this.target).pushUndoState?o.pushUndoState(this.slot):void 0},window.CaretMorph.prototype.ctrl=function(t,e){switch(t){case 97:case 65:return this.target.selectAll();case 90:return this.undo(e);case 123:return this.insert("{");case 125:return this.insert("}");case 91:return this.insert("[");case 93:return this.insert("]");case 64:return this.insert("@")}},window.CaretMorph.prototype.cmd=function(t,e){switch(t){case 65:return this.target.selectAll();case 90:return this.undo(e)}},window.CaretMorph.prototype.deleteRight=function(){var t;return""!==this.target.selection()?(this.gotoSlot(this.target.firstSelectedSlot()),this.target.deleteSelection()):(t=(t=this.target.text).slice(0,this.slot)+t.slice(this.slot+1),this.target.setText(t,nil,nil))},window.CaretMorph.prototype.deleteLeft=function(){var t;return this.target.selection()?(this.gotoSlot(this.target.firstSelectedSlot()),this.target.deleteSelection()):(t=this.target.text,this.target.setText(t.substring(0,this.slot-1)+t.substr(this.slot),nil,nil),this.goLeft()),this.updateSelection(!1),this.gotoSlot(this.slot),this.updateSelection(!1),this.clearSelectionIfStartAndEndMeet(!1)},window.CaretMorph.prototype.inspectKeyEvent=function(t){return this.inform("Key pressed: "+String.fromCharCode(t.charCode)+"\n------------------------\ncharCode: "+t.charCode+"\nkeyCode: "+t.keyCode+"\naltKey: "+t.altKey+"\nctrlKey: "+t.ctrlKey+"\ncmdKey: "+t.metaKey)},window.CaretMorph.instances=new Set,"function"==typeof window.CaretMorph.initStaticConstsAfterClassDefinition&&window.CaretMorph.initStaticConstsAfterClassDefinition(),window.CircleBoxMorph=function(){CircleBoxMorph.__super__.constructor.call(this),this.appearance=new CircleBoxyAppearance(this),this.silentRawSetExtent(new Point(20,100)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CircleBoxMorph,"name",{value:"CircleBoxMorph"}),window.CircleBoxMorph.__super__=window.Widget.prototype,window.CircleBoxMorph=extend(window.CircleBoxMorph,window.Widget),window.CircleBoxMorph.prototype.colloquialName=function(){return"circle-box"},window.CircleBoxMorph.prototype.autoOrientation=function(){return this.height()>this.width()?"vertical":"horizontal"},window.CircleBoxMorph.instances=new Set,"function"==typeof window.CircleBoxMorph.initStaticConstsAfterClassDefinition&&window.CircleBoxMorph.initStaticConstsAfterClassDefinition(),window.CircleBoxyAppearance=function(t){CircleBoxyAppearance.__super__.constructor.call(this,t),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CircleBoxyAppearance,"name",{value:"CircleBoxyAppearance"}),window.CircleBoxyAppearance.__super__=window.Appearance.prototype,window.CircleBoxyAppearance=extend(window.CircleBoxyAppearance,window.Appearance),window.CircleBoxyAppearance.prototype.autoOrientation=function(){return this.morph.height()>this.morph.width()?"vertical":"horizontal"},window.CircleBoxyAppearance.prototype.calculateKeyPoints=function(){var t,e,n,o,i,r;return"vertical"===this.autoOrientation()?(n=this.morph.width()/2,i=this.morph.center().x,t=new Point(i,this.morph.top()+n).round(),e=new Point(i,this.morph.bottom()-n).round(),o=this.morph.topLeft().add(new Point(0,n)).corner(this.morph.bottomRight().subtract(new Point(0,n)))):(n=this.morph.height()/2,r=this.morph.center().y,t=new Point(this.morph.left()+n,r).round(),e=new Point(this.morph.right()-n,r).round(),o=this.morph.topLeft().add(new Point(n,0)).corner(this.morph.bottomRight().subtract(new Point(n,0)))),[n,t,e,o]},window.CircleBoxyAppearance.prototype.isTransparentAt=function(t){var e,n,o,i;return!this.morph.boundsContainPoint(t)||([o,e,n,i]=this.calculateKeyPoints(),!(e.distanceTo(t)<o||n.distanceTo(t)<o||i.containsPoint(t)))},window.CircleBoxyAppearance.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h,p,c,w,u,g,f;return this.morph.preliminaryCheckNothingToDraw(e,t)?nil:([i,u,g,o,r,f,d]=this.morph.calculateKeyValues(t,e),f<1||d<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,f,d),t.globalAlpha=(null!=n?n.alpha:1)*this.morph.alpha,t.useLogicalPixelsUntilRestore(),h=this.morph.position(),t.translate(h.x,h.y),[c,s,a,w]=this.calculateKeyPoints(),p=[s.toLocalCoordinatesOf(this.morph),a.toLocalCoordinatesOf(this.morph)],l=this.morph.color,t.fillStyle=null!=n?"black":l.toString(),t.beginPath(),t.arc(p[0].x,p[0].y,c,0,2*Math.PI),t.arc(p[1].x,p[1].y,c,0,2*Math.PI),w=(w=w.floor()).toLocalCoordinatesOf(this.morph),t.moveTo(w.origin.x,w.origin.y),t.lineTo(w.origin.x+w.width(),w.origin.y),t.lineTo(w.origin.x+w.width(),w.origin.y+w.height()),t.lineTo(w.origin.x,w.origin.y+w.height()),t.closePath(),t.fill(),t.restore(),this.paintHighlight(t,o,r,f)))},window.CircleBoxyAppearance.instances=new Set,"function"==typeof window.CircleBoxyAppearance.initStaticConstsAfterClassDefinition&&window.CircleBoxyAppearance.initStaticConstsAfterClassDefinition(),window.ClippingBoxMorph=function(){window.ClippingBoxMorph.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ClippingBoxMorph,"name",{value:"ClippingBoxMorph"}),window.ClippingBoxMorph.__super__=window.BoxMorph.prototype,window.ClippingBoxMorph=extend(window.ClippingBoxMorph,window.BoxMorph),window.ClippingBoxMorph.augmentWith(window.ClippingAtRectangularBoundsMixin,"ClippingBoxMorph"),window.ClippingBoxMorph.instances=new Set,"function"==typeof window.ClippingBoxMorph.initStaticConstsAfterClassDefinition&&window.ClippingBoxMorph.initStaticConstsAfterClassDefinition(),window.MenuAppearance=function(){window.MenuAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MenuAppearance,"name",{value:"MenuAppearance"}),window.MenuAppearance.__super__=window.BoxyAppearance.prototype,window.MenuAppearance=extend(window.MenuAppearance,window.BoxyAppearance),window.MenuAppearance.prototype.nothing=nil,window.MenuAppearance.instances=new Set,"function"==typeof window.MenuAppearance.initStaticConstsAfterClassDefinition&&window.MenuAppearance.initStaticConstsAfterClassDefinition(),window.MenuHeader=function(t){MenuHeader.__super__.constructor.call(this,3),this.color=WorldMorph.preferencesAndSettings.menuHeaderColor,this.text=new TextMorph(t,this.fontSize||WorldMorph.preferencesAndSettings.menuHeaderFontSize,WorldMorph.preferencesAndSettings.menuFontName,WorldMorph.preferencesAndSettings.menuHeaderBold,!1,"center"),this.text.alignment="center",this.text.color=Color.WHITE,this.text.backgroundColor=this.color,this.add(this.text),this.rawSetExtent(this.text.extent().add(2)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MenuHeader,"name",{value:"MenuHeader"}),window.MenuHeader.__super__=window.BoxMorph.prototype,window.MenuHeader=extend(window.MenuHeader,window.BoxMorph),window.MenuHeader.prototype.text=nil,window.MenuHeader.prototype.rawSetWidth=function(t){return MenuHeader.__super__.rawSetWidth.apply(this,arguments),this.text.fullRawMoveTo(this.center().subtract(this.text.extent().floorDivideBy(2)))},window.MenuHeader.prototype.mouseClickLeft=function(){var t;if(MenuHeader.__super__.mouseClickLeft.apply(this,arguments),null!=this.parent)return null!=(t=this.firstParentThatIsAPopUp())?t.pinPopUp(this):void 0},window.MenuHeader.instances=new Set,"function"==typeof window.MenuHeader.initStaticConstsAfterClassDefinition&&window.MenuHeader.initStaticConstsAfterClassDefinition(),window.TriggerMorph=function(t=!0,e=nil,n=nil,o=nil,i=WorldMorph.preferencesAndSettings.menuFontSize,r="sans-serif",s=!1,a=nil,l,d=nil,h=WorldMorph.preferencesAndSettings.menuButtonsLabelColor,p=!1,c=!1,w=nil,u=nil,g=nil,f=!1){this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=t,this.target=e,this.action=n,this.labelString=o,this.fontSize=i,this.fontStyle=r,this.centered=s,this.dataSourceMorphForTarget=a,this.morphEnv=l,this.toolTipMessage=d,this.labelColor=h,this.labelBold=p,this.labelItalic=c,this.doubleClickAction=w,this.argumentToAction1=u,this.argumentToAction2=g,this.representsAMorph=f,TriggerMorph.__super__.constructor.call(this),this.defaultRejectDrags=!0,this.color=WorldMorph.preferencesAndSettings.menuBackgroundColor,null!=this.labelString&&this.layoutSubmorphs(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TriggerMorph,"name",{value:"TriggerMorph"}),window.TriggerMorph.__super__=window.Widget.prototype,window.TriggerMorph=extend(window.TriggerMorph,window.Widget),window.TriggerMorph.prototype.target=nil,window.TriggerMorph.prototype.action=nil,window.TriggerMorph.prototype.dataSourceMorphForTarget=nil,window.TriggerMorph.prototype.morphEnv=nil,window.TriggerMorph.prototype.label=nil,window.TriggerMorph.prototype.labelString=nil,window.TriggerMorph.prototype.labelColor=nil,window.TriggerMorph.prototype.labelBold=nil,window.TriggerMorph.prototype.labelItalic=nil,window.TriggerMorph.prototype.doubleClickAction=nil,window.TriggerMorph.prototype.argumentToAction1=nil,window.TriggerMorph.prototype.argumentToAction2=nil,window.TriggerMorph.prototype.toolTipMessage=nil,window.TriggerMorph.prototype.fontSize=nil,window.TriggerMorph.prototype.fontStyle=nil,window.TriggerMorph.prototype.highlightColor=new Color(192,192,192),window.TriggerMorph.prototype.pressColor=new Color(128,128,128),window.TriggerMorph.prototype.centered=!1,window.TriggerMorph.prototype.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked=!0,window.TriggerMorph.prototype.representsAMorph=!1,window.TriggerMorph.prototype.state=0,window.TriggerMorph.prototype.STATE_NORMAL=0,window.TriggerMorph.prototype.STATE_HIGHLIGHTED=1,window.TriggerMorph.prototype.STATE_PRESSED=2,window.TriggerMorph.prototype.layoutSubmorphs=function(t=nil){if(TriggerMorph.__super__.layoutSubmorphs.call(this),null==this.label&&this.createLabel(),this.centered)return this.label.fullRawMoveTo(this.center().subtract(this.label.extent().floorDivideBy(2)))},window.TriggerMorph.prototype.getTextDescription=function(){return null!=this.textDescription?this.textDescription+" (adhoc description of button)":this.labelString?this.labelString.replace(/#\d*/,"")+" (text in button)":TriggerMorph.__super__.getTextDescription.call(this)},window.TriggerMorph.prototype.setLabel=function(t){return this.labelString=t,null!=this.label&&(this.label=this.label.fullDestroy()),this.layoutSubmorphs()},window.TriggerMorph.prototype.alignCenter=function(){if(!this.centered)return this.centered=!0,this.layoutSubmorphs()},window.TriggerMorph.prototype.alignLeft=function(){if(this.centered)return this.centered=!1,this.layoutSubmorphs()},window.TriggerMorph.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;return!this.visibleBasedOnIsVisibleProperty()||this.isCollapsed()?nil:([i,l,d,o,r,h,a]=this.calculateKeyValues(t,e),h<1||a<1||i.isEmpty()?nil:(s=null!=n?"black":function(){switch(this.state){case this.STATE_NORMAL:return this.color;case this.STATE_HIGHLIGHTED:return this.highlightColor;case this.STATE_PRESSED:return this.pressColor}}.call(this),this.paintRectangle(t,o,r,h,a,s,this.alpha,!0,n),this.paintHighlight(t,o,r,h,a)))},window.TriggerMorph.prototype.createLabel=function(){return this.label=new StringMorph(this.labelString||"",this.fontSize,this.fontStyle,this.labelBold,this.labelItalic,!1,this.labelColor),this.add(this.label)},window.TriggerMorph.prototype.rejectDrags=function(){return!(this.parent instanceof WorldMorph)&&this.defaultRejectDrags},window.TriggerMorph.prototype.trigger=function(){this.action&&""!==this.action&&this.target[this.action].call(this.target,this.dataSourceMorphForTarget,this.morphEnv,this.argumentToAction1,this.argumentToAction2)},window.TriggerMorph.prototype.triggerDoubleClick=function(){if(this.doubleClickAction)return this.target[this.doubleClickAction]()},window.TriggerMorph.prototype.mouseEnter=function(){if(this.state=this.STATE_HIGHLIGHTED,this.changed(),this.toolTipMessage)return this.startCountdownForBubbleHelp(this.toolTipMessage)},window.TriggerMorph.prototype.justBeenCopied=function(){return this.mouseLeave()},window.TriggerMorph.prototype.mouseLeave=function(){if(this.state=this.STATE_NORMAL,this.changed(),this.toolTipMessage)return world.destroyToolTips()},window.TriggerMorph.prototype.mouseDownLeft=function(){return this.state=this.STATE_PRESSED,this.changed(),TriggerMorph.__super__.mouseDownLeft.apply(this,arguments)},window.TriggerMorph.prototype.mouseClickLeft=function(){return this.bringToForeground(),this.state=this.STATE_HIGHLIGHTED,this.changed(),this.ifInsidePopUpThenClosesUnpinnedPopUpsWhenClicked&&this.propagateKillPopUps(),this.trigger()},window.TriggerMorph.prototype.mouseDoubleClick=function(){return this.triggerDoubleClick()},window.TriggerMorph.instances=new Set,"function"==typeof window.TriggerMorph.initStaticConstsAfterClassDefinition&&window.TriggerMorph.initStaticConstsAfterClassDefinition(),window.MenuItemMorph=function(t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f){MenuItemMorph.__super__.constructor.call(this,t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f),this.actionableAsThumbnail=!0,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MenuItemMorph,"name",{value:"MenuItemMorph"}),window.MenuItemMorph.__super__=window.TriggerMorph.prototype,window.MenuItemMorph=extend(window.MenuItemMorph,window.TriggerMorph),window.MenuItemMorph.prototype.getTextDescription=function(){return null!=this.textDescription?this.textDescription+" (adhoc description of menu item)":this.labelString?this.labelString.replace(/#\d*/,"")+" (text in button)":MenuItemMorph.__super__.getTextDescription.call(this)},window.MenuItemMorph.prototype.isTicked=function(){return this.label.text.isTicked()},window.MenuItemMorph.prototype.toggleTick=function(){return this.label.text.isTicked()||this.label.text.isUnticked()?(this.label.text=this.label.text.toggleTick(),this.label.reLayout(),this.label.changed()):void 0},window.MenuItemMorph.prototype.createLabel=function(){var t,e,n,o;return isString(this.labelString)?this.label=this.createLabelString(this.labelString):this.labelString instanceof Array?(this.label=new Widget,this.label.alpha=0,t=this.createIcon(this.labelString[0]),this.label.add(t),e=this.createLabelString(this.labelString[1]),this.label.add(e),e.fullRawMoveCenterTo(t.center()),e.fullRawMoveLeftSideTo(t.right()+4),this.label.rawSetBounds(t.boundingBox().merge(e.boundingBox()))):this.label=this.createIcon(this.labelString),this.add(this.label),o=this.width(),this.silentRawSetExtent(this.label.extent().add(new Point(8,0))),this.silentRawSetWidth(o),n=this.position().add(new Point(4,0)),this.label.silentFullRawMoveTo(n)},window.MenuItemMorph.prototype.createLabelString=function(t){var e;return(e=new TextMorph(t,this.fontSize,this.fontStyle)).setColor(this.labelColor),e},window.MenuItemMorph.prototype.shrinkToTextSize=function(){return this.rawSetWidth(this.widthOfLabel()+5)},window.MenuItemMorph.prototype.widthOfLabel=function(){return this.label.width()},window.MenuItemMorph.prototype.mouseEnter=function(){if(this.representsAMorph&&(null!=this.argumentToAction1?this.argumentToAction1:this.target).turnOnHighlight(),this.isListItem()||(this.state=this.STATE_HIGHLIGHTED,this.changed()),this.toolTipMessage)return this.startCountdownForBubbleHelp(this.toolTipMessage)},window.MenuItemMorph.prototype.mouseLeave=function(){if(this.representsAMorph&&(null!=this.argumentToAction1?this.argumentToAction1:this.target).turnOffHighlight(),this.isListItem()||(this.state=this.STATE_NORMAL,this.changed()),this.toolTipMessage)return world.destroyToolTips()},window.MenuItemMorph.prototype.mouseDownLeft=function(t){return this.isListItem()&&(this.parent.unselectAllItems(),this.escalateEvent("mouseDownLeft",t)),this.state=this.STATE_PRESSED,this.changed(),MenuItemMorph.__super__.mouseDownLeft.apply(this,arguments)},window.MenuItemMorph.prototype.isListItem=function(){return!!this.parent&&this.parent.isListContents},window.MenuItemMorph.instances=new Set,"function"==typeof window.MenuItemMorph.initStaticConstsAfterClassDefinition&&window.MenuItemMorph.initStaticConstsAfterClassDefinition(),window.MenusHelper=function(){window.MenusHelper.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.MenusHelper,"name",{value:"MenusHelper"}),window.MenusHelper.__super__=Object.prototype,window.MenusHelper.augmentWith(window.DeepCopierMixin,"MenusHelper"),window.MenusHelper.prototype.popUpDevToolsMenu=function(t,e){var n;return(n=new MenuMorph(t,!1,this,!0,!0,"Dev Tools")).addMenuItem("inspect",!0,e,"inspect2","open a window\non all properties"),n.addMenuItem("console",!0,e,"createConsole","console"),n.popUpAtHand()},window.MenusHelper.prototype.basementIconAndText=function(){return world.add(new BasementOpenerWdgt)},window.MenusHelper.prototype.newScriptWindow=function(){var t,e;return t=new ScriptWdgt,(e=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),e.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),e.fullRawMoveWithin(world),world.add(e),e.changed()},window.MenusHelper.prototype.createFizzyPaintLauncher=function(){var t,e,n;return(e=new ScriptWdgt("reconfPaint = new ReconfigurablePaintWdgt\nwm = new WindowWdgt nil, nil, reconfPaint\nwm.setExtent new Point 460, 400\nwm.fullRawMoveTo new Point 174, 114\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createDrawingsMakerOneOffInfoWindowNextTo wm")).saveScript(),(n=new WindowWdgt(nil,nil,e)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),t=new IconicDesktopSystemScriptShortcutWdgt(n,"Draw",new PaintBucketIconWdgt),world.add(t),t.setExtent(new Point(75,75)),t.fullChanged(),n},window.MenusHelper.prototype.createFizzyPaintLauncherAndItsIcon=function(){var t;return t=this.createFizzyPaintLauncher(),world.add(t)},window.MenusHelper.prototype.createSimpleDocumentLauncher=function(){var t,e,n;return(t=new ScriptWdgt("reconfPaint = new SimpleDocumentWdgt\nwm = new WindowWdgt nil, nil, reconfPaint\nwm.setExtent new Point 370, 395\nwm.fullRawMoveTo new Point 170, 88\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createDocsMakerOneOffInfoWindowNextTo wm")).saveScript(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),e=new IconicDesktopSystemScriptShortcutWdgt(n,"Docs Maker",new TypewriterIconWdgt),world.add(e),e.setExtent(new Point(75,75)),e.fullChanged(),n},window.MenusHelper.prototype.createSimpleDocumentLauncherAndItsIcon=function(){var t;return t=this.createSimpleDocumentLauncher(),world.add(t)},window.MenusHelper.prototype.createSimpleSlideLauncher=function(){var t,e,n;return(t=new ScriptWdgt("reconfPaint = new SimpleSlideWdgt\nwm = new WindowWdgt nil, nil, reconfPaint\nwm.setExtent new Point 460, 400\nwm.fullRawMoveTo new Point 168, 134\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n \nmenusHelper.createSlidesMakerOneOffInfoWindowNextTo wm\n")).saveScript(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),e=new IconicDesktopSystemScriptShortcutWdgt(n,"Slides Maker",new SimpleSlideIconWdgt),world.add(e),e.setExtent(new Point(75,75)),e.fullChanged(),n},window.MenusHelper.prototype.createSimpleSlideLauncherAndItsIcon=function(){var t;return t=this.createSimpleSlideLauncher(),world.add(t)},window.MenusHelper.prototype.createDashboardsLauncher=function(){var t,e,n;return(t=new ScriptWdgt("reconfPaint = new DashboardsWdgt\nwm = new WindowWdgt nil, nil, reconfPaint\nwm.setExtent new Point 460, 400\nwm.fullRawMoveTo world.hand.position()\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createDashboardsMakerOneOffInfoWindowNextTo wm")).saveScript(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),e=new IconicDesktopSystemScriptShortcutWdgt(n,"Dashboards",new DashboardsIconWdgt),world.add(e),e.setExtent(new Point(75,75)),e.fullChanged(),n},window.MenusHelper.prototype.createPatchProgrammingLauncher=function(){var t,e,n;return(e=new ScriptWdgt("patchProgramming = new PatchProgrammingWdgt\nwm = new WindowWdgt nil, nil, patchProgramming\nwm.setExtent new Point 460, 400\nwm.fullRawMoveTo world.hand.position()\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createPatchProgrammingOneOffInfoWindowNextTo wm")).saveScript(),(n=new WindowWdgt(nil,nil,e)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),t=new IconicDesktopSystemScriptShortcutWdgt(n,"Patch progr.",new PatchProgrammingIconWdgt),world.add(t),t.setExtent(new Point(75,75)),t.fullChanged(),n},window.MenusHelper.prototype.createGenericPanelLauncher=function(){var t,e,n;return(e=new ScriptWdgt("genericPanel = new StretchableEditableWdgt\nwm = new WindowWdgt nil, nil, genericPanel\nwm.setExtent new Point 460, 400\nwm.fullRawMoveTo world.hand.position()\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createGenericPanelOneOffInfoWindowNextTo wm")).saveScript(),(n=new WindowWdgt(nil,nil,e)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),t=new IconicDesktopSystemScriptShortcutWdgt(n,"Generic panel",new GenericPanelIconWdgt),world.add(t),t.setExtent(new Point(75,75)),t.fullChanged(),n},window.MenusHelper.prototype.createToolbarsOpener=function(){var t,e,n;return(t=new ScriptWdgt("\n# tools -------------------------------\ntoolsPanel = new ScrollPanelWdgt new ToolPanelWdgt\n\ntoolsPanel.addMany [\n  new TextToolbarCreatorButtonWdgt\n  new UsefulTextSnippetsToolbarCreatorButtonWdgt\n  new SlidesToolbarCreatorButtonWdgt\n  new PlotsToolbarCreatorButtonWdgt\n  new PatchProgrammingComponentsToolbarCreatorButtonWdgt\n  new WindowsToolbarCreatorButtonWdgt\n]\n\ntoolsPanel.disableDragsDropsAndEditing()\n\nwm = new WindowWdgt nil, nil, toolsPanel\nwm.setExtent new Point 60, 261\nwm.fullRawMoveTo new Point 170, 170\nwm.fullRawMoveWithin world\nworld.add wm\nwm.changed()\n\nmenusHelper.createSuperToolbarOneOffInfoWindowNextTo wm\n")).saveScript(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),(e=new IconicDesktopSystemScriptShortcutWdgt(n,"Super Toolbar",new ToolbarsIconWdgt)).toolTipMessage="a toolbar to rule them all",world.add(e),e.setExtent(new Point(75,75)),e.fullChanged(),n},window.MenusHelper.prototype.createNewTemplatesWindow=function(){var t,e,n;return(t=new SimpleDocumentScrollPanelWdgt).rawSetExtent(new Point(365,335)),(e=new SimplePlainTextWdgt("Simply drag the items below into your document",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),e.setFontSize(18),e.isEditable=!0,e.enableSelecting(),t.setContents(e,5),(e=new ArrowSIconWdgt).rawSetExtent(new Point(25,25)),t.add(e),e.layoutSpecDetails.setAlignmentToCenter(),t.addDivider(),(e=new SimplePlainTextWdgt("Title",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),e.setFontName(nil,nil,e.georgiaFontStack),e.setFontSize(48),e.isEditable=!0,e.enableSelecting(),t.add(e),(e=new SimplePlainTextWdgt("Section X",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),e.isEditable=!0,e.enableSelecting(),e.setFontSize(28),t.add(e),(e=new SimplePlainTextWdgt("Section X.X",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).isEditable=!0,e.enableSelecting(),e.setFontSize(24),t.add(e),t.addNormalParagraph("Normal text."),(e=new SimplePlainTextWdgt("“Be careful--with quotations, you can damn anything.”\n― André Malraux",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleItalic(),e.alignRight(),e.isEditable=!0,e.enableSelecting(),t.add(e),t.addIndentedText("indentedText"),t.addBulletPoint("bullet point"),t.addCodeBlock("a code block with\n  some example\n    code in here"),(e=new SimplePlainTextWdgt("Spacers:",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),e.isEditable=!0,e.enableSelecting(),t.add(e),t.addSpacer(),t.addSpacer(2),t.addSpacer(3),(e=new SimplePlainTextWdgt("Divider line:",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),e.isEditable=!0,e.enableSelecting(),t.add(e),t.addDivider(),(e=new SimplePlainTextWdgt("Links:",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),e.isEditable=!0,e.enableSelecting(),t.add(e),(e=new SimpleLinkWdgt).rawSetExtent(new Point(405,50)),t.add(e),e.layoutSpecDetails.setAlignmentToRight(),(e=new SimpleVideoLinkWdgt).rawSetExtent(new Point(405,50)),t.add(e),e.layoutSpecDetails.setAlignmentToRight(),(e=new SimplePlainTextWdgt("Useful characters:",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),e.isEditable=!0,e.enableSelecting(),t.add(e),t.addNormalParagraph("… †‡§ ↵⏎⇧␣ ☐☑☒✓X✗ •‣⁃◦ °±⁻¹²³µ×÷ℓΩ√∛∜∝∞∟∠∡∩∪∿≈⊂⋅⌀▫◽◻□⩽⩾ ¼½¾⅛⅜⅝⅞ ←↑→↓↔↕↵⇎⇏⇑⇒⇓⇔⇕ ©®™ $£€¥").setFontSize(16),t.makeAllContentIntoTemplates(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(370,335)),n.setTitleWithoutPrependedContentName("useful snippets"),n.changed(),n},window.MenusHelper.prototype.createWelcomeMessageWindowAndShortcut=function(){var t,e,n,o,i;return(e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new FizzygumLogoIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Welcome to Fizzygum",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(24),o.isEditable=!0,o.enableSelecting(),e.add(o),(o=new SimplePlainTextWdgt("version 1.1.10",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(9),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Tired of stringing libraries together?"),e.addNormalParagraph("Welcome to a powerful new framework designed from the ground up to do complex things, easily."),e.addSpacer(),(o=new SimplePlainTextWdgt("What it can do for you",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Fizzygum enables you to do all of this and more:"),e.addBulletPoint("make dashboards and visualise data (plots, maps, ...)"),e.addBulletPoint("author, organise and navigate documents (drawings / text docs / slides)"),e.addBulletPoint("embed live graphs, dynamic calculations or even entire running programs inside any document, via simple drag & drop"),e.addBulletPoint("go beyond traditional embedding: you can now infinitely nest and compose programs and documents. Need a program inside a presentation inside a text? You have it"),e.addBulletPoint("make custom utilities (e.g. temperature converter) by simply connecting existing components - no coding required"),e.addBulletPoint("use the internal development tools to create entirely new apps, or change existing ones while they are running. Add custom features without even needing to refresh the page."),e.addBulletPoint("do all of the above, concurrently"),e.addSpacer(),(o=new SimplePlainTextWdgt("New here?",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Feel free to click around this sandbox. Double-click the items on the desktop to open them. Just reload to start again from scratch."),e.addSpacer(),e.addNormalParagraph("Also check out some screenshots here:"),(o=new SimpleLinkWdgt("Screenshots","http://fizzygum.org/screenshots/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),e.addNormalParagraph("...or watch some quick demos on the Youtube channel:"),(o=new SimpleVideoLinkWdgt("YouTube channel","https://www.youtube.com/channel/UCmYco9RU3h9dofRVN3bqxIw")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),e.addNormalParagraph("...or docs here:"),(o=new SimpleLinkWdgt("Docs","http://fizzygum.org/docs/intro/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),e.addSpacer(2),(o=new SimplePlainTextWdgt("Get in touch",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Mail? Mailing list? Facebook page? Twitter? Chat? We have it all."),(o=new SimpleLinkWdgt("Contacts","http://fizzygum.org/contact/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Welcome"),i.changed(),n.disableDragsDropsAndEditing(),t=new IconicDesktopSystemDocumentShortcutWdgt(i,"Welcome",new WelcomeIconWdgt),world.add(t),t.setExtent(new Point(75,75)),t.fullChanged()},window.MenusHelper.prototype.createSuperToolbarOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_superToolbar_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new ToolbarsIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Super Toolbar",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("The Super Toolbar can create all other toolbars for you, and from those toolbars you can create any widget.\n\nThis is handy because any widget can go in any document... so here is a way to access them all.\n\nFor an example on how this is useful, see the video on `mixing widgets`:"),(o=new SimpleVideoLinkWdgt("Mixing widgets","http://fizzygum.org/docs/mixing-widgets/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Super Toolbar info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_superToolbar_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createDocsMakerOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_docsMaker_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new TypewriterIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Docs Maker",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("A basic text editor. But you can drop anything inside it.\n\nNote that the Docs Maker works 'by paragraph': you can drag/drop paragraphs, and when you change the style the whole paragraph is affected.\n\nQuickest way to compose a document is to drag/drop snippets, which you can find by clicking the button that looks like this:"),(o=new GlassBoxBottomWdgt).add(new TemplatesButtonWdgt),o.rawSetExtent(new Point(50,50)),e.add(o),o.layoutSpecDetails.setAlignmentToCenter(),e.addSpacer(),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the video here:"),(o=new SimpleVideoLinkWdgt("Docs Maker","http://fizzygum.org/docs/documents-maker/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Docs Maker info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_docsMaker_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createDrawingsMakerOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_drawingsMaker_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new PaintBucketIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Drawings Maker",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Simple paint app. But you can drop anything inside it (try with the clock) to 'use it as a stamp'."),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the video here:"),(o=new SimpleVideoLinkWdgt("Draw app","http://fizzygum.org/docs/draw-app/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),e.addNormalParagraph("You can also edit the tools you use, by clicking on the pencil icon next to the tool."),e.addNormalParagraph("To see how an example of editing the tools, see this video:"),(o=new SimpleVideoLinkWdgt("Hacking Fizzygum","http://fizzygum.org/docs/hacking-fizzygum/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Drawings Maker info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_drawingsMaker_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createSlidesMakerOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_slidesMaker_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new SimpleSlideIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Slides Maker",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Anything you drop inside the slide 'keeps proportion' when resized, which makes it handy to put pins on maps, add callouts, arrange text in custom layouts etc."),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the video here:"),(o=new SimpleVideoLinkWdgt("Slides Maker","http://fizzygum.org/docs/slides-maker/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Slides Maker info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_slidesMaker_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createDashboardsMakerOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_dashboardsMaker_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new DashboardsIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Dashboards Maker",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Lets you arrange a choice of graphs/charts/plots/maps in any way you please. The visualisations can also be interactive (as in the 3D plot example, which you can drag to rotate) and/or calculated on the fly.\n\nOn the bar on the left you can find four example graphs and two example maps."),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the video here:"),(o=new SimpleVideoLinkWdgt("Dashboards Maker","http://fizzygum.org/docs/dashboards/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Dashboards Maker info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_dashboardsMaker_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createPatchProgrammingOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_patchProgramming_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new PatchProgrammingIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Patch Programming",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("'Patch programming' is a type of visual programming where you simply connect together existing widgets. It's useful to make simple applications/utilities quickly."),e.addNormalParagraph("You can imagine the widgets being 'patched together' by imaginary wires."),e.addNormalParagraph("You can see in the `example docs` folder a °C ↔ °F converter example made with this."),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the videos here:"),(o=new SimpleVideoLinkWdgt("Patch programming - basics","http://fizzygum.org/docs/basic-connections/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(o=new SimpleVideoLinkWdgt("Patch programming - advanced","http://fizzygum.org/docs/advanced-connections/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Patch Programming info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_patchProgramming_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createGenericPanelOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_genericPanel_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new GenericPanelIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Generic Panel",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("You can use this panel to temporarily hold widgets, or to put together any mix of widgets. It's just a more generic version of slides and dashboards."),e.addNormalParagraph("Once you are done editing, click the pencil icon on the window bar."),e.addNormalParagraph("To see an example of use, check out the video here:"),(o=new SimpleVideoLinkWdgt("Mixing widgets (using generic panels)","http://fizzygum.org/docs/mixing-widgets/")).rawSetExtent(new Point(405,50)),e.add(o),o.layoutSpecDetails.setAlignmentToRight(),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Generic Panels info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_genericPanel_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createBasementOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_basement_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new BasementIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Basement",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("Drag things in here to recycle them.\n\nClosed or invisible items also end up in here, and the items that can't be used again are automatically recycled."),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Basement info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_basement_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createWindowsToolbarOneOffInfoWindowNextTo=function(t){var e,n,o,i;return world.infoDoc_windowsToolbar_created?nil:((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(o=new WindowsToolbarIconWdgt).rawSetExtent(new Point(85,85)),e.setContents(o,5),o.layoutSpecDetails.setElasticity(0),o.layoutSpecDetails.setAlignmentToCenter(),(o=new SimplePlainTextWdgt("Types of windows",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),o.setFontSize(22),o.isEditable=!0,o.enableSelecting(),e.add(o),e.addDivider(),e.addNormalParagraph("There are four main types of windows"),e.addBulletPoint("empty windows, with a target area where you can drop other items in"),e.addBulletPoint("windows that crop their content"),e.addBulletPoint("windows with a scroll view on their content"),e.addBulletPoint("windows with an elastic panel, such that when resized the content will resize as well"),(i=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(365,405)),i.fullRawMoveFullCenterTo(world.center()),world.add(i),i.setTitleWithoutPrependedContentName("Windows info"),i.changed(),n.disableDragsDropsAndEditing(),world.infoDoc_windowsToolbar_created=!0,n.closeFromContainerWindow=function(t){return t.destroy()},i.fullRawMoveToSideOf(t),i.rememberFractionalSituationInHoldingPanel(),i)},window.MenusHelper.prototype.createDegreesConverterOpener=function(t){var e,n,o;return(n=new ScriptWdgt("\nmenusHelper.createDegreesConverterWindowOrBringItUpIfAlreadyCreated()\n\n")).saveScript(),(o=new WindowWdgt(nil,nil,n)).setExtent(new Point(460,400)),o.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),o.fullRawMoveWithin(world),o.changed(),(e=new IconicDesktopSystemScriptShortcutWdgt(o,"°C ↔ °F",new DegreesConverterIconWdgt)).setExtent(new Point(75,75)),null!=t?t.contents.contents.add(e):world.add(e),o},window.MenusHelper.prototype.createSampleDashboardOpener=function(t){var e,n,o;return(n=new ScriptWdgt("\nmenusHelper.createSampleDashboardWindowOrBringItUpIfAlreadyCreated()\n\n")).saveScript(),(o=new WindowWdgt(nil,nil,n)).setExtent(new Point(460,400)),o.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),o.fullRawMoveWithin(world),o.changed(),(e=new IconicDesktopSystemScriptShortcutWdgt(o,"sample dashb",new GenericShortcutIconWdgt(new DashboardsIconWdgt))).setExtent(new Point(75,75)),null!=t?t.contents.contents.add(e):world.add(e),o},window.MenusHelper.prototype.createSampleSlideOpener=function(t){var e,n,o;return(n=new ScriptWdgt("\nmenusHelper.createSampleSlideWindowOrBringItUpIfAlreadyCreated()\n\n")).saveScript(),(o=new WindowWdgt(nil,nil,n)).setExtent(new Point(460,400)),o.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),o.fullRawMoveWithin(world),o.changed(),(e=new IconicDesktopSystemScriptShortcutWdgt(o,"sample slide",new GenericShortcutIconWdgt(new SimpleSlideIconWdgt))).setExtent(new Point(75,75)),null!=t?t.contents.contents.add(e):world.add(e),o},window.MenusHelper.prototype.createSampleDocOpener=function(t){var e,n,o;return(n=new ScriptWdgt("\nmenusHelper.createSampleDocWindowOrBringItUpIfAlreadyCreated()\n\n")).saveScript(),(o=new WindowWdgt(nil,nil,n)).setExtent(new Point(460,400)),o.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),o.fullRawMoveWithin(world),o.changed(),(e=new IconicDesktopSystemScriptShortcutWdgt(o,"sample doc",new GenericShortcutIconWdgt(new TypewriterIconWdgt))).setExtent(new Point(75,75)),null!=t?t.contents.contents.add(e):world.add(e),o},window.MenusHelper.prototype.createSampleSlideWindowOrBringItUpIfAlreadyCreated=function(){var t,e,n,o,i,r,s,a,l;return null==world.sampleSlideWindow||world.sampleSlideWindow.destroyed||null==world.sampleSlideWindow.parent?((t=(i=new SimpleSlideWdgt).stretchableWidgetContainer.contents).rawSetExtent(new Point(575,454)),(a=new WindowWdgt(nil,nil,new ScrollPanelWdgt,!0,!0)).setTitleWithoutPrependedContentName("New York City"),a.fullRawMoveTo(t.position().add(new Point(28,43))),a.rawSetExtent(new Point(322,268)),t.add(a),a.rememberFractionalSituationInHoldingPanel(),(r=new SimpleUSAMapIconWdgt(new Color(183,183,183))).rawSetExtent(new Point(1808,1115)),a.contents.add(r),a.contents.scrollTo(new Point(1484,246)),r.rememberFractionalSituationInHoldingPanel(),n=new MapPinIconWdgt,a.contents.add(n),n.fullRawMoveTo(a.contents.contents.position().add(new Point(1606,343))),n.rememberFractionalSituationInHoldingPanel(),(o=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleBarPlotWdgt),!0,!0)).rawSetExtent(new Point(240,104)),a.contents.add(o),o.fullRawMoveTo(a.contents.contents.position().add(new Point(1566,420))),o.setTitleWithoutPrependedContentName("NYC: traffic"),a.contents.disableDragsDropsAndEditing(),(e=new TextMorph2("The City of New York, often called New York City or simply New York, is the most populous city in the United States. With an estimated 2017 population of 8,622,698 distributed over a land area of about 302.6 square miles (784 km2), New York City is also the most densely populated major city in the United States.")).fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,e.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,e.fullRawMoveTo(t.position().add(new Point(366,40))),e.rawSetExtent(new Point(176,387)),t.add(e),e.rememberFractionalSituationInHoldingPanel(),(s=new SimpleLinkWdgt("New York City Wikipedia page","https://en.wikipedia.org/wiki/New_York_City")).fullRawMoveTo(t.position().add(new Point(110,348))),s.rawSetExtent(new Point(250,50)),t.add(s),s.rememberFractionalSituationInHoldingPanel(),(l=new WindowWdgt(nil,nil,i)).fullRawMoveTo(new Point(114,10)),l.rawSetExtent(new Point(596,592)),world.add(l),l.setTitleWithoutPrependedContentName("Sample slide"),l.changed(),i.disableDragsDropsAndEditing(),i.closeFromContainerWindow=function(t){return t.close()},world.sampleSlideWindow=l):(world.add(world.sampleSlideWindow),world.sampleSlideWindow.bringToForeground(),world.sampleSlideWindow.fullRawMoveTo(world.hand.position().add(new Point(100,-50))),world.sampleSlideWindow.fullRawMoveWithin(world),void world.sampleSlideWindow.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createSampleDocWindowOrBringItUpIfAlreadyCreated=function(){var t,e,n,o,i,r;return null==world.sampleDocWindow||world.sampleDocWindow.destroyed||null==world.sampleDocWindow.parent?((e=(n=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),e.rawSetExtent(new Point(365,405)),(i=new SimplePlainTextWdgt("Sample Doc",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),i.setFontSize(22),i.isEditable=!0,i.enableSelecting(),e.setContents(i,5),e.addDivider(),e.addNormalParagraph("Text documents (or simply: docs) don't just contain text or images: they can embed any widget."),e.addNormalParagraph("For example, here is an interactive 3D plot:\n"),(t=new WindowWdgt(nil,nil,new Example3DPlotWdgt,!0,!0)).rawSetExtent(new Point(400,255)),t.contents.constrainToRatio(),e.add(t),e.addSpacer(),e.addNormalParagraph("Connected widgets can be added too, for example this slider below controls the data points of the graph above:\n"),(o=new SliderMorph(nil,nil,nil,nil,nil,!0)).rawSetExtent(new Point(400,24)),e.add(o),o.setTargetAndActionWithOnesPickedFromMenu(nil,nil,t.contents,"setParameter"),e.addSpacer(),e.addNormalParagraph("How to add connected widgets? Simple: just connect any number of them (see the °C ↔ °F converter for an example), then drop them in the doc."),e.addSpacer(),e.addNormalParagraph("What else could be added? Anything! Scripts, maps, maps inside scrolling views, maps with graphs, slides, other docs, and on and on and on..."),(r=new WindowWdgt(nil,nil,n)).rawSetExtent(new Point(331,545)),r.fullRawMoveTo(new Point(257,110)),world.add(r),r.setTitleWithoutPrependedContentName("Sample text document"),r.changed(),n.disableDragsDropsAndEditing(),n.closeFromContainerWindow=function(t){return t.close()},world.sampleDocWindow=r):(world.add(world.sampleDocWindow),world.sampleDocWindow.bringToForeground(),world.sampleDocWindow.fullRawMoveTo(world.hand.position().add(new Point(100,-50))),world.sampleDocWindow.fullRawMoveWithin(world),void world.sampleDocWindow.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createSampleDashboardWindowOrBringItUpIfAlreadyCreated=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f,T;return null==world.sampleDashboardWindow||world.sampleDashboardWindow.destroyed||null==world.sampleDashboardWindow.parent?((e=(p=new DashboardsWdgt).stretchableWidgetContainer.contents).rawSetExtent(new Point(725,556)),(h=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleScatterPlotWdgt),!0,!0)).fullRawMoveTo(e.position().add(new Point(19,86))),h.rawSetExtent(new Point(200,200)),e.add(h),h.rememberFractionalSituationInHoldingPanel(),(o=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleFunctionPlotWdgt),!0,!0)).fullRawMoveTo(e.position().add(new Point(251,86))),o.rawSetExtent(new Point(200,200)),e.add(o),o.rememberFractionalSituationInHoldingPanel(),(t=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleBarPlotWdgt),!0,!0)).fullRawMoveTo(e.position().add(new Point(19,327))),t.rawSetExtent(new Point(200,200)),e.add(t),t.rememberFractionalSituationInHoldingPanel(),(d=new WindowWdgt(nil,nil,new Example3DPlotWdgt,!0,!0)).fullRawMoveTo(e.position().add(new Point(491,327))),d.rawSetExtent(new Point(200,150)),e.add(d),d.rememberFractionalSituationInHoldingPanel(),(g=new SimpleUSAMapIconWdgt(new Color(183,183,183))).fullRawMoveTo(e.position().add(new Point(242,355))),g.rawSetExtent(new Point(230,145)),e.add(g),g.rememberFractionalSituationInHoldingPanel(),(i=new MapPinIconWdgt).fullRawMoveTo(e.position().add(new Point(226,376))),e.add(i),i.rememberFractionalSituationInHoldingPanel(),(r=new MapPinIconWdgt).fullRawMoveTo(e.position().add(new Point(289,363))),e.add(r),r.rememberFractionalSituationInHoldingPanel(),(s=new MapPinIconWdgt).fullRawMoveTo(e.position().add(new Point(323,397))),e.add(s),s.rememberFractionalSituationInHoldingPanel(),(a=new MapPinIconWdgt).fullRawMoveTo(e.position().add(new Point(360,421))),e.add(a),a.rememberFractionalSituationInHoldingPanel(),(l=new MapPinIconWdgt).fullRawMoveTo(e.position().add(new Point(417,374))),e.add(l),l.rememberFractionalSituationInHoldingPanel(),(T=new SimpleWorldMapIconWdgt(new Color(183,183,183))).fullRawMoveTo(e.position().add(new Point(464,128))),T.rawSetExtent(new Point(240,125)),e.add(T),T.rememberFractionalSituationInHoldingPanel(),(w=new SpeechBubbleWdgt("online")).fullRawMoveTo(e.position().add(new Point(506,123))),w.rawSetExtent(new Point(66,42)),e.add(w),w.rememberFractionalSituationInHoldingPanel(),(u=new SpeechBubbleWdgt("offline")).fullRawMoveTo(e.position().add(new Point(590,105))),u.rawSetExtent(new Point(66,42)),e.add(u),u.rememberFractionalSituationInHoldingPanel(),(n=new TextMorph2("Example dashboard with interactive 3D plot")).alignCenter(),n.alignMiddle(),n.fullRawMoveTo(e.position().add(new Point(161,6))),n.rawSetExtent(new Point(403,50)),e.add(n),n.rememberFractionalSituationInHoldingPanel(),(c=new SliderMorph(nil,nil,nil,nil,nil,!0)).fullRawMoveTo(e.position().add(new Point(491,484))),c.rawSetExtent(new Point(201,24)),e.add(c),c.rememberFractionalSituationInHoldingPanel(),c.setTargetAndActionWithOnesPickedFromMenu(nil,nil,d.contents,"setParameter"),(f=new WindowWdgt(nil,nil,p)).fullRawMoveTo(new Point(114,10)),f.rawSetExtent(new Point(596,592)),world.add(f),f.setTitleWithoutPrependedContentName("Sample dashboard"),f.changed(),p.disableDragsDropsAndEditing(),p.closeFromContainerWindow=function(t){return t.close()},world.sampleDashboardWindow=f):(world.add(world.sampleDashboardWindow),world.sampleDashboardWindow.bringToForeground(),world.sampleDashboardWindow.fullRawMoveTo(world.hand.position().add(new Point(100,-50))),world.sampleDashboardWindow.fullRawMoveWithin(world),void world.sampleDashboardWindow.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createDegreesConverterWindowOrBringItUpIfAlreadyCreated=function(){var t,e,n,o,i,r,s,a,l,d,h;return null==world.degreesConverterWindow||world.degreesConverterWindow.destroyed||null==world.degreesConverterWindow.parent?(32,50,(i=(a=new PatchProgrammingWdgt).stretchableWidgetContainer.contents).rawSetExtent(new Point(584,552)),(l=new SliderMorph(nil,nil,nil,nil,nil,!0)).fullRawMoveTo(i.position().add(new Point(75,245))),l.rawSetExtent(new Point(20,100)),i.add(l),l.rememberFractionalSituationInHoldingPanel(),(d=new SliderMorph(nil,nil,nil,nil,nil,!0)).fullRawMoveTo(i.position().add(new Point(504,253))),d.rawSetExtent(new Point(20,100)),i.add(d),d.rememberFractionalSituationInHoldingPanel(),(e=new TextMorph2("0")).fullRawMoveTo(i.position().add(new Point(104,253))),e.rawSetExtent(new Point(150,75)),i.add(e),e.rememberFractionalSituationInHoldingPanel(),(s=new TextMorph2("0")).fullRawMoveTo(i.position().add(new Point(344,255))),s.alignRight(),s.rawSetExtent(new Point(150,75)),i.add(s),s.rememberFractionalSituationInHoldingPanel(),(n=new WindowWdgt(nil,nil,new CalculatingPatchNodeWdgt("# °C → °F formula\n(in1)->Math.round in1*9/5+32"),!0)).fullRawMoveTo(i.position().add(new Point(164,19))),n.rawSetExtent(new Point(241,167)),i.add(n),n.rememberFractionalSituationInHoldingPanel(),(o=new WindowWdgt(nil,nil,new CalculatingPatchNodeWdgt("# °F → °C formula\n(in1)->Math.round (in1-32)*5/9"),!0)).fullRawMoveTo(i.position().add(new Point(164,365))),o.rawSetExtent(new Point(241,167)),i.add(o),o.rememberFractionalSituationInHoldingPanel(),l.setTargetAndActionWithOnesPickedFromMenu(nil,nil,e,"setText"),e.setTargetAndActionWithOnesPickedFromMenu(nil,nil,n.contents,"setInput1"),n.contents.setTargetAndActionWithOnesPickedFromMenu(nil,nil,s,"setText"),s.setTargetAndActionWithOnesPickedFromMenu(nil,nil,d,"setValue"),d.setTargetAndActionWithOnesPickedFromMenu(nil,nil,o.contents,"setInput1"),o.contents.setTargetAndActionWithOnesPickedFromMenu(nil,nil,l,"setValue"),(t=new TextMorph2("°C")).fullRawMoveTo(i.position().add(new Point(32,152))),t.rawSetExtent(new Point(90,90)),i.add(t),t.rememberFractionalSituationInHoldingPanel(),(r=new TextMorph2("°F")).fullRawMoveTo(i.position().add(new Point(454,152))),r.rawSetExtent(new Point(90,90)),i.add(r),r.rememberFractionalSituationInHoldingPanel(),(h=new WindowWdgt(nil,nil,a)).fullRawMoveTo(new Point(114,10)),h.rawSetExtent(new Point(596,592)),world.add(h),h.setTitleWithoutPrependedContentName("°C ↔ °F converter"),h.changed(),a.disableDragsDropsAndEditing(),e.isEditable=!0,s.isEditable=!0,a.closeFromContainerWindow=function(t){return t.close()},world.degreesConverterWindow=h):(world.add(world.degreesConverterWindow),world.degreesConverterWindow.bringToForeground(),world.degreesConverterWindow.fullRawMoveTo(world.hand.position().add(new Point(100,-50))),world.degreesConverterWindow.fullRawMoveWithin(world),void world.degreesConverterWindow.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.prototype.createHowToSaveMessageOpener=function(){var t,e,n;return(t=new ScriptWdgt("\nmenusHelper.createHowToSaveMessageWindowOrBringItUpIfAlreadyCreated()\n\n")).saveScript(),(n=new WindowWdgt(nil,nil,t)).setExtent(new Point(460,400)),n.fullRawMoveTo(world.hand.position().subtract(new Point(50,100))),n.fullRawMoveWithin(world),n.changed(),e=new IconicDesktopSystemScriptShortcutWdgt(n,"How to save?",new FloppyDiskIconWdgt),world.add(e),e.setExtent(new Point(75,75)),e.fullChanged(),n},window.MenusHelper.prototype.createHowToSaveMessageWindowOrBringItUpIfAlreadyCreated=function(){var t,e,n,o;return null==world.howToSaveDocWindow||world.howToSaveDocWindow.destroyed||null==world.howToSaveDocWindow.parent?((t=(e=new SimpleDocumentWdgt).simpleDocumentScrollPanel).fullRawMoveTo(new Point(114,10)),t.rawSetExtent(new Point(365,405)),(n=new FloppyDiskIconWdgt).rawSetExtent(new Point(85,85)),t.setContents(n,5),n.layoutSpecDetails.setElasticity(0),n.layoutSpecDetails.setAlignmentToCenter(),(n=new SimplePlainTextWdgt("How to save?",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).alignCenter(),n.setFontSize(24),n.isEditable=!0,n.enableSelecting(),t.add(n),t.addDivider(),t.addNormalParagraph("There are a couple of ways to save data in Fizzygum.¹\n\nHowever, \"in-house\" stable saving solutions are only available in private versions.²\n\nIn the meantime that these solutions make their way into the public version, the Fizzygum team can consult for you to tailor 'saving' functionality to your needs (save to file, save to cloud, connect to databases etc. ).\n\nPlease enquiry via one of the Fizzygum contacts here:"),t.addSpacer(),(n=new SimpleLinkWdgt("Contacts","http://fizzygum.org/contact/")).rawSetExtent(new Point(405,50)),t.add(n),n.layoutSpecDetails.setAlignmentToRight(),t.addSpacer(),(n=new SimplePlainTextWdgt("Footnotes",nil,nil,nil,nil,nil,WorldMorph.preferencesAndSettings.editableItemBackgroundColor,1)).toggleWeight(),n.isEditable=!0,n.enableSelecting(),n.toggleHeaderLine(),t.add(n),t.addSpacer(),t.addNormalParagraph('¹ Saving solutions:\n1) saving data with existing formats (e.g. markdown etc.). Advantages: compatibility. Disadvantages: works only with "plain" documents (no live documents, no documents within documents etc.)\n2) serialising objects graph. Advantages: fidelity. Disadvantages: needs some management of versioning of Fizzygum platform and documents\n3) deducing source code to generate content. Advantages: compactness, inspectability of source code, high-level semantics of source code preserved. Disadvantages: only possible with relatively simple objects.\n\n² Why private beta:\nProliferation of saving solutions done without our help could be detrimental to the Fizzygum platform (due to degraded experience on third party sites, incompatibilities between sites, migration issues, security issues, etc.), hence the Fizzygum team decided to withhold this functionality from public until we can package an open turn-key solution that minimises misuse and sub-par experiences.'),(o=new WindowWdgt(nil,nil,e)).fullRawMoveTo(new Point(114,10)),o.rawSetExtent(new Point(365,447)),world.add(o),o.rememberFractionalSituationInHoldingPanel(),o.setTitleWithoutPrependedContentName("How to save?"),o.changed(),e.disableDragsDropsAndEditing(),e.closeFromContainerWindow=function(t){return t.close()},world.howToSaveDocWindow=o):(world.add(world.howToSaveDocWindow),world.howToSaveDocWindow.bringToForeground(),world.howToSaveDocWindow.fullRawMoveTo(world.hand.position().add(new Point(100,-50))),world.howToSaveDocWindow.fullRawMoveWithin(world),void world.howToSaveDocWindow.rememberFractionalSituationInHoldingPanel())},window.MenusHelper.instances=new Set,"function"==typeof window.MenusHelper.initStaticConstsAfterClassDefinition&&window.MenusHelper.initStaticConstsAfterClassDefinition(),window.AlignCenterButtonWdgt=function(t){this.color=t,AlignCenterButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignCenterIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="align center","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignCenterButtonWdgt,"name",{value:"AlignCenterButtonWdgt"}),window.AlignCenterButtonWdgt.__super__=window.Widget.prototype,window.AlignCenterButtonWdgt=extend(window.AlignCenterButtonWdgt,window.Widget),window.AlignCenterButtonWdgt.augmentWith(window.HighlightableMixin,"AlignCenterButtonWdgt"),window.AlignCenterButtonWdgt.augmentWith(window.ParentStainerMixin,"AlignCenterButtonWdgt"),window.AlignCenterButtonWdgt.prototype.color_hover=new Color(90,90,90),window.AlignCenterButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.AlignCenterButtonWdgt.prototype.color_normal=new Color(230,230,230),window.AlignCenterButtonWdgt.prototype.mouseClickLeft=function(){var t,e;return null!=(null!=(e=world.lastNonTextPropertyChangerButtonClickedOrDropped)?e.alignCenter:void 0)?world.lastNonTextPropertyChangerButtonClickedOrDropped.alignCenter():null!=world.lastNonTextPropertyChangerButtonClickedOrDropped&&null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped.findRootForGrab())?t.layoutSpec:void 0)&&t.layoutSpec===LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT?t.layoutSpecDetails.setAlignmentToCenter():void 0},window.AlignCenterButtonWdgt.instances=new Set,"function"==typeof window.AlignCenterButtonWdgt.initStaticConstsAfterClassDefinition&&window.AlignCenterButtonWdgt.initStaticConstsAfterClassDefinition(),window.AlignLeftButtonWdgt=function(t){this.color=t,AlignLeftButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignLeftIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="align left","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignLeftButtonWdgt,"name",{value:"AlignLeftButtonWdgt"}),window.AlignLeftButtonWdgt.__super__=window.Widget.prototype,window.AlignLeftButtonWdgt=extend(window.AlignLeftButtonWdgt,window.Widget),window.AlignLeftButtonWdgt.augmentWith(window.HighlightableMixin,"AlignLeftButtonWdgt"),window.AlignLeftButtonWdgt.augmentWith(window.ParentStainerMixin,"AlignLeftButtonWdgt"),window.AlignLeftButtonWdgt.prototype.color_hover=new Color(90,90,90),window.AlignLeftButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.AlignLeftButtonWdgt.prototype.color_normal=new Color(230,230,230),window.AlignLeftButtonWdgt.prototype.mouseClickLeft=function(){var t,e;return null!=(null!=(e=world.lastNonTextPropertyChangerButtonClickedOrDropped)?e.alignLeft:void 0)?world.lastNonTextPropertyChangerButtonClickedOrDropped.alignLeft():null!=world.lastNonTextPropertyChangerButtonClickedOrDropped&&null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped.findRootForGrab())?t.layoutSpec:void 0)&&t.layoutSpec===LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT?t.layoutSpecDetails.setAlignmentToLeft():void 0},window.AlignLeftButtonWdgt.instances=new Set,"function"==typeof window.AlignLeftButtonWdgt.initStaticConstsAfterClassDefinition&&window.AlignLeftButtonWdgt.initStaticConstsAfterClassDefinition(),window.AlignRightButtonWdgt=function(t){this.color=t,AlignRightButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignRightIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="align right","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignRightButtonWdgt,"name",{value:"AlignRightButtonWdgt"}),window.AlignRightButtonWdgt.__super__=window.Widget.prototype,window.AlignRightButtonWdgt=extend(window.AlignRightButtonWdgt,window.Widget),window.AlignRightButtonWdgt.augmentWith(window.HighlightableMixin,"AlignRightButtonWdgt"),window.AlignRightButtonWdgt.augmentWith(window.ParentStainerMixin,"AlignRightButtonWdgt"),window.AlignRightButtonWdgt.prototype.color_hover=new Color(90,90,90),window.AlignRightButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.AlignRightButtonWdgt.prototype.color_normal=new Color(230,230,230),window.AlignRightButtonWdgt.prototype.mouseClickLeft=function(){var t,e;return null!=(null!=(e=world.lastNonTextPropertyChangerButtonClickedOrDropped)?e.alignRight:void 0)?world.lastNonTextPropertyChangerButtonClickedOrDropped.alignRight():null!=world.lastNonTextPropertyChangerButtonClickedOrDropped&&null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped.findRootForGrab())?t.layoutSpec:void 0)&&t.layoutSpec===LayoutSpec.ATTACHEDAS_VERTICAL_STACK_ELEMENT?t.layoutSpecDetails.setAlignmentToRight():void 0},window.AlignRightButtonWdgt.instances=new Set,"function"==typeof window.AlignRightButtonWdgt.initStaticConstsAfterClassDefinition&&window.AlignRightButtonWdgt.initStaticConstsAfterClassDefinition(),window.CreatorButtonWdgt=function(){CreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CreatorButtonWdgt,"name",{value:"CreatorButtonWdgt"}),window.CreatorButtonWdgt.__super__=window.Widget.prototype,window.CreatorButtonWdgt=extend(window.CreatorButtonWdgt,window.Widget),window.CreatorButtonWdgt.augmentWith(window.HighlightableMixin,"CreatorButtonWdgt"),window.CreatorButtonWdgt.augmentWith(window.ParentStainerMixin,"CreatorButtonWdgt"),window.CreatorButtonWdgt.augmentWith(window.WidgetCreatorAndSmartPlacerOnClickMixin,"CreatorButtonWdgt"),window.CreatorButtonWdgt.prototype.color_hover=new Color(90,90,90),window.CreatorButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.CreatorButtonWdgt.prototype.color_normal=new Color(230,230,230),window.CreatorButtonWdgt.prototype.grabbedWidgetSwitcheroo=function(){return this.createWidgetToBeHandled()},window.CreatorButtonWdgt.prototype.grabsToParentWhenDragged=function(){return!1},window.CreatorButtonWdgt.instances=new Set,"function"==typeof window.CreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.CreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.BarPlotWithAxesCreatorButtonWdgt=function(){BarPlotWithAxesCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new BarPlotIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="bar plot","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BarPlotWithAxesCreatorButtonWdgt,"name",{value:"BarPlotWithAxesCreatorButtonWdgt"}),window.BarPlotWithAxesCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.BarPlotWithAxesCreatorButtonWdgt=extend(window.BarPlotWithAxesCreatorButtonWdgt,window.CreatorButtonWdgt),window.BarPlotWithAxesCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleBarPlotWdgt),!0,!0)).rawSetExtent(new Point(200,200)),t},window.BarPlotWithAxesCreatorButtonWdgt.instances=new Set,"function"==typeof window.BarPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.BarPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.BoldButtonWdgt=function(){BoldButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new BoldIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="bold","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BoldButtonWdgt,"name",{value:"BoldButtonWdgt"}),window.BoldButtonWdgt.__super__=window.Widget.prototype,window.BoldButtonWdgt=extend(window.BoldButtonWdgt,window.Widget),window.BoldButtonWdgt.augmentWith(window.HighlightableMixin,"BoldButtonWdgt"),window.BoldButtonWdgt.augmentWith(window.ParentStainerMixin,"BoldButtonWdgt"),window.BoldButtonWdgt.prototype.color_hover=new Color(90,90,90),window.BoldButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.BoldButtonWdgt.prototype.color_normal=new Color(230,230,230),window.BoldButtonWdgt.prototype.mouseClickLeft=function(){var t;if(null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped)?t.toggleWeight:void 0))return world.lastNonTextPropertyChangerButtonClickedOrDropped.toggleWeight()},window.BoldButtonWdgt.instances=new Set,"function"==typeof window.BoldButtonWdgt.initStaticConstsAfterClassDefinition&&window.BoldButtonWdgt.initStaticConstsAfterClassDefinition(),window.CalculatingNodeCreatorButtonWdgt=function(){CalculatingNodeCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new CalculatingNodeIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="calculating node","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CalculatingNodeCreatorButtonWdgt,"name",{value:"CalculatingNodeCreatorButtonWdgt"}),window.CalculatingNodeCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.CalculatingNodeCreatorButtonWdgt=extend(window.CalculatingNodeCreatorButtonWdgt,window.CreatorButtonWdgt),window.CalculatingNodeCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new CalculatingPatchNodeWdgt,!0)).rawSetExtent(new Point(260,265)),t},window.CalculatingNodeCreatorButtonWdgt.instances=new Set,"function"==typeof window.CalculatingNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.CalculatingNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.ChangeFontButtonWdgt=function(t){this.simpleDocument=t,ChangeFontButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ChangeFontIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="change font","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ChangeFontButtonWdgt,"name",{value:"ChangeFontButtonWdgt"}),window.ChangeFontButtonWdgt.__super__=window.IconMorph.prototype,window.ChangeFontButtonWdgt=extend(window.ChangeFontButtonWdgt,window.IconMorph),window.ChangeFontButtonWdgt.augmentWith(window.HighlightableMixin,"ChangeFontButtonWdgt"),window.ChangeFontButtonWdgt.augmentWith(window.ParentStainerMixin,"ChangeFontButtonWdgt"),window.ChangeFontButtonWdgt.prototype.color_hover=new Color(90,90,90),window.ChangeFontButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.ChangeFontButtonWdgt.prototype.color_normal=new Color(230,230,230),window.ChangeFontButtonWdgt.prototype.simpleDocument=nil,window.ChangeFontButtonWdgt.prototype.mouseClickLeft=function(){var t;return null==this.simpleDocument.fontSelectionMenu||this.simpleDocument.fontSelectionMenu.destroyed?((t=new MenuMorph(this,!1,this,!0,!0,"Fonts")).addMenuItem("Arial",!0,this,"setFontName",nil,nil,nil,nil,nil,"justArialFontStack"),t.addMenuItem("Times",!0,this,"setFontName",nil,nil,nil,nil,nil,"timesFontStack"),t.addMenuItem("Georgia",!0,this,"setFontName",nil,nil,nil,nil,nil,"georgiaFontStack"),t.addMenuItem("Garamo",!0,this,"setFontName",nil,nil,nil,nil,nil,"garamoFontStack"),t.addMenuItem("Helve",!0,this,"setFontName",nil,nil,nil,nil,nil,"helveFontStack"),t.addMenuItem("Verda",!0,this,"setFontName",nil,nil,nil,nil,nil,"verdaFontStack"),t.addMenuItem("Treby",!0,this,"setFontName",nil,nil,nil,nil,nil,"trebuFontStack"),t.addMenuItem("Heavy",!0,this,"setFontName",nil,nil,nil,nil,nil,"heavyFontStack"),t.addMenuItem("Mono",!0,this,"setFontName",nil,nil,nil,nil,nil,"monoFontStack"),t.popUp(this.position().subtract(new Point(80,0)),world),t.editorContentPropertyChangerButton=!0,t.forAllChildrenBottomToTop((function(t){return t.editorContentPropertyChangerButton=!0})),this.simpleDocument.fontSelectionMenu=t):this.simpleDocument.fontSelectionMenu.popUp(this.position().subtract(new Point(80,0)),world)},window.ChangeFontButtonWdgt.prototype.setFontName=function(t,e,n){var o,i;if(null!=(null!=(o=world.lastNonTextPropertyChangerButtonClickedOrDropped)?o.setFontName:void 0))return(i=world.lastNonTextPropertyChangerButtonClickedOrDropped).setFontName(nil,e,i[n])},window.ChangeFontButtonWdgt.instances=new Set,"function"==typeof window.ChangeFontButtonWdgt.initStaticConstsAfterClassDefinition&&window.ChangeFontButtonWdgt.initStaticConstsAfterClassDefinition(),window.CloseIconButtonMorph=function(t){this.target=t,CloseIconButtonMorph.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,0,0),this.color_pressed=this.color_hover,this.appearance=new CloseIconAppearance(this),this.toolTipMessage="close window","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CloseIconButtonMorph,"name",{value:"CloseIconButtonMorph"}),window.CloseIconButtonMorph.__super__=window.EmptyButtonMorph.prototype,window.CloseIconButtonMorph=extend(window.CloseIconButtonMorph,window.EmptyButtonMorph),window.CloseIconButtonMorph.prototype.actOnClick=function(){if(null!=this.parent)return this.parent instanceof WindowWdgt&&null!=this.parent.contents?this.parent.closeFromWindowBar():this.parent.close()},window.CloseIconButtonMorph.instances=new Set,"function"==typeof window.CloseIconButtonMorph.initStaticConstsAfterClassDefinition&&window.CloseIconButtonMorph.initStaticConstsAfterClassDefinition(),window.CollapseIconButtonMorph=function(t){this.target=t,CollapseIconButtonMorph.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,153,0),this.color_pressed=this.color_hover,this.appearance=new CollapseIconAppearance(this),this.toolTipMessage="collapse window","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CollapseIconButtonMorph,"name",{value:"CollapseIconButtonMorph"}),window.CollapseIconButtonMorph.__super__=window.EmptyButtonMorph.prototype,window.CollapseIconButtonMorph=extend(window.CollapseIconButtonMorph,window.EmptyButtonMorph),window.CollapseIconButtonMorph.prototype.actOnClick=function(){return this.parent.parent.contents.collapse()},window.CollapseIconButtonMorph.instances=new Set,"function"==typeof window.CollapseIconButtonMorph.initStaticConstsAfterClassDefinition&&window.CollapseIconButtonMorph.initStaticConstsAfterClassDefinition(),window.ColorPaletteNodeCreatorButtonWdgt=function(){ColorPaletteNodeCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ColorPalettePatchProgrammingIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="color palette","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ColorPaletteNodeCreatorButtonWdgt,"name",{value:"ColorPaletteNodeCreatorButtonWdgt"}),window.ColorPaletteNodeCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.ColorPaletteNodeCreatorButtonWdgt=extend(window.ColorPaletteNodeCreatorButtonWdgt,window.CreatorButtonWdgt),window.ColorPaletteNodeCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new ColorPaletteMorph,!0)).rawSetExtent(new Point(200,200)),t},window.ColorPaletteNodeCreatorButtonWdgt.instances=new Set,"function"==typeof window.ColorPaletteNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.ColorPaletteNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.DecreaseFontSizeButtonWdgt=function(){DecreaseFontSizeButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new DecreaseFontSizeIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="decrease font size","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DecreaseFontSizeButtonWdgt,"name",{value:"DecreaseFontSizeButtonWdgt"}),window.DecreaseFontSizeButtonWdgt.__super__=window.IconMorph.prototype,window.DecreaseFontSizeButtonWdgt=extend(window.DecreaseFontSizeButtonWdgt,window.IconMorph),window.DecreaseFontSizeButtonWdgt.augmentWith(window.HighlightableMixin,"DecreaseFontSizeButtonWdgt"),window.DecreaseFontSizeButtonWdgt.augmentWith(window.ParentStainerMixin,"DecreaseFontSizeButtonWdgt"),window.DecreaseFontSizeButtonWdgt.prototype.color_hover=new Color(90,90,90),window.DecreaseFontSizeButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.DecreaseFontSizeButtonWdgt.prototype.color_normal=new Color(230,230,230),window.DecreaseFontSizeButtonWdgt.prototype.mouseClickLeft=function(){var t,e;if(null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped)?t.originallySetFontSize:void 0))return(e=world.lastNonTextPropertyChangerButtonClickedOrDropped).originallySetFontSize>90?e.setFontSize(e.originallySetFontSize-10):e.originallySetFontSize>80?e.setFontSize(80):e.originallySetFontSize>72?e.setFontSize(72):e.originallySetFontSize>48?e.setFontSize(48):e.originallySetFontSize>36?e.setFontSize(36):e.originallySetFontSize>28?e.setFontSize(28):e.originallySetFontSize>12?e.setFontSize(e.originallySetFontSize-2):e.setFontSize(e.originallySetFontSize-1)},window.DecreaseFontSizeButtonWdgt.instances=new Set,"function"==typeof window.DecreaseFontSizeButtonWdgt.initStaticConstsAfterClassDefinition&&window.DecreaseFontSizeButtonWdgt.initStaticConstsAfterClassDefinition(),window.EditIconButtonWdgt=function(t){this.target=t,EditIconButtonWdgt.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,153,0),this.color_pressed=this.color_hover,this.appearance=new PencilIconAppearance(this),this.toolTipMessage="edit contents","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EditIconButtonWdgt,"name",{value:"EditIconButtonWdgt"}),window.EditIconButtonWdgt.__super__=window.EmptyButtonMorph.prototype,window.EditIconButtonWdgt=extend(window.EditIconButtonWdgt,window.EmptyButtonMorph),window.EditIconButtonWdgt.prototype.actOnClick=function(){var t;if(null!=this.parent&&this.parent instanceof WindowWdgt)return null!=(t=this.parent.contents)&&"function"==typeof t.editButtonPressedFromWindowBar?t.editButtonPressedFromWindowBar():void 0},window.EditIconButtonWdgt.instances=new Set,"function"==typeof window.EditIconButtonWdgt.initStaticConstsAfterClassDefinition&&window.EditIconButtonWdgt.initStaticConstsAfterClassDefinition(),window.ElasticWindowCreatorButtonWdgt=function(){ElasticWindowCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ElasticWindowIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="elastic panel","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ElasticWindowCreatorButtonWdgt,"name",{value:"ElasticWindowCreatorButtonWdgt"}),window.ElasticWindowCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.ElasticWindowCreatorButtonWdgt=extend(window.ElasticWindowCreatorButtonWdgt,window.CreatorButtonWdgt),window.ElasticWindowCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e;return t=new StretchableEditableWdgt,(e=new WindowWdgt(nil,nil,t,!0,!0)).setTitleWithoutPrependedContentName("elastic panel"),e.rawSetExtent(new Point(200,200)),e},window.ElasticWindowCreatorButtonWdgt.instances=new Set,"function"==typeof window.ElasticWindowCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.ElasticWindowCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.EmptyWindowCreatorButtonWdgt=function(){EmptyWindowCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new EmptyWindowIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="empty window","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EmptyWindowCreatorButtonWdgt,"name",{value:"EmptyWindowCreatorButtonWdgt"}),window.EmptyWindowCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.EmptyWindowCreatorButtonWdgt=extend(window.EmptyWindowCreatorButtonWdgt,window.CreatorButtonWdgt),window.EmptyWindowCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,nil,!0,!0)).rawSetExtent(new Point(200,200)),t},window.EmptyWindowCreatorButtonWdgt.instances=new Set,"function"==typeof window.EmptyWindowCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.EmptyWindowCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.ExternalIconButtonWdgt=function(t){this.target=t,ExternalIconButtonWdgt.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,153,0),this.color_pressed=this.color_hover,this.appearance=new ExternalIconAppearance(this),this.toolTipMessage="make this window droppable\ninto other documents","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalIconButtonWdgt,"name",{value:"ExternalIconButtonWdgt"}),window.ExternalIconButtonWdgt.__super__=window.EmptyButtonMorph.prototype,window.ExternalIconButtonWdgt=extend(window.ExternalIconButtonWdgt,window.EmptyButtonMorph),window.ExternalIconButtonWdgt.prototype.actOnClick=function(){var t;if(null!=(null!=(t=this.parent)?t.parent:void 0)&&this.parent.parent instanceof WindowWdgt)return this.parent.parent.makeInternal()},window.ExternalIconButtonWdgt.instances=new Set,"function"==typeof window.ExternalIconButtonWdgt.initStaticConstsAfterClassDefinition&&window.ExternalIconButtonWdgt.initStaticConstsAfterClassDefinition(),window.ExternalLinkButtonWdgt=function(t){this.color=t,ExternalLinkButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ExternalLinkIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalLinkButtonWdgt,"name",{value:"ExternalLinkButtonWdgt"}),window.ExternalLinkButtonWdgt.__super__=window.IconMorph.prototype,window.ExternalLinkButtonWdgt=extend(window.ExternalLinkButtonWdgt,window.IconMorph),window.ExternalLinkButtonWdgt.prototype.mouseClickLeft=function(){if(null!=this.parent&&this.parent instanceof SimpleLinkWdgt)return window.open(this.parent.outputTextArea.text)},window.ExternalLinkButtonWdgt.prototype.mouseEnter=function(){return world.worldCanvas.style.cursor="pointer"},window.ExternalLinkButtonWdgt.prototype.mouseLeave=function(){return world.worldCanvas.style.cursor=""},window.ExternalLinkButtonWdgt.instances=new Set,"function"==typeof window.ExternalLinkButtonWdgt.initStaticConstsAfterClassDefinition&&window.ExternalLinkButtonWdgt.initStaticConstsAfterClassDefinition(),window.ExternalLinkCreatorButtonWdgt=function(){ExternalLinkCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ExternalLinkIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="external link","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalLinkCreatorButtonWdgt,"name",{value:"ExternalLinkCreatorButtonWdgt"}),window.ExternalLinkCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.ExternalLinkCreatorButtonWdgt=extend(window.ExternalLinkCreatorButtonWdgt,window.CreatorButtonWdgt),window.ExternalLinkCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new SimpleLinkWdgt).fullRawMoveTo(this.position()),t.rawSetExtent(new Point(330,65)),t},window.ExternalLinkCreatorButtonWdgt.instances=new Set,"function"==typeof window.ExternalLinkCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.ExternalLinkCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.FormatAsCodeButtonWdgt=function(){FormatAsCodeButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FormatAsCodeIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="format as code","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FormatAsCodeButtonWdgt,"name",{value:"FormatAsCodeButtonWdgt"}),window.FormatAsCodeButtonWdgt.__super__=window.IconMorph.prototype,window.FormatAsCodeButtonWdgt=extend(window.FormatAsCodeButtonWdgt,window.IconMorph),window.FormatAsCodeButtonWdgt.augmentWith(window.HighlightableMixin,"FormatAsCodeButtonWdgt"),window.FormatAsCodeButtonWdgt.augmentWith(window.ParentStainerMixin,"FormatAsCodeButtonWdgt"),window.FormatAsCodeButtonWdgt.prototype.color_hover=new Color(90,90,90),window.FormatAsCodeButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.FormatAsCodeButtonWdgt.prototype.color_normal=new Color(230,230,230);window.FormatAsCodeButtonWdgt.prototype.mouseClickLeft=function(){var t,e;if(null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped)?t.setFontName:void 0))return(e=world.lastNonTextPropertyChangerButtonClickedOrDropped).fontName!==e.monoFontStack?e.setFontName(nil,nil,e.monoFontStack):e.setFontName(nil,nil,e.justArialFontStack)},window.FormatAsCodeButtonWdgt.instances=new Set,"function"==typeof window.FormatAsCodeButtonWdgt.initStaticConstsAfterClassDefinition&&window.FormatAsCodeButtonWdgt.initStaticConstsAfterClassDefinition(),window.FunctionPlotWithAxesCreatorButtonWdgt=function(){FunctionPlotWithAxesCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FunctionPlotIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="function plot","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FunctionPlotWithAxesCreatorButtonWdgt,"name",{value:"FunctionPlotWithAxesCreatorButtonWdgt"}),window.FunctionPlotWithAxesCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.FunctionPlotWithAxesCreatorButtonWdgt=extend(window.FunctionPlotWithAxesCreatorButtonWdgt,window.CreatorButtonWdgt),window.FunctionPlotWithAxesCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleFunctionPlotWdgt),!0,!0)).rawSetExtent(new Point(200,200)),t},window.FunctionPlotWithAxesCreatorButtonWdgt.instances=new Set,"function"==typeof window.FunctionPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.FunctionPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.GrayscalePaletteNodeCreatorButtonWdgt=function(){GrayscalePaletteNodeCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new GrayscalePalettePatchProgrammingIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="grayscale palette","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GrayscalePaletteNodeCreatorButtonWdgt,"name",{value:"GrayscalePaletteNodeCreatorButtonWdgt"}),window.GrayscalePaletteNodeCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.GrayscalePaletteNodeCreatorButtonWdgt=extend(window.GrayscalePaletteNodeCreatorButtonWdgt,window.CreatorButtonWdgt),window.GrayscalePaletteNodeCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new GrayPaletteMorph,!0)).rawSetExtent(new Point(200,200)),t},window.GrayscalePaletteNodeCreatorButtonWdgt.instances=new Set,"function"==typeof window.GrayscalePaletteNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.GrayscalePaletteNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.IncreaseFontSizeButtonWdgt=function(){IncreaseFontSizeButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new IncreaseFontSizeIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="increase font size","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.IncreaseFontSizeButtonWdgt,"name",{value:"IncreaseFontSizeButtonWdgt"}),window.IncreaseFontSizeButtonWdgt.__super__=window.IconMorph.prototype,window.IncreaseFontSizeButtonWdgt=extend(window.IncreaseFontSizeButtonWdgt,window.IconMorph),window.IncreaseFontSizeButtonWdgt.augmentWith(window.HighlightableMixin,"IncreaseFontSizeButtonWdgt"),window.IncreaseFontSizeButtonWdgt.augmentWith(window.ParentStainerMixin,"IncreaseFontSizeButtonWdgt"),window.IncreaseFontSizeButtonWdgt.prototype.color_hover=new Color(90,90,90),window.IncreaseFontSizeButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.IncreaseFontSizeButtonWdgt.prototype.color_normal=new Color(230,230,230),window.IncreaseFontSizeButtonWdgt.prototype.mouseClickLeft=function(){var t,e;if(null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped)?t.originallySetFontSize:void 0))return(e=world.lastNonTextPropertyChangerButtonClickedOrDropped).originallySetFontSize<12?e.setFontSize(e.originallySetFontSize+1):e.originallySetFontSize<28?e.setFontSize(e.originallySetFontSize+2):e.originallySetFontSize<36?e.setFontSize(36):e.originallySetFontSize<48?e.setFontSize(48):e.originallySetFontSize<72?e.setFontSize(72):e.originallySetFontSize<80?e.setFontSize(80):e.setFontSize(e.originallySetFontSize+10)},window.IncreaseFontSizeButtonWdgt.instances=new Set,"function"==typeof window.IncreaseFontSizeButtonWdgt.initStaticConstsAfterClassDefinition&&window.IncreaseFontSizeButtonWdgt.initStaticConstsAfterClassDefinition(),window.InternalIconButtonWdgt=function(t){this.target=t,InternalIconButtonWdgt.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,153,0),this.color_pressed=this.color_hover,this.appearance=new InternalIconAppearance(this),this.toolTipMessage="pop-out window from documents,\nmake it un-droppable\ninto other documents","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.InternalIconButtonWdgt,"name",{value:"InternalIconButtonWdgt"}),window.InternalIconButtonWdgt.__super__=window.EmptyButtonMorph.prototype,window.InternalIconButtonWdgt=extend(window.InternalIconButtonWdgt,window.EmptyButtonMorph),window.InternalIconButtonWdgt.prototype.actOnClick=function(){var t;if(null!=(null!=(t=this.parent)?t.parent:void 0)&&this.parent.parent instanceof WindowWdgt)return this.parent.parent.makeExternal()},window.InternalIconButtonWdgt.instances=new Set,"function"==typeof window.InternalIconButtonWdgt.initStaticConstsAfterClassDefinition&&window.InternalIconButtonWdgt.initStaticConstsAfterClassDefinition(),window.ItalicButtonWdgt=function(t){this.color=t,ItalicButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ItalicIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="italic","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ItalicButtonWdgt,"name",{value:"ItalicButtonWdgt"}),window.ItalicButtonWdgt.__super__=window.Widget.prototype,window.ItalicButtonWdgt=extend(window.ItalicButtonWdgt,window.Widget),window.ItalicButtonWdgt.augmentWith(window.HighlightableMixin,"ItalicButtonWdgt"),window.ItalicButtonWdgt.augmentWith(window.ParentStainerMixin,"ItalicButtonWdgt"),window.ItalicButtonWdgt.prototype.color_hover=new Color(90,90,90),window.ItalicButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.ItalicButtonWdgt.prototype.color_normal=new Color(230,230,230),window.ItalicButtonWdgt.prototype.mouseClickLeft=function(){var t;if(null!=(null!=(t=world.lastNonTextPropertyChangerButtonClickedOrDropped)?t.toggleItalic:void 0))return world.lastNonTextPropertyChangerButtonClickedOrDropped.toggleItalic()},window.ItalicButtonWdgt.instances=new Set,"function"==typeof window.ItalicButtonWdgt.initStaticConstsAfterClassDefinition&&window.ItalicButtonWdgt.initStaticConstsAfterClassDefinition(),window.ToolbarCreatorButtonWdgt=function(){window.ToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ToolbarCreatorButtonWdgt,"name",{value:"ToolbarCreatorButtonWdgt"}),window.ToolbarCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.ToolbarCreatorButtonWdgt=extend(window.ToolbarCreatorButtonWdgt,window.CreatorButtonWdgt),window.ToolbarCreatorButtonWdgt.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a){var l;if(!a)return(l=this.createWidgetToBeHandled()).fullRawMoveTo(this.topRight().add(new Point(20,-40))),world.add(l),l.fullRawMoveWithin(world)},window.ToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.ToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.ToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.PatchProgrammingComponentsToolbarCreatorButtonWdgt=function(){PatchProgrammingComponentsToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new PatchProgrammingComponentsIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="components that can be connected","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PatchProgrammingComponentsToolbarCreatorButtonWdgt,"name",{value:"PatchProgrammingComponentsToolbarCreatorButtonWdgt"}),window.PatchProgrammingComponentsToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.PatchProgrammingComponentsToolbarCreatorButtonWdgt=extend(window.PatchProgrammingComponentsToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.PatchProgrammingComponentsToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e;return(e=new ScrollPanelWdgt(new ToolPanelWdgt)).addMany([new SliderNodeCreatorButtonWdgt,new ColorPaletteNodeCreatorButtonWdgt,new GrayscalePaletteNodeCreatorButtonWdgt,new CalculatingNodeCreatorButtonWdgt]),e.disableDragsDropsAndEditing(),(t=new WindowWdgt(nil,nil,e)).fullRawMoveTo(new Point(90,Math.floor((world.height()-192)/2))),t.fullRawMoveWithin(world),world.add(t),t.rawSetExtent(new Point(61,192)),t},window.PatchProgrammingComponentsToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.PatchProgrammingComponentsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.PatchProgrammingComponentsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.Plot3DCreatorButtonWdgt=function(){Plot3DCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new Plot3DIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="3D plot","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Plot3DCreatorButtonWdgt,"name",{value:"Plot3DCreatorButtonWdgt"}),window.Plot3DCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.Plot3DCreatorButtonWdgt=extend(window.Plot3DCreatorButtonWdgt,window.CreatorButtonWdgt),window.Plot3DCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new Example3DPlotWdgt,!0,!0)).rawSetExtent(new Point(200,200)),t},window.Plot3DCreatorButtonWdgt.instances=new Set,"function"==typeof window.Plot3DCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.Plot3DCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.PlotsToolbarCreatorButtonWdgt=function(){PlotsToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AllPlotsIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="plots/graphs","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PlotsToolbarCreatorButtonWdgt,"name",{value:"PlotsToolbarCreatorButtonWdgt"}),window.PlotsToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.PlotsToolbarCreatorButtonWdgt=extend(window.PlotsToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.PlotsToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e;return(e=new ScrollPanelWdgt(new ToolPanelWdgt)).addMany([new ScatterPlotWithAxesCreatorButtonWdgt,new FunctionPlotWithAxesCreatorButtonWdgt,new BarPlotWithAxesCreatorButtonWdgt,new Plot3DCreatorButtonWdgt]),e.disableDragsDropsAndEditing(),(t=new WindowWdgt(nil,nil,e)).setExtent(new Point(60,192)),t.fullRawMoveTo(new Point(90,Math.floor((world.height()-192)/2))),t.fullRawMoveWithin(world),world.add(t),t.changed(),t},window.PlotsToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.PlotsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.PlotsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.ScatterPlotWithAxesCreatorButtonWdgt=function(){ScatterPlotWithAxesCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ScatterPlotIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="scatter plot","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ScatterPlotWithAxesCreatorButtonWdgt,"name",{value:"ScatterPlotWithAxesCreatorButtonWdgt"}),window.ScatterPlotWithAxesCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.ScatterPlotWithAxesCreatorButtonWdgt=extend(window.ScatterPlotWithAxesCreatorButtonWdgt,window.CreatorButtonWdgt),window.ScatterPlotWithAxesCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new PlotWithAxesWdgt(new ExampleScatterPlotWdgt),!0,!0)).rawSetExtent(new Point(200,200)),t},window.ScatterPlotWithAxesCreatorButtonWdgt.instances=new Set,"function"==typeof window.ScatterPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.ScatterPlotWithAxesCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.SliderNodeCreatorButtonWdgt=function(){SliderNodeCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SliderNodeIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="slider node","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SliderNodeCreatorButtonWdgt,"name",{value:"SliderNodeCreatorButtonWdgt"}),window.SliderNodeCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.SliderNodeCreatorButtonWdgt=extend(window.SliderNodeCreatorButtonWdgt,window.CreatorButtonWdgt),window.SliderNodeCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){return new SliderMorph(nil,nil,nil,nil,nil,!0)},window.SliderNodeCreatorButtonWdgt.instances=new Set,"function"==typeof window.SliderNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.SliderNodeCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.SlidesToolbarCreatorButtonWdgt=function(){SlidesToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new SlidesToolbarIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="items for slides","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SlidesToolbarCreatorButtonWdgt,"name",{value:"SlidesToolbarCreatorButtonWdgt"}),window.SlidesToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.SlidesToolbarCreatorButtonWdgt=extend(window.SlidesToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.SlidesToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e;return(e=new ScrollPanelWdgt(new ToolPanelWdgt)).addMany([new TextBoxCreatorButtonWdgt,new ExternalLinkCreatorButtonWdgt,new VideoPlayCreatorButtonWdgt,new WorldMapCreatorButtonWdgt,new USAMapCreatorButtonWdgt,new RectangleMorph,new MapPinIconWdgt,new SpeechBubbleWdgt,new DestroyIconMorph,new ScratchAreaIconMorph,new FloraIconMorph,new ScooterIconMorph,new HeartIconMorph,new FizzygumLogoIconWdgt,new FizzygumLogoWithTextIconWdgt,new VaporwaveBackgroundIconWdgt,new VaporwaveSunIconWdgt,new ArrowNIconWdgt,new ArrowSIconWdgt,new ArrowWIconWdgt,new ArrowEIconWdgt,new ArrowNWIconWdgt,new ArrowNEIconWdgt,new ArrowSWIconWdgt,new ArrowSEIconWdgt]),e.disableDragsDropsAndEditing(),(t=new WindowWdgt(nil,nil,e)).fullRawMoveTo(new Point(90,Math.floor((world.height()-192)/2))),t.fullRawMoveWithin(world),world.add(t),t.rawSetExtent(new Point(105,300)),t},window.SlidesToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.SlidesToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.SlidesToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.TemplatesButtonWdgt=function(){TemplatesButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TemplatesIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.actionableAsThumbnail=!0,this.editorContentPropertyChangerButton=!0,this.toolTipMessage="useful snippets","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TemplatesButtonWdgt,"name",{value:"TemplatesButtonWdgt"}),window.TemplatesButtonWdgt.__super__=window.IconMorph.prototype,window.TemplatesButtonWdgt=extend(window.TemplatesButtonWdgt,window.IconMorph),window.TemplatesButtonWdgt.augmentWith(window.HighlightableMixin,"TemplatesButtonWdgt"),window.TemplatesButtonWdgt.augmentWith(window.ParentStainerMixin,"TemplatesButtonWdgt"),window.TemplatesButtonWdgt.prototype.color_hover=new Color(90,90,90),window.TemplatesButtonWdgt.prototype.color_pressed=new Color(128,128,128),window.TemplatesButtonWdgt.prototype.color_normal=new Color(230,230,230),window.TemplatesButtonWdgt.prototype.bringTemplatesWindowIntoView=function(){return world.simpleEditorTemplates.bringToForeground(),world.simpleEditorTemplates.fullRawMoveTo(world.hand.position().subtract(new Point(50,50))),world.simpleEditorTemplates.fullRawMoveWithin(world)},window.TemplatesButtonWdgt.prototype.mouseClickLeft=function(){var t;return null==world.simpleEditorTemplates||world.simpleEditorTemplates.destroyed||null==world.simpleEditorTemplates.parent?(t=menusHelper.createNewTemplatesWindow(),this.positionTemplatesWindowAndRegisterIt(t)):null!=world.simpleEditorTemplates.parent&&world.simpleEditorTemplates.parent===world.basementWdgt.scrollPanel.contents?(world.add(world.simpleEditorTemplates),this.bringTemplatesWindowIntoView()):world.simpleEditorTemplates.destroyed||world.simpleEditorTemplates.parent!==world?void 0:this.bringTemplatesWindowIntoView()},window.TemplatesButtonWdgt.prototype.positionTemplatesWindowAndRegisterIt=function(t){return t.fullRawMoveTo(world.hand.position().subtract(new Point(50,50))),t.fullRawMoveWithin(world),world.add(t),world.simpleEditorTemplates=t},window.TemplatesButtonWdgt.instances=new Set,"function"==typeof window.TemplatesButtonWdgt.initStaticConstsAfterClassDefinition&&window.TemplatesButtonWdgt.initStaticConstsAfterClassDefinition(),window.TextBoxCreatorButtonWdgt=function(){TextBoxCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TextIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="text box","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextBoxCreatorButtonWdgt,"name",{value:"TextBoxCreatorButtonWdgt"}),window.TextBoxCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.TextBoxCreatorButtonWdgt=extend(window.TextBoxCreatorButtonWdgt,window.CreatorButtonWdgt),window.TextBoxCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new TextMorph2("insert text here")).isEditable=!0,t.fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,t.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,t.alignMiddle(),t.alignLeft(),t.fullRawMoveTo(this.position()),t.rawSetExtent(new Point(150,75)),t},window.TextBoxCreatorButtonWdgt.instances=new Set,"function"==typeof window.TextBoxCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.TextBoxCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.TextToolbarCreatorButtonWdgt=function(){TextToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TextToolbarIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="Text tools","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextToolbarCreatorButtonWdgt,"name",{value:"TextToolbarCreatorButtonWdgt"}),window.TextToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.TextToolbarCreatorButtonWdgt=extend(window.TextToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.TextToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e;return(e=new ScrollPanelWdgt(new ToolPanelWdgt)).addMany([new ChangeFontButtonWdgt(this),new BoldButtonWdgt,new ItalicButtonWdgt,new FormatAsCodeButtonWdgt,new IncreaseFontSizeButtonWdgt,new DecreaseFontSizeButtonWdgt,new AlignLeftButtonWdgt,new AlignCenterButtonWdgt,new AlignRightButtonWdgt]),e.disableDragsDropsAndEditing(),(t=new WindowWdgt(nil,nil,e)).fullRawMoveTo(new Point(90,Math.floor((world.height()-192)/2))),t.fullRawMoveWithin(world),world.add(t),t.rawSetExtent(new Point(130,156)),t},window.TextToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.TextToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.TextToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.USAMapCreatorButtonWdgt=function(){USAMapCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new LittleUSAIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="USA map","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.USAMapCreatorButtonWdgt,"name",{value:"USAMapCreatorButtonWdgt"}),window.USAMapCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.USAMapCreatorButtonWdgt=extend(window.USAMapCreatorButtonWdgt,window.CreatorButtonWdgt),window.USAMapCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new SimpleUSAMapIconWdgt).rawSetExtent(new Point(230,145)),t.setColor(new Color(183,183,183)),t},window.USAMapCreatorButtonWdgt.instances=new Set,"function"==typeof window.USAMapCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.USAMapCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.UncollapseIconButtonMorph=function(t){this.target=t,UncollapseIconButtonMorph.__super__.constructor.call(this,!0,this,"actOnClick",new Widget),this.color_hover=new Color(255,153,0),this.color_pressed=this.color_hover,this.appearance=new UncollapseIconAppearance(this),this.toolTipMessage="un-collapse window","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UncollapseIconButtonMorph,"name",{value:"UncollapseIconButtonMorph"}),window.UncollapseIconButtonMorph.__super__=window.EmptyButtonMorph.prototype,window.UncollapseIconButtonMorph=extend(window.UncollapseIconButtonMorph,window.EmptyButtonMorph),window.UncollapseIconButtonMorph.prototype.actOnClick=function(){return this.parent.parent.contents.unCollapse()},window.UncollapseIconButtonMorph.instances=new Set,"function"==typeof window.UncollapseIconButtonMorph.initStaticConstsAfterClassDefinition&&window.UncollapseIconButtonMorph.initStaticConstsAfterClassDefinition(),window.UsefulTextSnippetsToolbarCreatorButtonWdgt=function(){UsefulTextSnippetsToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new TemplatesIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="Useful text snippets","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.UsefulTextSnippetsToolbarCreatorButtonWdgt,"name",{value:"UsefulTextSnippetsToolbarCreatorButtonWdgt"}),window.UsefulTextSnippetsToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.UsefulTextSnippetsToolbarCreatorButtonWdgt=extend(window.UsefulTextSnippetsToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.UsefulTextSnippetsToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){return menusHelper.createNewTemplatesWindow()},window.UsefulTextSnippetsToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.UsefulTextSnippetsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.UsefulTextSnippetsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.VideoPlayButtonWdgt=function(t){this.color=t,VideoPlayButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new VideoPlayIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VideoPlayButtonWdgt,"name",{value:"VideoPlayButtonWdgt"}),window.VideoPlayButtonWdgt.__super__=window.ExternalLinkButtonWdgt.prototype,window.VideoPlayButtonWdgt=extend(window.VideoPlayButtonWdgt,window.ExternalLinkButtonWdgt),window.VideoPlayButtonWdgt.instances=new Set,"function"==typeof window.VideoPlayButtonWdgt.initStaticConstsAfterClassDefinition&&window.VideoPlayButtonWdgt.initStaticConstsAfterClassDefinition(),window.VideoPlayCreatorButtonWdgt=function(t){this.color=t,VideoPlayCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new VideoPlayIconAppearance(this),this.toolTipMessage="link to video","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.VideoPlayCreatorButtonWdgt,"name",{value:"VideoPlayCreatorButtonWdgt"}),window.VideoPlayCreatorButtonWdgt.__super__=window.ExternalLinkCreatorButtonWdgt.prototype,window.VideoPlayCreatorButtonWdgt=extend(window.VideoPlayCreatorButtonWdgt,window.ExternalLinkCreatorButtonWdgt),window.VideoPlayCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new SimpleVideoLinkWdgt).fullRawMoveTo(this.position()),t.rawSetExtent(new Point(330,65)),t},window.VideoPlayCreatorButtonWdgt.instances=new Set,"function"==typeof window.VideoPlayCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.VideoPlayCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.WindowWithPanelCreatorButtonWdgt=function(){WindowWithPanelCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowWithCroppingPanelIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="cropping panel","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithPanelCreatorButtonWdgt,"name",{value:"WindowWithPanelCreatorButtonWdgt"}),window.WindowWithPanelCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.WindowWithPanelCreatorButtonWdgt=extend(window.WindowWithPanelCreatorButtonWdgt,window.CreatorButtonWdgt),window.WindowWithPanelCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new PanelWdgt,!0,!0)).rawSetExtent(new Point(200,200)),t},window.WindowWithPanelCreatorButtonWdgt.instances=new Set,"function"==typeof window.WindowWithPanelCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.WindowWithPanelCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.WindowWithScrollPanelCreatorButtonWdgt=function(){WindowWithScrollPanelCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowWithScrollingPanelIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="scroll panel","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowWithScrollPanelCreatorButtonWdgt,"name",{value:"WindowWithScrollPanelCreatorButtonWdgt"}),window.WindowWithScrollPanelCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.WindowWithScrollPanelCreatorButtonWdgt=extend(window.WindowWithScrollPanelCreatorButtonWdgt,window.CreatorButtonWdgt),window.WindowWithScrollPanelCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new WindowWdgt(nil,nil,new ScrollPanelWdgt,!0,!0)).rawSetExtent(new Point(200,200)),t},window.WindowWithScrollPanelCreatorButtonWdgt.instances=new Set,"function"==typeof window.WindowWithScrollPanelCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.WindowWithScrollPanelCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.WindowsToolbarCreatorButtonWdgt=function(){WindowsToolbarCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new WindowsToolbarIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="many types of\npre-made windows","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WindowsToolbarCreatorButtonWdgt,"name",{value:"WindowsToolbarCreatorButtonWdgt"}),window.WindowsToolbarCreatorButtonWdgt.__super__=window.ToolbarCreatorButtonWdgt.prototype,window.WindowsToolbarCreatorButtonWdgt=extend(window.WindowsToolbarCreatorButtonWdgt,window.ToolbarCreatorButtonWdgt),window.WindowsToolbarCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t,e,n;return(n=new ScrollPanelWdgt(new ToolPanelWdgt)).addMany([new EmptyWindowCreatorButtonWdgt,new WindowWithPanelCreatorButtonWdgt,new WindowWithScrollPanelCreatorButtonWdgt,new ElasticWindowCreatorButtonWdgt]),n.disableDragsDropsAndEditing(),(e=new WindowWdgt(nil,nil,n)).fullRawMoveTo(new Point(90,Math.floor((world.height()-192)/2))),e.fullRawMoveWithin(world),world.add(e),e.rawSetExtent(new Point(61,192)),null!=(t=menusHelper.createWindowsToolbarOneOffInfoWindowNextTo(e))&&t.fullRawMoveTo(new Point(300,200)),null!=t&&t.rememberFractionalSituationInHoldingPanel(),e},window.WindowsToolbarCreatorButtonWdgt.instances=new Set,"function"==typeof window.WindowsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.WindowsToolbarCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.WorldMapCreatorButtonWdgt=function(){WorldMapCreatorButtonWdgt.__super__.constructor.apply(this,arguments),this.appearance=new LittleWorldIconAppearance(this,WorldMorph.preferencesAndSettings.iconDarkLineColor),this.toolTipMessage="world map","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.WorldMapCreatorButtonWdgt,"name",{value:"WorldMapCreatorButtonWdgt"}),window.WorldMapCreatorButtonWdgt.__super__=window.CreatorButtonWdgt.prototype,window.WorldMapCreatorButtonWdgt=extend(window.WorldMapCreatorButtonWdgt,window.CreatorButtonWdgt),window.WorldMapCreatorButtonWdgt.prototype.createWidgetToBeHandled=function(){var t;return(t=new SimpleWorldMapIconWdgt).rawSetExtent(new Point(240,125)),t.setColor(new Color(183,183,183)),t},window.WorldMapCreatorButtonWdgt.instances=new Set,"function"==typeof window.WorldMapCreatorButtonWdgt.initStaticConstsAfterClassDefinition&&window.WorldMapCreatorButtonWdgt.initStaticConstsAfterClassDefinition(),window.AxisWdgt=function(t=-15,e=15){this.min=t,this.max=e,AxisWdgt.__super__.constructor.call(this),this.ticksRectangles=[],this.labelsTextBoxes=[],this.buildAndConnectChildren(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AxisWdgt,"name",{value:"AxisWdgt"}),window.AxisWdgt.__super__=window.Widget.prototype,window.AxisWdgt=extend(window.AxisWdgt,window.Widget),window.AxisWdgt.prototype.majorDimLine=nil,window.AxisWdgt.prototype.ticksRectangles=nil,window.AxisWdgt.prototype.labelsTextBoxes=nil,window.AxisWdgt.prototype.min=0,window.AxisWdgt.prototype.max=0,window.AxisWdgt.prototype.buildAndConnectChildren=function(){var t,e,n;for(this.majorDimLine=new RectangleMorph,this.majorDimLine.minimumExtent=new Point(1,1),this.add(this.majorDimLine),t=e=0,n=this.max-this.min+1;0<=n?e<n:e>n;t=0<=n?++e:--e)this.ticksRectangles[t]=new RectangleMorph,this.ticksRectangles[t].minimumExtent=new Point(1,1),this.add(this.ticksRectangles[t]),this.labelsTextBoxes[t]=new StringMorph2(""),this.labelsTextBoxes[t].fittingSpecWhenBoundsTooLarge=FittingSpecTextInLargerBounds.SCALEUP,this.labelsTextBoxes[t].fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.add(this.labelsTextBoxes[t]);return this.invalidateLayout()},window.AxisWdgt.prototype.rawSetExtent=function(t){return AxisWdgt.__super__.rawSetExtent.apply(this,arguments),this.invalidateLayout()},window.AxisWdgt.prototype.distanceOfAxisOriginFromEdge=function(){var t,e,n,o;return t=this.height(),o=this.width(),e=this.max-this.min+1,t>o?(n=t/(e+1),new Point(-5,n)):(n=o/(e+1),new Point(n,5))},window.AxisWdgt.prototype.doLayout=function(t){var e,n,o,i,r,s,a,l,d;if(null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed())return this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted();for(this.rawSetBounds(t),trackChanges.push(!1),e=this.height(),d=this.width(),n=((s=this.max-this.min+1)-1)*(l=e>d?e/(s+1):d/(s+1)),2,.7,r=.7*l,e>d?(this.majorDimLine.fullRawMoveTo(new Point(this.right()-5,this.top()+l)),this.majorDimLine.setExtent(new Point(2,n))):(this.majorDimLine.fullRawMoveTo(new Point(this.left()+l,this.top()+5)),this.majorDimLine.setExtent(new Point(n,2))),o=i=0,a=s;0<=a?i<a:i>a;o=0<=a?++i:--i)e>d?(this.ticksRectangles[o].fullRawMoveTo(new Point(this.right()-10,this.top()+l+Math.round(o*l))),this.ticksRectangles[o].setExtent(new Point(7,2)),this.labelsTextBoxes[o].setText(""+(this.max-o)),this.labelsTextBoxes[o].fullRawMoveTo(new Point(this.left(),this.top()+l+Math.round(o*l)-r/2)),this.labelsTextBoxes[o].setExtent(new Point(d-10,r)),this.labelsTextBoxes[o].alignMiddle(),this.labelsTextBoxes[o].alignRight()):(this.ticksRectangles[o].fullRawMoveTo(new Point(this.left()+l+Math.round(o*l),this.top()+5)),this.ticksRectangles[o].setExtent(new Point(2,7)),this.labelsTextBoxes[o].setText(""+(this.min+o)),this.labelsTextBoxes[o].fullRawMoveTo(new Point(this.left()+l+Math.round(o*l)-r/2,this.top()+5+5)),this.labelsTextBoxes[o].setExtent(new Point(r,e-10)),this.labelsTextBoxes[o].alignTop(),this.labelsTextBoxes[o].alignCenter());return trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0},window.AxisWdgt.instances=new Set,"function"==typeof window.AxisWdgt.initStaticConstsAfterClassDefinition&&window.AxisWdgt.initStaticConstsAfterClassDefinition(),window.Example3DPlotWdgt=function(){Example3DPlotWdgt.__super__.constructor.call(this),this.defaultRejectDrags=!0,this.isLockingToPanels=!0,this.fps=0,world.steppingWdgts.add(this),this.setColor(new Color(255,125,125)),this.rawSetExtent(new Point(200,200)),this.edges=[],this.quads=[],this.currentAngle=0,this.step(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Example3DPlotWdgt,"name",{value:"Example3DPlotWdgt"}),window.Example3DPlotWdgt.__super__=window.Widget.prototype,window.Example3DPlotWdgt=extend(window.Example3DPlotWdgt,window.Widget),window.Example3DPlotWdgt.prototype.vertices=nil,window.Example3DPlotWdgt.prototype.quads=nil,window.Example3DPlotWdgt.prototype.currentAngle=nil,window.Example3DPlotWdgt.prototype.planeGrid=nil,window.Example3DPlotWdgt.prototype.graphGrid=nil,window.Example3DPlotWdgt.prototype.previousMousePoint=nil,window.Example3DPlotWdgt.prototype.autoRotate=!0,window.Example3DPlotWdgt.prototype.ratio=nil,window.Example3DPlotWdgt.prototype.parameterValue=0,window.Example3DPlotWdgt.prototype.colloquialName=function(){return"3D plot"},window.Example3DPlotWdgt.prototype.setParameter=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.parameterValue=t,this.calculateNewPlotValues()},window.Example3DPlotWdgt.prototype.reactToTargetConnection=function(){return this.calculateNewPlotValues()},window.Example3DPlotWdgt.prototype.numericalSetters=function(t,e){return null==t&&(t=[],e=[]),t.push("param"),e.push("setParameter"),null!=this.addShapeSpecificNumericalSetters&&([t,e]=this.addShapeSpecificNumericalSetters(t,e)),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.Example3DPlotWdgt.prototype.justDropped=function(t){if(Example3DPlotWdgt.__super__.justDropped.apply(this,arguments),t instanceof SimpleVerticalStackPanelWdgt&&!(t instanceof WindowWdgt))return this.constrainToRatio()},window.Example3DPlotWdgt.prototype.holderWindowJustDropped=function(t){if(t instanceof SimpleVerticalStackPanelWdgt&&!(t instanceof WindowWdgt))return this.constrainToRatio()},window.Example3DPlotWdgt.prototype.constrainToRatio=function(){if(null!=this.layoutSpecDetails)return this.ratio=this.width()/this.height(),this.layoutSpecDetails.canSetHeightFreely=!1,this.rawSetExtent(new Point(this.width(),0))},window.Example3DPlotWdgt.prototype.holderWindowJustBeenGrabbed=function(t){if(t instanceof SimpleVerticalStackPanelWdgt)return this.freeFromRatioConstraints()},window.Example3DPlotWdgt.prototype.justBeenGrabbed=function(t){if(t instanceof SimpleVerticalStackPanelWdgt)return this.freeFromRatioConstraints()},window.Example3DPlotWdgt.prototype.freeFromRatioConstraints=function(){var t;if(null!=this.layoutSpecDetails&&(this.layoutSpecDetails.canSetHeightFreely=!0,this.ratio=nil,t=world.height()-20,this.parent.height()>t))return this.parent.rawSetExtent(new Point(Math.min(this.width()/this.height()*t,world.width()),t).round()),this.parent.fullRawMoveTo(world.hand.position().subtract(this.parent.extent().floorDivideBy(2))),this.parent.fullRawMoveWithin(world)},window.Example3DPlotWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){return null!=this.ratio?this.rawSetExtent(new Point(t,Math.round(t/this.ratio))):Example3DPlotWdgt.__super__.rawSetWidthSizeHeightAccordingly.apply(this,arguments)},window.Example3DPlotWdgt.prototype.step=function(){return this.autoRotate&&this.currentAngle++,this.calculateNewPlotValues()},window.Example3DPlotWdgt.prototype.calculateNewPlotValues=function(){var t,e,n,o,i,r;for(this.vertices=[],this.graphGrid=new Grid3D(21,21,[]),t=n=-1;n<=1;t=n+=.1)for(e=o=-1;o<=1;e=o+=.1)this.vertices.push(new Point3D(t,e,Math.sin(t*this.parameterValue/30)+(Math.sin(3*t+this.currentAngle/160)+Math.cos(3*e+this.currentAngle/160))/2)),this.graphGrid.vertexIndexes.push(this.vertices.length-1);for(this.planeGrid=new PlaneGrid3D(21,21),t=i=-1;i<=1;t=i+=.1)this.vertices.push(new Point3D(t,-1,0)),this.planeGrid.vertexIndexes.push(this.vertices.length-1),this.vertices.push(new Point3D(t,1,0)),this.planeGrid.vertexIndexes.push(this.vertices.length-1);for(e=r=-1;r<=1;e=r+=.1)this.vertices.push(new Point3D(-1,e,0)),this.planeGrid.vertexIndexes.push(this.vertices.length-1),this.vertices.push(new Point3D(1,e,0)),this.planeGrid.vertexIndexes.push(this.vertices.length-1);return this.changed()},window.Example3DPlotWdgt.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.backgroundTransparency,this.paintRectangle(t,o,r,h,s,this.backgroundColor),t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.renderingHelper(t,Color.WHITE,n),t.restore(),this.paintHighlight(t,o,r,h,s))},window.Example3DPlotWdgt.prototype.mouseMove=function(t,e){if(!world.hand.isThisPointerDraggingSomething())return"left"===e?(null!=this.previousMousePoint&&(this.currentAngle+=this.previousMousePoint.x-t.x),this.previousMousePoint=t):void 0},window.Example3DPlotWdgt.prototype.mouseDownLeft=function(t){return this.autoRotate=!1,this.bringToForeground()},window.Example3DPlotWdgt.prototype.mouseUpLeft=function(){return this.autoRotate=!0},window.Example3DPlotWdgt.prototype.mouseLeave=function(){return this.autoRotate=!0},window.Example3DPlotWdgt.prototype.renderingHelper=function(t,e,n){var o,i,r,s,a,l,d,h,p,c,w,u,g,f,T,y,S,C,m,W,P,I,b,A,M,v,x,_,B,k,D,E;if(r=this.height(),E=this.width(),null!=n)return t.globalAlpha=n.alpha*this.alpha,t.fillStyle=new Color(80,80,80).toString(),void t.fillRect(0,0,E,r);for(t.fillStyle=WorldMorph.preferencesAndSettings.editableItemBackgroundColor.toString(),t.fillRect(0,0,E,r),D=Math.min(E,r),t.translate((E-D)/2,(r-D)/2),S=[],t.strokeStyle="black",T=t.globalAlpha,t.globalAlpha=.6,t.scale(D/300,D/300),l=0,h=(W=this.vertices).length;l<h;l++)(g=W[l].rotateX(90).rotateY(this.currentAngle/2).translateXYZ(0,.5,0).project(300,300,220,3)).y-=1*D/6,S.push(g);for(d=0,p=(P=this.quads).length;d<p;d++)i=P[d],t.beginPath(),t.moveTo(S[i[0]].x,S[i[0]].y),t.lineTo(S[i[1]].x,S[i[1]].y),t.lineTo(S[i[2]].x,S[i[2]].y),t.lineTo(S[i[3]].x,S[i[3]].y),t.closePath(),t.stroke();for(w=0,c=(I=this.edges).length;w<c;w++)o=I[w],t.beginPath(),t.moveTo(S[o[0]].x,S[o[0]].y),t.lineTo(S[o[1]].x,S[o[1]].y),t.closePath(),t.stroke();for(t.beginPath(),s=u=0,b=this.graphGrid.width-1;0<=b?u<b:u>b;s=0<=b?++u:--u)for(a=f=0,A=this.graphGrid.height;0<=A?f<A:f>A;a=0<=A?++f:--f)s+1+a*this.graphGrid.width<this.graphGrid.vertexIndexes.length&&(t.moveTo(S[this.graphGrid.vertexIndexes[s+a*this.graphGrid.width]].x,S[this.graphGrid.vertexIndexes[s+a*this.graphGrid.width]].y),t.lineTo(S[this.graphGrid.vertexIndexes[s+1+a*this.graphGrid.width]].x,S[this.graphGrid.vertexIndexes[s+1+a*this.graphGrid.width]].y));for(s=y=0,M=this.graphGrid.width;0<=M?y<M:y>M;s=0<=M?++y:--y)for(a=C=0,v=this.graphGrid.height-1;0<=v?C<v:C>v;a=0<=v?++C:--C)s+(a+1)*this.graphGrid.width<this.graphGrid.vertexIndexes.length&&(t.moveTo(S[this.graphGrid.vertexIndexes[s+a*this.graphGrid.width]].x,S[this.graphGrid.vertexIndexes[s+a*this.graphGrid.width]].y),t.lineTo(S[this.graphGrid.vertexIndexes[s+(a+1)*this.graphGrid.width]].x,S[this.graphGrid.vertexIndexes[s+(a+1)*this.graphGrid.width]].y));for(t.closePath(),t.strokeStyle="black",t.stroke(),t.beginPath(),s=m=0,x=this.planeGrid.width-1;0<=x?m<x:m>x;s=0<=x?++m:--m)t.moveTo(S[this.planeGrid.vertexIndexes[2*s]].x,S[this.planeGrid.vertexIndexes[2*s]].y),t.lineTo(S[this.planeGrid.vertexIndexes[2*s+1]].x,S[this.planeGrid.vertexIndexes[2*s+1]].y);for(s=k=_=this.planeGrid.width-1,B=this.planeGrid.width+this.planeGrid.height;_<=B?k<B:k>B;s=_<=B?++k:--k)t.moveTo(S[this.planeGrid.vertexIndexes[2*s]].x,S[this.planeGrid.vertexIndexes[2*s]].y),t.lineTo(S[this.planeGrid.vertexIndexes[2*s+1]].x,S[this.planeGrid.vertexIndexes[2*s+1]].y);return t.closePath(),t.strokeStyle="grey",t.stroke(),t.globalAlpha=T},window.Example3DPlotWdgt.instances=new Set,"function"==typeof window.Example3DPlotWdgt.initStaticConstsAfterClassDefinition&&window.Example3DPlotWdgt.initStaticConstsAfterClassDefinition(),window.GraphsPlotsChartsWdgt=function(t){this.drawOnlyPartOfBoundingRect=t,GraphsPlotsChartsWdgt.__super__.constructor.call(this),this.setColor(new Color(255,125,125)),this.rawSetExtent(new Point(200,200)),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GraphsPlotsChartsWdgt,"name",{value:"GraphsPlotsChartsWdgt"}),window.GraphsPlotsChartsWdgt.__super__=window.Widget.prototype,window.GraphsPlotsChartsWdgt=extend(window.GraphsPlotsChartsWdgt,window.Widget),window.GraphsPlotsChartsWdgt.augmentWith(window.KeepsRatioWhenInVerticalStackMixin,"GraphsPlotsChartsWdgt"),window.GraphsPlotsChartsWdgt.prototype.drawOnlyPartOfBoundingRect=!1,window.GraphsPlotsChartsWdgt.prototype.seededRandom=function(){var t;return(t=1e4*Math.sin(this.seed++))-Math.floor(t)},window.GraphsPlotsChartsWdgt.prototype.seeded_randn_bm=function(){var t,e;for(t=0,e=0;0===t;)t=this.seededRandom();for(;0===e;)e=this.seededRandom();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)},window.GraphsPlotsChartsWdgt.prototype.simpleShadow=function(t,e,n){var o,i;if(o=this.height(),i=this.width(),null!=n)return t.globalAlpha=n.alpha*this.alpha,t.fillStyle=new Color(80,80,80).toString(),t.fillRect(0,0,i,o)},window.GraphsPlotsChartsWdgt.prototype.drawBoundingBox=function(t,e,n){var o,i;return o=this.height(),i=this.width(),t.strokeStyle=new Color(30,30,30).toString(),this.drawOnlyPartOfBoundingRect?(t.beginPath(),t.moveTo(0,0),t.lineTo(i,0),t.lineTo(i,o),t.stroke()):t.strokeRect(0,0,i,o)},window.GraphsPlotsChartsWdgt.instances=new Set,"function"==typeof window.GraphsPlotsChartsWdgt.initStaticConstsAfterClassDefinition&&window.GraphsPlotsChartsWdgt.initStaticConstsAfterClassDefinition(),window.ExampleBarPlotWdgt=function(t){this.drawOnlyPartOfBoundingRect=t,ExampleBarPlotWdgt.__super__.constructor.call(this),this.fps=.5,world.steppingWdgts.add(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExampleBarPlotWdgt,"name",{value:"ExampleBarPlotWdgt"}),window.ExampleBarPlotWdgt.__super__=window.GraphsPlotsChartsWdgt.prototype,window.ExampleBarPlotWdgt=extend(window.ExampleBarPlotWdgt,window.GraphsPlotsChartsWdgt),window.ExampleBarPlotWdgt.prototype.graphNumber=1,window.ExampleBarPlotWdgt.prototype.drawOnlyPartOfBoundingRect=!1,window.ExampleBarPlotWdgt.prototype.colloquialName=function(){return"Bar plot"},window.ExampleBarPlotWdgt.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.backgroundTransparency,this.paintRectangle(t,o,r,h,s,this.backgroundColor),t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.renderingHelper(t,Color.WHITE,n),t.restore(),this.paintHighlight(t,o,r,h,s))},window.ExampleBarPlotWdgt.prototype.step=function(){return this.graphNumber++,this.changed()},window.ExampleBarPlotWdgt.prototype.renderingHelper=function(t,e,n){var o,i,r,s,a,l,d;if(this.seed=this.graphNumber,5,i=this.height(),l=this.width(),null==n){for(t.fillStyle=WorldMorph.preferencesAndSettings.editableItemBackgroundColor.toString(),t.fillRect(0,0,l,i),o=i,t.globalAlpha=this.alpha,s=a=0;a<=20;s=++a)d=s/21*l,r=.2+3*Math.sin(s/100)-s/1e4+this.seeded_randn_bm()/20,this.seededRandom()>.5?t.fillStyle="#325FA2":t.fillStyle="#FF0000",t.fillRect(Math.round(d),Math.round(o-o*r),Math.round(.05*l-2),Math.round(o*r));return this.drawBoundingBox(t,e,n)}this.simpleShadow(t,e,n)},window.ExampleBarPlotWdgt.instances=new Set,"function"==typeof window.ExampleBarPlotWdgt.initStaticConstsAfterClassDefinition&&window.ExampleBarPlotWdgt.initStaticConstsAfterClassDefinition(),window.ExampleFunctionPlotWdgt=function(t){this.drawOnlyPartOfBoundingRect=t,ExampleFunctionPlotWdgt.__super__.constructor.call(this),this.fps=2,world.steppingWdgts.add(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExampleFunctionPlotWdgt,"name",{value:"ExampleFunctionPlotWdgt"}),window.ExampleFunctionPlotWdgt.__super__=window.GraphsPlotsChartsWdgt.prototype,window.ExampleFunctionPlotWdgt=extend(window.ExampleFunctionPlotWdgt,window.GraphsPlotsChartsWdgt),window.ExampleFunctionPlotWdgt.prototype.graphNumber=1,window.ExampleFunctionPlotWdgt.prototype.drawOnlyPartOfBoundingRect=!1,window.ExampleFunctionPlotWdgt.prototype.colloquialName=function(){return"Function plot"},window.ExampleFunctionPlotWdgt.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.backgroundTransparency,this.paintRectangle(t,o,r,h,s,this.backgroundColor),t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.renderingHelper(t,Color.WHITE,n),t.restore(),this.paintHighlight(t,o,r,h,s))},window.ExampleFunctionPlotWdgt.prototype.step=function(){return this.graphNumber++,this.changed()},window.ExampleFunctionPlotWdgt.prototype.renderingHelper=function(t,e,n){var o,i,r,s,a,l,d,h,p;if(this.seed=this.graphNumber,5,r=this.height(),h=this.width(),null==n){for(t.fillStyle=WorldMorph.preferencesAndSettings.editableItemBackgroundColor.toString(),t.fillRect(0,0,h,r),i=r-10,h-10,t.globalAlpha=(null!=n?n.alpha:1)*this.alpha,t.fillStyle="#325FA2",o=this.seededRandom(),p=l=0,d=h;0<=d?l<=d:l>=d;p=0<=d?++l:--l)a=p/h*1e3,s=.5+Math.sin(10*o+a/(300*(o+.01)))/3-a/(5e3+5e4*o),t.fillRect(p,i*s,2,2);return this.drawBoundingBox(t,e,n)}this.simpleShadow(t,e,n)},window.ExampleFunctionPlotWdgt.instances=new Set,"function"==typeof window.ExampleFunctionPlotWdgt.initStaticConstsAfterClassDefinition&&window.ExampleFunctionPlotWdgt.initStaticConstsAfterClassDefinition(),window.ExampleScatterPlotWdgt=function(t){this.drawOnlyPartOfBoundingRect=t,ExampleScatterPlotWdgt.__super__.constructor.call(this),this.fps=1,world.steppingWdgts.add(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExampleScatterPlotWdgt,"name",{value:"ExampleScatterPlotWdgt"}),window.ExampleScatterPlotWdgt.__super__=window.GraphsPlotsChartsWdgt.prototype,window.ExampleScatterPlotWdgt=extend(window.ExampleScatterPlotWdgt,window.GraphsPlotsChartsWdgt),window.ExampleScatterPlotWdgt.prototype.graphNumber=1,window.ExampleScatterPlotWdgt.prototype.drawOnlyPartOfBoundingRect=!1,window.ExampleScatterPlotWdgt.prototype.colloquialName=function(){return"Scatter plot"},window.ExampleScatterPlotWdgt.prototype.paintIntoAreaOrBlitFromBackBuffer=function(t,e,n){var o,i,r,s,a,l,d,h;if(!this.preliminaryCheckNothingToDraw(e,t))return[i,l,d,o,r,h,s]=this.calculateKeyValues(t,e),h<1||s<1||i.isEmpty()?nil:(t.save(),t.clipToRectangle(o,r,h,s),t.globalAlpha=(null!=n?n.alpha:1)*this.backgroundTransparency,this.paintRectangle(t,o,r,h,s,this.backgroundColor),t.useLogicalPixelsUntilRestore(),a=this.position(),t.translate(a.x,a.y),this.renderingHelper(t,Color.WHITE,n),t.restore(),this.paintHighlight(t,o,r,h,s))},window.ExampleScatterPlotWdgt.prototype.step=function(){return this.graphNumber++,this.changed()},window.ExampleScatterPlotWdgt.prototype.renderingHelper=function(t,e,n){var o,i,r,s,a,l,d,h;if(this.seed=this.graphNumber,5,r=this.height(),d=this.width(),null==n){for(t.fillStyle=WorldMorph.preferencesAndSettings.editableItemBackgroundColor.toString(),t.fillRect(0,0,d,r),o=r-10,i=d-10,t.globalAlpha=this.alpha,t.lineWidth=1,t.beginPath(),a=0;a<100;++a)h=.4+this.seeded_randn_bm()/10,s=.4+this.seeded_randn_bm()/10,t.moveTo(Math.round(10+i*h),Math.round(5+o*s)),t.arc(Math.round(5+i*h),Math.round(5+o*s),5,0,2*Math.PI);for(t.strokeStyle="#325FA2",t.stroke(),t.beginPath(),l=0;l<100;++l)h=.6+this.seeded_randn_bm()/10,s=.6+this.seeded_randn_bm()/10,t.moveTo(Math.round(10+i*h),Math.round(5+o*s)),t.arc(Math.round(5+i*h),Math.round(5+o*s),5,0,2*Math.PI);return t.strokeStyle="#FF0000",t.stroke(),this.drawBoundingBox(t,e,n)}this.simpleShadow(t,e,n)},window.ExampleScatterPlotWdgt.instances=new Set,"function"==typeof window.ExampleScatterPlotWdgt.initStaticConstsAfterClassDefinition&&window.ExampleScatterPlotWdgt.initStaticConstsAfterClassDefinition(),window.Grid3D=function(t,e,n=[]){this.width=t,this.height=e,this.vertexIndexes=n,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Grid3D,"name",{value:"Grid3D"}),window.Grid3D.__super__=Object.prototype,window.Grid3D.augmentWith(window.DeepCopierMixin,"Grid3D"),window.Grid3D.prototype.width=nil,window.Grid3D.prototype.height=nil,window.Grid3D.prototype.vertexIndexes=nil,window.Grid3D.instances=new Set,"function"==typeof window.Grid3D.initStaticConstsAfterClassDefinition&&window.Grid3D.initStaticConstsAfterClassDefinition(),window.PlaneGrid3D=function(t,e,n=[]){this.width=t,this.height=e,this.vertexIndexes=n,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PlaneGrid3D,"name",{value:"PlaneGrid3D"}),window.PlaneGrid3D.__super__=Object.prototype,window.PlaneGrid3D.augmentWith(window.DeepCopierMixin,"PlaneGrid3D"),window.PlaneGrid3D.prototype.width=nil,window.PlaneGrid3D.prototype.height=nil,window.PlaneGrid3D.prototype.vertexIndexes=nil,window.PlaneGrid3D.instances=new Set,"function"==typeof window.PlaneGrid3D.initStaticConstsAfterClassDefinition&&window.PlaneGrid3D.initStaticConstsAfterClassDefinition(),window.PlotWithAxesWdgt=function(t){this.plot=t,PlotWithAxesWdgt.__super__.constructor.apply(this,arguments),this.plot.drawOnlyPartOfBoundingRect=!0,this.appearance=new RectangularAppearance(this),this.add(this.plot),this.vertAxis=new AxisWdgt(-5,5),this.add(this.vertAxis),this.horizAxis=new AxisWdgt(-5,5),this.add(this.horizAxis),this.setColor(new Color(242,242,242)),this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.PlotWithAxesWdgt,"name",{value:"PlotWithAxesWdgt"}),window.PlotWithAxesWdgt.__super__=window.Widget.prototype,window.PlotWithAxesWdgt=extend(window.PlotWithAxesWdgt,window.Widget),window.PlotWithAxesWdgt.augmentWith(window.KeepsRatioWhenInVerticalStackMixin,"PlotWithAxesWdgt"),window.PlotWithAxesWdgt.prototype.colloquialName=function(){return this.plot.colloquialName()},window.PlotWithAxesWdgt.prototype.rawSetExtent=function(t){return PlotWithAxesWdgt.__super__.rawSetExtent.apply(this,arguments),this.invalidateLayout()},window.PlotWithAxesWdgt.prototype.doLayout=function(t){var e,n,o;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),n=this.height(),o=this.width(),35,this.vertAxis.rawSetExtent(new Point(o/10-4,n).round()),this.vertAxis.fullRawMoveTo(this.position().add(new Point(0,-2)).subtract(new Point(-o/35,n/35).round())),this.horizAxis.rawSetExtent(new Point(o,n/10).round()),e=this.vertAxis.left()+this.horizAxis.distanceOfAxisOriginFromEdge().x-(this.vertAxis.right()+this.vertAxis.distanceOfAxisOriginFromEdge().x),this.horizAxis.fullRawMoveTo(this.bottomLeft().subtract(new Point(e,n/10)).round().subtract(new Point(-o/35,n/35).round())),this.plot.rawSetExtent(new Point(o-2*this.horizAxis.distanceOfAxisOriginFromEdge().x,n-2*this.vertAxis.distanceOfAxisOriginFromEdge().y).round()),this.plot.fullRawMoveTo(this.position().add(new Point(this.horizAxis.distanceOfAxisOriginFromEdge().x-e+1,this.vertAxis.distanceOfAxisOriginFromEdge().y-1)).round().subtract(new Point(-o/35,n/35).round())),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.PlotWithAxesWdgt.instances=new Set,"function"==typeof window.PlotWithAxesWdgt.initStaticConstsAfterClassDefinition&&window.PlotWithAxesWdgt.initStaticConstsAfterClassDefinition(),window.Point3D=function(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.Point3D,"name",{value:"Point3D"}),window.Point3D.__super__=Object.prototype,window.Point3D.augmentWith(window.DeepCopierMixin,"Point3D"),window.Point3D.prototype.x=nil,window.Point3D.prototype.y=nil,window.Point3D.prototype.z=nil,window.Point3D.prototype.rotateX=function(t){var e,n,o,i,r;return n=t*Math.PI/180,e=Math.cos(n),o=Math.sin(n),i=this.y*e-this.z*o,r=this.y*o+this.z*e,new this.constructor(this.x,i,r)},window.Point3D.prototype.rotateY=function(t){var e,n,o,i,r;return n=t*Math.PI/180,e=Math.cos(n),o=Math.sin(n),r=this.z*e-this.x*o,i=this.z*o+this.x*e,new this.constructor(i,this.y,r)},window.Point3D.prototype.rotateZ=function(t){var e,n,o,i,r;return n=t*Math.PI/180,e=Math.cos(n),o=Math.sin(n),i=this.x*e-this.y*o,r=this.x*o+this.y*e,new this.constructor(i,r,this.z)},window.Point3D.prototype.translateXYZ=function(t,e,n){return new this.constructor(this.x+t,this.y+e,this.z+n)},window.Point3D.prototype.project=function(t,e,n,o){var i,r,s;return i=n/(o+this.z),r=this.x*i+t/2,s=this.y*i+e/2,new Point(r,s)},window.Point3D.instances=new Set,"function"==typeof window.Point3D.initStaticConstsAfterClassDefinition&&window.Point3D.initStaticConstsAfterClassDefinition(),window.AlignCenterIconAppearance=function(t){this.morph=t,AlignCenterIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignCenterIconAppearance,"name",{value:"AlignCenterIconAppearance"}),window.AlignCenterIconAppearance.__super__=window.IconAppearance.prototype,window.AlignCenterIconAppearance=extend(window.AlignCenterIconAppearance,window.IconAppearance),window.AlignCenterIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(30.5,38.5),t.lineTo(70.5,38.5),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(25.03,61.25),t.lineTo(75.66,61.25),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(15.5,17.5),t.lineTo(86.66,17.46),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(17.16,82.54),t.lineTo(84.66,82.54),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(14,17),t.lineTo(89,17),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(15.75,82),t.lineTo(87,82),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(23.69,60.71),t.lineTo(79,60.71),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(29.88,38.36),t.lineTo(73,38.36),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke()},window.AlignCenterIconAppearance.instances=new Set,"function"==typeof window.AlignCenterIconAppearance.initStaticConstsAfterClassDefinition&&window.AlignCenterIconAppearance.initStaticConstsAfterClassDefinition(),window.AlignCenterIconWdgt=function(t){this.color=t,AlignCenterIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignCenterIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignCenterIconWdgt,"name",{value:"AlignCenterIconWdgt"}),window.AlignCenterIconWdgt.__super__=window.IconMorph.prototype,window.AlignCenterIconWdgt=extend(window.AlignCenterIconWdgt,window.IconMorph),window.AlignCenterIconWdgt.instances=new Set,"function"==typeof window.AlignCenterIconWdgt.initStaticConstsAfterClassDefinition&&window.AlignCenterIconWdgt.initStaticConstsAfterClassDefinition(),window.AlignLeftIconAppearance=function(t){this.morph=t,AlignLeftIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignLeftIconAppearance,"name",{value:"AlignLeftIconAppearance"}),window.AlignLeftIconAppearance.__super__=window.IconAppearance.prototype,window.AlignLeftIconAppearance=extend(window.AlignLeftIconAppearance,window.IconAppearance),window.AlignLeftIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(15.5,38.5),t.lineTo(55.5,38.5),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(15.03,61.25),t.lineTo(65.66,61.25),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(14.5,17.5),t.lineTo(85.66,17.46),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(14.16,82.54),t.lineTo(81.66,82.54),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(13,17),t.lineTo(88,17),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(12.75,82),t.lineTo(84,82),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(13.69,60.71),t.lineTo(69,60.71),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(13.88,38.36),t.lineTo(57,38.36),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke()},window.AlignLeftIconAppearance.instances=new Set,"function"==typeof window.AlignLeftIconAppearance.initStaticConstsAfterClassDefinition&&window.AlignLeftIconAppearance.initStaticConstsAfterClassDefinition(),window.AlignLeftIconWdgt=function(t){this.color=t,AlignLeftIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignLeftIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignLeftIconWdgt,"name",{value:"AlignLeftIconWdgt"}),window.AlignLeftIconWdgt.__super__=window.IconMorph.prototype,window.AlignLeftIconWdgt=extend(window.AlignLeftIconWdgt,window.IconMorph),window.AlignLeftIconWdgt.instances=new Set,"function"==typeof window.AlignLeftIconWdgt.initStaticConstsAfterClassDefinition&&window.AlignLeftIconWdgt.initStaticConstsAfterClassDefinition(),window.AlignRightIconAppearance=function(t){this.morph=t,AlignRightIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignRightIconAppearance,"name",{value:"AlignRightIconAppearance"}),window.AlignRightIconAppearance.__super__=window.IconAppearance.prototype,window.AlignRightIconAppearance=extend(window.AlignRightIconAppearance,window.IconAppearance),window.AlignRightIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(44.5,38.5),t.lineTo(84.5,38.5),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(35.03,61.25),t.lineTo(85.66,61.25),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(14.5,17.5),t.lineTo(85.66,17.46),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(18.16,82.54),t.lineTo(85.66,82.54),t.strokeStyle=n,t.lineWidth=23,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(13,17),t.lineTo(88,17),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(16.75,82),t.lineTo(88,82),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(32.69,60.71),t.lineTo(88,60.71),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(43.88,38.36),t.lineTo(87,38.36),t.strokeStyle=e,t.lineWidth=8.5,t.lineCap="round",t.stroke()},window.AlignRightIconAppearance.instances=new Set,"function"==typeof window.AlignRightIconAppearance.initStaticConstsAfterClassDefinition&&window.AlignRightIconAppearance.initStaticConstsAfterClassDefinition(),window.AlignRightIconWdgt=function(t){this.color=t,AlignRightIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AlignRightIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AlignRightIconWdgt,"name",{value:"AlignRightIconWdgt"}),window.AlignRightIconWdgt.__super__=window.IconMorph.prototype,window.AlignRightIconWdgt=extend(window.AlignRightIconWdgt,window.IconMorph),window.AlignRightIconWdgt.instances=new Set,"function"==typeof window.AlignRightIconWdgt.initStaticConstsAfterClassDefinition&&window.AlignRightIconWdgt.initStaticConstsAfterClassDefinition(),window.AllPlotsIconAppearance=function(t){this.morph=t,AllPlotsIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AllPlotsIconAppearance,"name",{value:"AllPlotsIconAppearance"}),window.AllPlotsIconAppearance.__super__=window.IconAppearance.prototype,window.AllPlotsIconAppearance=extend(window.AllPlotsIconAppearance,window.IconAppearance),window.AllPlotsIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(7,8),t.lineTo(11.25,8),t.lineTo(11.25,88.76),t.lineTo(92,88.76),t.lineTo(92,93),t.lineTo(7,93),t.lineTo(7,8),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,37,20,5,5),t.fillStyle=e,t.fill(),this.oval(t,20,39,5,5),t.fillStyle=e,t.fill(),this.oval(t,20,18,5,5),t.fillStyle=e,t.fill(),this.oval(t,29,29,5,5),t.fillStyle=e,t.fill(),this.oval(t,42,29,5,5),t.fillStyle=e,t.fill(),this.oval(t,53,25,5,5),t.fillStyle=e,t.fill(),this.oval(t,53,15,5,5),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(20.06,79.26),t.lineTo(15.23,75.9),t.lineTo(26.06,56.31),t.bezierCurveTo(30.65,47.24,35.32,43.21,40.07,44.24),t.bezierCurveTo(43.14,44.9,54.09,61.41,57.5,57.37),t.bezierCurveTo(58.98,57.16,82.84,11.04,82.84,11.04),t.lineTo(87.75,14.04),t.bezierCurveTo(87.75,14.04,64.04,58.55,62.73,60.59),t.bezierCurveTo(61.13,62.57,59.42,63.75,57.1,63.64),t.bezierCurveTo(54.43,63.84,52,63,48.31,59.85),t.bezierCurveTo(44.62,56.71,41.39,52.14,38.2,51.57),t.bezierCurveTo(35,51,32.45,56.53,30.62,59.61),t.lineTo(20.06,79.26),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(79,41,11,45),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(63,66,11,20),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(47,72,11,14),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(32,66,10,20),t.fillStyle=e,t.fill()},window.AllPlotsIconAppearance.instances=new Set,"function"==typeof window.AllPlotsIconAppearance.initStaticConstsAfterClassDefinition&&window.AllPlotsIconAppearance.initStaticConstsAfterClassDefinition(),window.AllPlotsIconWdgt=function(t){this.color=t,AllPlotsIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new AllPlotsIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AllPlotsIconWdgt,"name",{value:"AllPlotsIconWdgt"}),window.AllPlotsIconWdgt.__super__=window.IconMorph.prototype,window.AllPlotsIconWdgt=extend(window.AllPlotsIconWdgt,window.IconMorph),window.AllPlotsIconWdgt.instances=new Set,"function"==typeof window.AllPlotsIconWdgt.initStaticConstsAfterClassDefinition&&window.AllPlotsIconWdgt.initStaticConstsAfterClassDefinition(),window.AngledArrowUpLeftIconAppearance=function(){window.AngledArrowUpLeftIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AngledArrowUpLeftIconAppearance,"name",{value:"AngledArrowUpLeftIconAppearance"}),window.AngledArrowUpLeftIconAppearance.__super__=window.IconAppearance.prototype,window.AngledArrowUpLeftIconAppearance=extend(window.AngledArrowUpLeftIconAppearance,window.IconAppearance),window.AngledArrowUpLeftIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.save(),t.translate(90,37),t.rotate(90*Math.PI/180),t.beginPath(),t.moveTo(-25,-9.04),t.lineTo(16.6,32.5),t.lineTo(16.6,1.35),t.lineTo(79,1.35),t.lineTo(79,-102.5),t.lineTo(58.2,-102.5),t.lineTo(58.2,-19.42),t.lineTo(16.6,-19.42),t.lineTo(16.6,-50.58),t.bezierCurveTo(-4.2,-29.81,-25,-9.04,-25,-9.04),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.restore()},window.AngledArrowUpLeftIconAppearance.instances=new Set,"function"==typeof window.AngledArrowUpLeftIconAppearance.initStaticConstsAfterClassDefinition&&window.AngledArrowUpLeftIconAppearance.initStaticConstsAfterClassDefinition(),window.AngledArrowUpLeftIconMorph=function(t){this.color=t,AngledArrowUpLeftIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new AngledArrowUpLeftIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.AngledArrowUpLeftIconMorph,"name",{value:"AngledArrowUpLeftIconMorph"}),window.AngledArrowUpLeftIconMorph.__super__=window.IconMorph.prototype,window.AngledArrowUpLeftIconMorph=extend(window.AngledArrowUpLeftIconMorph,window.IconMorph),window.AngledArrowUpLeftIconMorph.instances=new Set,"function"==typeof window.AngledArrowUpLeftIconMorph.initStaticConstsAfterClassDefinition&&window.AngledArrowUpLeftIconMorph.initStaticConstsAfterClassDefinition(),window.ArrowEIconAppearance=function(t){this.morph=t,ArrowEIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowEIconAppearance,"name",{value:"ArrowEIconAppearance"}),window.ArrowEIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowEIconAppearance=extend(window.ArrowEIconAppearance,window.IconAppearance),window.ArrowEIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(49.56,2),t.lineTo(30.42,21.15),t.bezierCurveTo(30.42,21.15,37.12,27.85,46.61,37.35),t.lineTo(2,37.35),t.lineTo(2,63.64),t.lineTo(46.61,63.64),t.lineTo(30.41,79.85),t.lineTo(49.56,99),t.lineTo(98,50.5),t.lineTo(49.56,2),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(49.55,4.94),t.lineTo(33.42,21.09),t.bezierCurveTo(33.42,21.09,42.47,30.15,51.39,39.07),t.lineTo(3.96,39.07),t.lineTo(3.96,61.92),t.lineTo(51.39,61.92),t.lineTo(33.41,79.91),t.lineTo(49.55,96.06),t.lineTo(95.06,50.5),t.lineTo(49.55,4.94),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowEIconAppearance.instances=new Set,"function"==typeof window.ArrowEIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowEIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowEIconWdgt=function(t){this.color=t,ArrowEIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowEIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowEIconWdgt,"name",{value:"ArrowEIconWdgt"}),window.ArrowEIconWdgt.__super__=window.IconMorph.prototype,window.ArrowEIconWdgt=extend(window.ArrowEIconWdgt,window.IconMorph),window.ArrowEIconWdgt.instances=new Set,"function"==typeof window.ArrowEIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowEIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowNEIconAppearance=function(t){this.morph=t,ArrowNEIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNEIconAppearance,"name",{value:"ArrowNEIconAppearance"}),window.ArrowNEIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowNEIconAppearance=extend(window.ArrowNEIconAppearance,window.IconAppearance),window.ArrowNEIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(16.12,7.13),t.lineTo(16.26,37.43),t.bezierCurveTo(16.26,37.43,26.86,37.47,41.89,37.54),t.lineTo(6.73,72.7),t.lineTo(27.62,93.59),t.lineTo(62.78,58.43),t.lineTo(62.89,84.08),t.lineTo(93.2,84.2),t.lineTo(92.84,7.49),t.lineTo(16.12,7.13),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(18.46,9.47),t.lineTo(18.57,35.02),t.bezierCurveTo(18.57,35.02,32.9,35.08,47.02,35.14),t.lineTo(9.64,72.52),t.lineTo(27.8,90.68),t.lineTo(65.18,53.3),t.lineTo(65.3,81.76),t.lineTo(90.86,81.87),t.lineTo(90.52,9.8),t.lineTo(18.46,9.47),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowNEIconAppearance.instances=new Set,"function"==typeof window.ArrowNEIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowNEIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowNEIconWdgt=function(t){this.color=t,ArrowNEIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowNEIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNEIconWdgt,"name",{value:"ArrowNEIconWdgt"}),window.ArrowNEIconWdgt.__super__=window.IconMorph.prototype,window.ArrowNEIconWdgt=extend(window.ArrowNEIconWdgt,window.IconMorph),window.ArrowNEIconWdgt.instances=new Set,"function"==typeof window.ArrowNEIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowNEIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowNIconAppearance=function(t){this.morph=t,ArrowNIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNIconAppearance,"name",{value:"ArrowNIconAppearance"}),window.ArrowNIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowNIconAppearance=extend(window.ArrowNIconAppearance,window.IconAppearance),window.ArrowNIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(1.5,50.94),t.lineTo(20.65,70.08),t.bezierCurveTo(20.65,70.08,27.35,63.38,36.85,53.89),t.lineTo(36.85,98.5),t.lineTo(63.14,98.5),t.lineTo(63.14,53.89),t.lineTo(79.35,70.09),t.lineTo(98.5,50.94),t.lineTo(50,2.5),t.lineTo(1.5,50.94),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(4.44,50.95),t.lineTo(20.59,67.08),t.bezierCurveTo(20.59,67.08,29.65,58.03,38.57,49.11),t.lineTo(38.57,96.54),t.lineTo(61.42,96.54),t.lineTo(61.42,49.11),t.lineTo(79.41,67.09),t.lineTo(95.56,50.95),t.lineTo(50,5.44),t.lineTo(4.44,50.95),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowNIconAppearance.instances=new Set,"function"==typeof window.ArrowNIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowNIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowNIconWdgt=function(t){this.color=t,ArrowNIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowNIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNIconWdgt,"name",{value:"ArrowNIconWdgt"}),window.ArrowNIconWdgt.__super__=window.IconMorph.prototype,window.ArrowNIconWdgt=extend(window.ArrowNIconWdgt,window.IconMorph),window.ArrowNIconWdgt.instances=new Set,"function"==typeof window.ArrowNIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowNIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowNWIconAppearance=function(t){this.morph=t,ArrowNWIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNWIconAppearance,"name",{value:"ArrowNWIconAppearance"}),window.ArrowNWIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowNWIconAppearance=extend(window.ArrowNWIconAppearance,window.IconAppearance),window.ArrowNWIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(6.63,83.38),t.lineTo(36.93,83.24),t.bezierCurveTo(36.93,83.24,36.97,72.64,37.04,57.61),t.lineTo(72.2,92.77),t.lineTo(93.09,71.88),t.lineTo(57.93,36.72),t.lineTo(83.58,36.61),t.lineTo(83.7,6.3),t.lineTo(6.99,6.66),t.lineTo(6.63,83.38),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(8.97,81.04),t.lineTo(34.52,80.93),t.bezierCurveTo(34.52,80.93,34.58,66.6,34.64,52.48),t.lineTo(72.02,89.86),t.lineTo(90.18,71.7),t.lineTo(52.8,34.32),t.lineTo(81.26,34.2),t.lineTo(81.37,8.64),t.lineTo(9.3,8.98),t.lineTo(8.97,81.04),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowNWIconAppearance.instances=new Set,"function"==typeof window.ArrowNWIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowNWIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowNWIconWdgt=function(t){this.color=t,ArrowNWIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowNWIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowNWIconWdgt,"name",{value:"ArrowNWIconWdgt"}),window.ArrowNWIconWdgt.__super__=window.IconMorph.prototype,window.ArrowNWIconWdgt=extend(window.ArrowNWIconWdgt,window.IconMorph),window.ArrowNWIconWdgt.instances=new Set,"function"==typeof window.ArrowNWIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowNWIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowSEIconAppearance=function(t){this.morph=t,ArrowSEIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSEIconAppearance,"name",{value:"ArrowSEIconAppearance"}),window.ArrowSEIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowSEIconAppearance=extend(window.ArrowSEIconAppearance,window.IconAppearance),window.ArrowSEIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(93.37,16.62),t.lineTo(63.07,16.76),t.bezierCurveTo(63.07,16.76,63.03,27.36,62.96,42.39),t.lineTo(27.8,7.23),t.lineTo(6.91,28.12),t.lineTo(42.07,63.28),t.lineTo(16.42,63.39),t.lineTo(16.3,93.7),t.lineTo(93.01,93.34),t.lineTo(93.37,16.62),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(91.03,18.96),t.lineTo(65.48,19.07),t.bezierCurveTo(65.48,19.07,65.42,33.4,65.36,47.52),t.lineTo(27.98,10.14),t.lineTo(9.82,28.3),t.lineTo(47.2,65.68),t.lineTo(18.74,65.8),t.lineTo(18.63,91.36),t.lineTo(90.7,91.02),t.lineTo(91.03,18.96),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowSEIconAppearance.instances=new Set,"function"==typeof window.ArrowSEIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowSEIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowSEIconWdgt=function(t){this.color=t,ArrowSEIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowSEIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSEIconWdgt,"name",{value:"ArrowSEIconWdgt"}),window.ArrowSEIconWdgt.__super__=window.IconMorph.prototype,window.ArrowSEIconWdgt=extend(window.ArrowSEIconWdgt,window.IconMorph),window.ArrowSEIconWdgt.instances=new Set,"function"==typeof window.ArrowSEIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowSEIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowSIconAppearance=function(t){this.morph=t,ArrowSIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSIconAppearance,"name",{value:"ArrowSIconAppearance"}),window.ArrowSIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowSIconAppearance=extend(window.ArrowSIconAppearance,window.IconAppearance),window.ArrowSIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(98.5,50.06),t.lineTo(79.35,30.92),t.bezierCurveTo(79.35,30.92,72.65,37.62,63.15,47.11),t.lineTo(63.15,2.5),t.lineTo(36.86,2.5),t.lineTo(36.86,47.11),t.lineTo(20.65,30.91),t.lineTo(1.5,50.06),t.lineTo(50,98.5),t.lineTo(98.5,50.06),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(95.56,50.05),t.lineTo(79.41,33.92),t.bezierCurveTo(79.41,33.92,70.35,42.97,61.43,51.89),t.lineTo(61.43,4.46),t.lineTo(38.58,4.46),t.lineTo(38.58,51.89),t.lineTo(20.59,33.91),t.lineTo(4.44,50.05),t.lineTo(50,95.56),t.lineTo(95.56,50.05),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowSIconAppearance.instances=new Set,"function"==typeof window.ArrowSIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowSIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowSIconWdgt=function(t){this.color=t,ArrowSIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowSIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSIconWdgt,"name",{value:"ArrowSIconWdgt"}),window.ArrowSIconWdgt.__super__=window.IconMorph.prototype,window.ArrowSIconWdgt=extend(window.ArrowSIconWdgt,window.IconMorph),window.ArrowSIconWdgt.instances=new Set,"function"==typeof window.ArrowSIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowSIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowSWIconAppearance=function(t){this.morph=t,ArrowSWIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSWIconAppearance,"name",{value:"ArrowSWIconAppearance"}),window.ArrowSWIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowSWIconAppearance=extend(window.ArrowSWIconAppearance,window.IconAppearance),window.ArrowSWIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(83.88,92.87),t.lineTo(83.74,62.57),t.bezierCurveTo(83.74,62.57,73.14,62.53,58.11,62.46),t.lineTo(93.27,27.3),t.lineTo(72.38,6.41),t.lineTo(37.22,41.57),t.lineTo(37.11,15.92),t.lineTo(6.8,15.8),t.lineTo(7.16,92.51),t.lineTo(83.88,92.87),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(81.54,90.53),t.lineTo(81.43,64.98),t.bezierCurveTo(81.43,64.98,67.1,64.92,52.98,64.86),t.lineTo(90.36,27.48),t.lineTo(72.2,9.32),t.lineTo(34.82,46.7),t.lineTo(34.7,18.24),t.lineTo(9.14,18.13),t.lineTo(9.48,90.2),t.lineTo(81.54,90.53),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowSWIconAppearance.instances=new Set,"function"==typeof window.ArrowSWIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowSWIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowSWIconWdgt=function(t){this.color=t,ArrowSWIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowSWIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowSWIconWdgt,"name",{value:"ArrowSWIconWdgt"}),window.ArrowSWIconWdgt.__super__=window.IconMorph.prototype,window.ArrowSWIconWdgt=extend(window.ArrowSWIconWdgt,window.IconMorph),window.ArrowSWIconWdgt.instances=new Set,"function"==typeof window.ArrowSWIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowSWIconWdgt.initStaticConstsAfterClassDefinition(),window.ArrowWIconAppearance=function(t){this.morph=t,ArrowWIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowWIconAppearance,"name",{value:"ArrowWIconAppearance"}),window.ArrowWIconAppearance.__super__=window.IconAppearance.prototype,window.ArrowWIconAppearance=extend(window.ArrowWIconAppearance,window.IconAppearance),window.ArrowWIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(49.44,99),t.lineTo(68.58,79.85),t.bezierCurveTo(68.58,79.85,61.88,73.15,52.39,63.65),t.lineTo(97,63.65),t.lineTo(97,37.36),t.lineTo(52.39,37.36),t.lineTo(68.59,21.15),t.lineTo(49.44,2),t.lineTo(1,50.5),t.lineTo(49.44,99),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(49.45,96.06),t.lineTo(65.58,79.91),t.bezierCurveTo(65.58,79.91,56.53,70.85,47.61,61.93),t.lineTo(95.04,61.93),t.lineTo(95.04,39.08),t.lineTo(47.61,39.08),t.lineTo(65.59,21.09),t.lineTo(49.45,4.94),t.lineTo(3.94,50.5),t.lineTo(49.45,96.06),t.closePath(),t.fillStyle=e,t.fill()},window.ArrowWIconAppearance.instances=new Set,"function"==typeof window.ArrowWIconAppearance.initStaticConstsAfterClassDefinition&&window.ArrowWIconAppearance.initStaticConstsAfterClassDefinition(),window.ArrowWIconWdgt=function(t){this.color=t,ArrowWIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ArrowWIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ArrowWIconWdgt,"name",{value:"ArrowWIconWdgt"}),window.ArrowWIconWdgt.__super__=window.IconMorph.prototype,window.ArrowWIconWdgt=extend(window.ArrowWIconWdgt,window.IconMorph),window.ArrowWIconWdgt.instances=new Set,"function"==typeof window.ArrowWIconWdgt.initStaticConstsAfterClassDefinition&&window.ArrowWIconWdgt.initStaticConstsAfterClassDefinition(),window.BarPlotIconAppearance=function(t){this.morph=t,BarPlotIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BarPlotIconAppearance,"name",{value:"BarPlotIconAppearance"}),window.BarPlotIconAppearance.__super__=window.IconAppearance.prototype,window.BarPlotIconAppearance=extend(window.BarPlotIconAppearance,window.IconAppearance),window.BarPlotIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(7,8),t.lineTo(11.25,8),t.lineTo(11.25,88.76),t.lineTo(92,88.76),t.lineTo(92,93),t.lineTo(7,93),t.lineTo(7,8),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(78,43,11,43),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(62,31,11,55),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(45,14,11,72),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(29,22,11,64),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(14,46,10,40),t.fillStyle=e,t.fill()},window.BarPlotIconAppearance.instances=new Set,"function"==typeof window.BarPlotIconAppearance.initStaticConstsAfterClassDefinition&&window.BarPlotIconAppearance.initStaticConstsAfterClassDefinition(),window.BarPlotIconWdgt=function(t){this.color=t,BarPlotIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new BarPlotIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BarPlotIconWdgt,"name",{value:"BarPlotIconWdgt"}),window.BarPlotIconWdgt.__super__=window.IconMorph.prototype,window.BarPlotIconWdgt=extend(window.BarPlotIconWdgt,window.IconMorph),window.BarPlotIconWdgt.instances=new Set,"function"==typeof window.BarPlotIconWdgt.initStaticConstsAfterClassDefinition&&window.BarPlotIconWdgt.initStaticConstsAfterClassDefinition(),window.BasementIconAppearance=function(t){this.morph=t,BasementIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BasementIconAppearance,"name",{value:"BasementIconAppearance"}),window.BasementIconAppearance.__super__=window.IconAppearance.prototype,window.BasementIconAppearance=extend(window.BasementIconAppearance,window.IconAppearance),window.BasementIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(49.93,6),t.lineTo(49.93,6),t.bezierCurveTo(49.66,6.01,49.39,6.09,49.16,6.24),t.lineTo(2.75,36),t.lineTo(2.75,36),t.bezierCurveTo(2,36.48,1.77,40.4,2.24,41.18),t.bezierCurveTo(2.54,41.66,3.05,41.96,3.6,41.96),t.lineTo(8.38,41.96),t.lineTo(8.38,90.35),t.lineTo(8.38,90.35),t.bezierCurveTo(8.38,91.26,9.1,92,9.98,92),t.lineTo(90.02,92),t.lineTo(90.02,92),t.bezierCurveTo(90.9,92,91.62,91.26,91.62,90.35),t.lineTo(91.62,41.96),t.lineTo(96.4,41.96),t.lineTo(96.4,41.96),t.bezierCurveTo(97.28,41.96,98,41.22,98,40.3),t.bezierCurveTo(98,39.73,97.72,36.3,97.25,36),t.lineTo(50.84,6.24),t.lineTo(50.84,6.24),t.bezierCurveTo(50.56,6.07,50.25,5.99,49.93,6),t.lineTo(49.93,6),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(50.43,9),t.lineTo(50.43,9),t.bezierCurveTo(50.18,9.01,49.93,9.09,49.71,9.22),t.lineTo(5.72,36.91),t.lineTo(5.72,36.91),t.bezierCurveTo(5.01,37.36,4.79,38.31,5.24,39.03),t.bezierCurveTo(5.52,39.48,6,39.75,6.53,39.75),t.lineTo(11.05,39.75),t.lineTo(11.05,87.46),t.lineTo(11.05,87.46),t.bezierCurveTo(11.05,88.31,11.73,89,12.57,89),t.lineTo(21.67,89),t.lineTo(21.67,89),t.bezierCurveTo(22.51,89,23.19,88.31,23.19,87.46),t.lineTo(23.19,45.91),t.lineTo(77.81,45.91),t.lineTo(77.81,87.46),t.lineTo(77.81,87.46),t.bezierCurveTo(77.81,88.31,78.49,89,79.33,89),t.lineTo(88.43,89),t.lineTo(88.43,89),t.bezierCurveTo(89.27,89,89.95,88.31,89.95,87.46),t.lineTo(89.95,39.75),t.lineTo(94.48,39.75),t.lineTo(94.48,39.75),t.bezierCurveTo(95.31,39.75,95.99,39.06,95.99,38.21),t.bezierCurveTo(95.99,37.68,95.72,37.19,95.28,36.91),t.lineTo(51.3,9.23),t.lineTo(51.29,9.22),t.bezierCurveTo(51.03,9.06,50.73,8.99,50.43,9),t.lineTo(50.43,9),t.closePath(),t.moveTo(50.5,12.35),t.lineTo(89.15,36.68),t.lineTo(88.43,36.68),t.lineTo(88.43,36.68),t.bezierCurveTo(87.59,36.68,86.91,37.37,86.91,38.22),t.lineTo(86.91,85.93),t.lineTo(80.84,85.93),t.lineTo(80.84,44.37),t.lineTo(80.84,44.37),t.bezierCurveTo(80.84,43.52,80.16,42.83,79.33,42.83),t.lineTo(21.67,42.83),t.lineTo(21.67,42.83),t.bezierCurveTo(20.84,42.83,20.16,43.52,20.16,44.37),t.lineTo(20.16,85.93),t.lineTo(14.09,85.93),t.lineTo(14.09,38.22),t.lineTo(14.09,38.22),t.bezierCurveTo(14.09,37.37,13.41,36.68,12.57,36.68),t.lineTo(11.85,36.68),t.lineTo(50.5,12.35),t.closePath(),t.moveTo(54.87,52.06),t.lineTo(54.87,52.06),t.bezierCurveTo(54.79,52.06,54.71,52.07,54.64,52.08),t.lineTo(48.82,52.08),t.lineTo(48.82,52.08),t.bezierCurveTo(47.98,52.08,47.31,52.77,47.31,53.62),t.lineTo(47.31,66.12),t.lineTo(40.55,63.17),t.lineTo(40.55,63.17),t.bezierCurveTo(40.29,63,39.98,62.92,39.67,62.94),t.lineTo(39.65,62.94),t.bezierCurveTo(39.4,62.95,39.16,63.02,38.95,63.14),t.lineTo(30.3,66.92),t.lineTo(30.31,66.92),t.bezierCurveTo(30.06,66.97,29.82,67.09,29.63,67.26),t.lineTo(29.62,67.27),t.bezierCurveTo(29.6,67.29,29.58,67.31,29.56,67.33),t.lineTo(29.58,67.31),t.bezierCurveTo(29.56,67.33,29.54,67.35,29.52,67.37),t.lineTo(29.52,67.37),t.lineTo(29.52,67.38),t.bezierCurveTo(29.12,67.76,28.96,68.34,29.11,68.88),t.lineTo(29.1,80.26),t.lineTo(29.11,80.25),t.bezierCurveTo(29.09,80.39,29.1,80.52,29.12,80.66),t.lineTo(29.12,80.65),t.bezierCurveTo(29.13,80.67,29.13,80.69,29.14,80.7),t.lineTo(29.13,80.69),t.bezierCurveTo(29.14,80.71,29.14,80.73,29.14,80.75),t.lineTo(29.14,80.74),t.bezierCurveTo(29.15,80.77,29.15,80.79,29.16,80.82),t.lineTo(29.16,80.83),t.bezierCurveTo(29.17,80.84,29.17,80.85,29.17,80.86),t.lineTo(29.18,80.87),t.bezierCurveTo(29.19,80.91,29.2,80.95,29.22,80.99),t.lineTo(29.22,80.99),t.bezierCurveTo(29.22,80.99,29.22,81,29.23,81.01),t.lineTo(29.23,81.02),t.bezierCurveTo(29.25,81.06,29.27,81.1,29.29,81.14),t.lineTo(29.28,81.13),t.bezierCurveTo(29.29,81.15,29.3,81.16,29.31,81.18),t.lineTo(29.31,81.18),t.bezierCurveTo(29.5,81.51,29.81,81.76,30.18,81.88),t.lineTo(38.98,85.73),t.lineTo(38.99,85.73),t.bezierCurveTo(39,85.74,39.02,85.75,39.03,85.76),t.lineTo(39.02,85.75),t.bezierCurveTo(39.1,85.79,39.17,85.82,39.24,85.84),t.lineTo(39.24,85.84),t.bezierCurveTo(39.45,85.91,39.68,85.93,39.9,85.91),t.lineTo(39.89,85.91),t.lineTo(39.88,85.91),t.bezierCurveTo(39.91,85.91,39.95,85.9,39.98,85.89),t.lineTo(39.99,85.89),t.bezierCurveTo(40.01,85.89,40.03,85.89,40.04,85.88),t.lineTo(40.04,85.89),t.bezierCurveTo(40.07,85.88,40.11,85.87,40.14,85.86),t.lineTo(40.14,85.86),t.bezierCurveTo(40.16,85.86,40.18,85.85,40.19,85.85),t.lineTo(40.18,85.85),t.bezierCurveTo(40.21,85.84,40.25,85.83,40.28,85.81),t.lineTo(40.28,85.81),t.bezierCurveTo(40.34,85.79,40.39,85.76,40.45,85.73),t.lineTo(47.31,82.73),t.lineTo(47.31,84.39),t.lineTo(47.31,84.39),t.bezierCurveTo(47.31,85.24,47.98,85.93,48.82,85.93),t.lineTo(67.03,85.93),t.lineTo(67.03,85.93),t.bezierCurveTo(67.87,85.93,68.55,85.24,68.55,84.39),t.lineTo(68.55,69),t.lineTo(68.55,53.62),t.lineTo(68.55,53.62),t.bezierCurveTo(68.55,52.77,67.87,52.08,67.03,52.08),t.lineTo(61.2,52.08),t.lineTo(61.2,52.08),t.bezierCurveTo(61.11,52.06,61.03,52.06,60.94,52.06),t.lineTo(60.94,52.06),t.bezierCurveTo(60.86,52.06,60.78,52.07,60.71,52.08),t.lineTo(55.13,52.08),t.lineTo(55.13,52.08),t.bezierCurveTo(55.04,52.06,54.96,52.06,54.87,52.06),t.closePath(),t.moveTo(50.34,55.16),t.lineTo(53.37,55.16),t.lineTo(53.37,59.48),t.lineTo(53.37,59.49),t.bezierCurveTo(53.23,60.33,53.78,61.13,54.6,61.28),t.bezierCurveTo(54.79,61.31,54.97,61.31,55.16,61.27),t.lineTo(55.14,61.27),t.bezierCurveTo(55.16,61.27,55.18,61.27,55.2,61.27),t.lineTo(55.2,61.26),t.bezierCurveTo(55.21,61.26,55.22,61.26,55.23,61.26),t.lineTo(55.23,61.26),t.bezierCurveTo(55.31,61.24,55.4,61.21,55.48,61.17),t.lineTo(55.49,61.17),t.bezierCurveTo(55.5,61.17,55.51,61.16,55.51,61.16),t.lineTo(55.51,61.16),t.bezierCurveTo(55.53,61.15,55.54,61.14,55.56,61.14),t.lineTo(55.64,61.1),t.lineTo(55.64,61.1),t.bezierCurveTo(55.64,61.1,55.65,61.09,55.66,61.09),t.lineTo(57.9,59.95),t.lineTo(60.26,61.14),t.lineTo(60.25,61.14),t.bezierCurveTo(60.52,61.28,60.82,61.33,61.12,61.29),t.lineTo(61.12,61.29),t.bezierCurveTo(61.17,61.29,61.23,61.28,61.28,61.26),t.lineTo(61.29,61.26),t.bezierCurveTo(61.31,61.26,61.32,61.25,61.34,61.25),t.lineTo(61.33,61.25),t.bezierCurveTo(61.36,61.24,61.39,61.24,61.41,61.23),t.lineTo(61.42,61.23),t.bezierCurveTo(61.43,61.23,61.44,61.22,61.44,61.22),t.lineTo(61.43,61.22),t.bezierCurveTo(61.52,61.19,61.61,61.15,61.7,61.11),t.lineTo(61.71,61.1),t.lineTo(61.71,61.09),t.bezierCurveTo(61.76,61.07,61.8,61.04,61.85,61.01),t.lineTo(61.84,61.01),t.lineTo(61.85,61.01),t.bezierCurveTo(61.89,60.97,61.93,60.94,61.97,60.9),t.lineTo(61.97,60.91),t.bezierCurveTo(62,60.88,62.03,60.85,62.06,60.81),t.lineTo(62.07,60.81),t.bezierCurveTo(62.34,60.52,62.48,60.13,62.48,59.73),t.lineTo(62.48,55.16),t.lineTo(65.51,55.16),t.lineTo(65.51,67.46),t.lineTo(61.32,67.46),t.lineTo(61.3,67.46),t.bezierCurveTo(61.18,67.43,61.06,67.42,60.94,67.42),t.lineTo(60.94,67.42),t.bezierCurveTo(60.83,67.42,60.72,67.43,60.6,67.46),t.lineTo(55.25,67.46),t.lineTo(55.23,67.46),t.bezierCurveTo(55.11,67.43,54.99,67.42,54.87,67.42),t.lineTo(54.88,67.42),t.bezierCurveTo(54.76,67.42,54.65,67.43,54.53,67.46),t.lineTo(50.34,67.46),t.lineTo(50.34,55.16),t.closePath(),t.moveTo(56.41,55.16),t.lineTo(59.44,55.16),t.lineTo(59.44,57.28),t.lineTo(58.58,56.85),t.lineTo(58.59,56.85),t.bezierCurveTo(58.36,56.74,58.11,56.68,57.85,56.69),t.lineTo(57.85,56.69),t.bezierCurveTo(57.64,56.69,57.43,56.75,57.24,56.84),t.lineTo(56.41,57.26),t.lineTo(56.41,55.16),t.closePath(),t.moveTo(39.72,66.16),t.lineTo(44.98,68.46),t.lineTo(39.72,70.76),t.lineTo(37.57,69.83),t.lineTo(34.45,68.46),t.lineTo(39.72,66.16),t.closePath(),t.moveTo(50.34,70.54),t.lineTo(53.37,70.54),t.lineTo(53.37,74.87),t.lineTo(53.37,74.86),t.bezierCurveTo(53.21,75.7,53.75,76.5,54.57,76.67),t.bezierCurveTo(54.63,76.68,54.68,76.68,54.73,76.69),t.lineTo(54.74,76.69),t.bezierCurveTo(54.79,76.69,54.85,76.7,54.9,76.7),t.lineTo(54.89,76.7),t.bezierCurveTo(55.17,76.7,55.45,76.61,55.69,76.46),t.lineTo(57.9,75.34),t.lineTo(60.26,76.53),t.lineTo(60.27,76.54),t.bezierCurveTo(60.35,76.58,60.45,76.61,60.54,76.64),t.lineTo(60.54,76.64),t.bezierCurveTo(60.58,76.65,60.63,76.66,60.67,76.67),t.lineTo(60.69,76.67),t.bezierCurveTo(60.78,76.69,60.88,76.7,60.98,76.7),t.lineTo(60.99,76.7),t.lineTo(61,76.7),t.lineTo(61.01,76.7),t.bezierCurveTo(61.84,76.67,62.49,75.97,62.48,75.13),t.lineTo(62.48,70.54),t.lineTo(65.51,70.54),t.lineTo(65.51,82.85),t.lineTo(50.34,82.85),t.lineTo(50.34,80.51),t.lineTo(50.34,80.51),t.bezierCurveTo(50.34,80.45,50.34,80.4,50.34,80.35),t.lineTo(50.34,70.54),t.closePath(),t.moveTo(56.41,70.54),t.lineTo(59.44,70.54),t.lineTo(59.44,72.68),t.lineTo(58.58,72.24),t.lineTo(58.58,72.24),t.bezierCurveTo(58.35,72.13,58.09,72.07,57.83,72.09),t.lineTo(57.84,72.09),t.bezierCurveTo(57.63,72.09,57.42,72.15,57.23,72.24),t.lineTo(56.41,72.66),t.lineTo(56.41,70.54),t.closePath(),t.moveTo(32.14,70.8),t.lineTo(33.06,71.2),t.lineTo(36.37,72.65),t.lineTo(38.2,73.45),t.lineTo(38.2,82.03),t.lineTo(32.14,79.38),t.lineTo(32.14,70.8),t.closePath(),t.moveTo(47.3,70.8),t.lineTo(47.3,79.38),t.lineTo(41.24,82.03),t.lineTo(41.24,73.45),t.lineTo(47.3,70.8),t.closePath(),t.fillStyle=e,t.fill()},window.BasementIconAppearance.instances=new Set,"function"==typeof window.BasementIconAppearance.initStaticConstsAfterClassDefinition&&window.BasementIconAppearance.initStaticConstsAfterClassDefinition(),window.BasementIconWdgt=function(t){this.color=t,BasementIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new BasementIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BasementIconWdgt,"name",{value:"BasementIconWdgt"}),window.BasementIconWdgt.__super__=window.IconMorph.prototype,window.BasementIconWdgt=extend(window.BasementIconWdgt,window.IconMorph),window.BasementIconWdgt.instances=new Set,"function"==typeof window.BasementIconWdgt.initStaticConstsAfterClassDefinition&&window.BasementIconWdgt.initStaticConstsAfterClassDefinition(),window.BoldIconAppearance=function(t){this.morph=t,BoldIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BoldIconAppearance,"name",{value:"BoldIconAppearance"}),window.BoldIconAppearance.__super__=window.IconAppearance.prototype,window.BoldIconAppearance=extend(window.BoldIconAppearance,window.IconAppearance),window.BoldIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(75.92,47.24),t.bezierCurveTo(85.02,49.36,95.98,49.61,97,71.59),t.bezierCurveTo(98.07,94.8,70.84,98,57.27,98),t.lineTo(8.55,98),t.lineTo(8.55,90.39),t.bezierCurveTo(12.99,90.39,16.57,89.15,16.57,89.15),t.bezierCurveTo(20.91,85.53,20.85,86.37,20.85,81.2),t.bezierCurveTo(20.85,81.2,21.98,19.78,19.89,14.29),t.bezierCurveTo(17.81,8.8,12.94,9.89,8.55,9.89),t.lineTo(8.55,2.27),t.lineTo(54.51,2.27),t.bezierCurveTo(65.49,2.27,73.27,3.25,77.84,5.2),t.bezierCurveTo(82.41,7.16,92.52,13,92.61,26.35),t.bezierCurveTo(92.71,40.39,84.36,45.13,75.92,47.24),t.closePath(),t.moveTo(47.19,53.84),t.lineTo(46.91,87.96),t.bezierCurveTo(46.91,87.96,66.46,92.43,68.11,74.5),t.bezierCurveTo(70,54,54.4,53.79,47.19,53.84),t.closePath(),t.moveTo(64.86,28.27),t.bezierCurveTo(63.71,11.55,54.07,12.59,47.18,12.64),t.lineTo(47.18,43.33),t.bezierCurveTo(47.18,43.33,66,45,64.86,28.27),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(68.76,47.43),t.bezierCurveTo(77.24,49.4,93.05,49.64,94,70.25),t.bezierCurveTo(95,92,69.62,95,56.97,95),t.lineTo(11.55,95),t.lineTo(11.55,92.55),t.bezierCurveTo(15.69,92.55,19.96,91.39,19.96,91.39),t.bezierCurveTo(24,88,23.94,84.1,23.94,79.26),t.bezierCurveTo(23.94,79.26,25,17,23.06,11.85),t.bezierCurveTo(21.11,6.71,15.65,7.72,11.55,7.72),t.lineTo(11.55,5.27),t.lineTo(54.39,5.27),t.bezierCurveTo(64.63,5.27,71.88,6.19,76.14,8.02),t.bezierCurveTo(80.4,9.85,89.82,15.33,89.91,27.84),t.bezierCurveTo(90,41,76.63,45.44,68.76,47.43),t.closePath(),t.moveTo(44.77,50.79),t.lineTo(44.52,90.28),t.bezierCurveTo(44.52,90.28,71,95,70.8,72.98),t.bezierCurveTo(70.57,47.79,51.49,50.75,44.77,50.79),t.closePath(),t.moveTo(67.77,28.77),t.bezierCurveTo(66.54,7.54,51.18,10.26,44.77,10.3),t.lineTo(44.77,45.63),t.bezierCurveTo(44.77,45.63,69,50,67.77,28.77),t.closePath(),t.fillStyle=e,t.fill()},window.BoldIconAppearance.instances=new Set,"function"==typeof window.BoldIconAppearance.initStaticConstsAfterClassDefinition&&window.BoldIconAppearance.initStaticConstsAfterClassDefinition(),window.BoldIconWdgt=function(t){this.color=t,BoldIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new BoldIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BoldIconWdgt,"name",{value:"BoldIconWdgt"}),window.BoldIconWdgt.__super__=window.IconMorph.prototype,window.BoldIconWdgt=extend(window.BoldIconWdgt,window.IconMorph),window.BoldIconWdgt.instances=new Set,"function"==typeof window.BoldIconWdgt.initStaticConstsAfterClassDefinition&&window.BoldIconWdgt.initStaticConstsAfterClassDefinition(),window.BrushIconAppearance=function(){window.BrushIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BrushIconAppearance,"name",{value:"BrushIconAppearance"}),window.BrushIconAppearance.__super__=window.IconAppearance.prototype,window.BrushIconAppearance=extend(window.BrushIconAppearance,window.IconAppearance),window.BrushIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.save(),t.translate(102.19,100.77),t.rotate(-17.2*Math.PI/180),t.beginPath(),t.moveTo(96.31,-58.22),t.bezierCurveTo(95.39,-59.15,94.01,-59.15,93.1,-58.22),t.lineTo(31.06,5.14),t.bezierCurveTo(27.61,4.91,15.44,-8.6,13.83,-12.1),t.bezierCurveTo(13.83,-12.33,13.6,-12.33,13.6,-12.56),t.lineTo(75.4,-76.39),t.bezierCurveTo(76.32,-77.32,76.32,-78.72,75.4,-79.65),t.bezierCurveTo(74.49,-80.58,73.11,-80.58,72.19,-79.65),t.lineTo(9.69,-15.36),t.bezierCurveTo(3.26,-17.69,-9.15,-15.83,-20.63,-12.1),t.bezierCurveTo(-32.81,-8.37,-45.68,9.8,-56.25,24.47),t.bezierCurveTo(-61.3,31.46,-65.44,37.52,-68.65,40.31),t.bezierCurveTo(-73.25,44.74,-78.07,44.74,-82.9,44.51),t.bezierCurveTo(-87.49,44.27,-92.09,44.27,-95.08,48.93),t.lineTo(-95.08,48.93),t.bezierCurveTo(-96.45,51.03,-96.22,53.59,-94.85,56.15),t.bezierCurveTo(-89.1,66.17,-62.45,77.35,-36.72,77.35),t.bezierCurveTo(-35.8,77.35,-34.88,77.35,-33.73,77.35),t.bezierCurveTo(-2.02,76.19,19.8,58.48,28.99,43.57),t.bezierCurveTo(36.12,31.69,38.18,14.22,34.97,8.17),t.lineTo(96.31,-54.49),t.bezierCurveTo(97.23,-55.89,97.23,-57.29,96.31,-58.22),t.closePath(),t.moveTo(25.09,40.78),t.bezierCurveTo(16.59,54.75,-3.86,71.29,-33.73,72.46),t.bezierCurveTo(-59.69,73.39,-86.11,61.74,-90.71,53.82),t.bezierCurveTo(-91.63,52.43,-91.17,51.73,-90.94,51.49),t.bezierCurveTo(-89.56,49.16,-87.26,49.16,-82.9,49.4),t.bezierCurveTo(-77.84,49.63,-71.41,49.86,-65.44,44.04),t.bezierCurveTo(-61.99,40.78,-57.62,34.49,-52.57,27.5),t.bezierCurveTo(-42.46,13.52,-30.05,-3.95,-19.49,-7.44),t.bezierCurveTo(-1.79,-13.03,8.32,-11.63,9.23,-10),t.bezierCurveTo(10.61,-6.51,23.94,9.8,30.6,10.26),t.bezierCurveTo(32.67,12.13,32.44,28.43,25.09,40.78),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.moveTo(16.36,14.69),t.bezierCurveTo(10.15,15.16,12.68,34.96,-8.46,48.47),t.bezierCurveTo(-30.05,62.44,-47.06,62.44,-47.06,62.44),t.bezierCurveTo(-47.06,62.44,-20.17,66.63,2.11,50.1),t.bezierCurveTo(24.4,33.32,22.79,14.69,16.36,14.69),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.restore()},window.BrushIconAppearance.instances=new Set,"function"==typeof window.BrushIconAppearance.initStaticConstsAfterClassDefinition&&window.BrushIconAppearance.initStaticConstsAfterClassDefinition(),window.BrushIconMorph=function(t){this.color=t,BrushIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new BrushIconAppearance(this),this.toolTipMessage="brush","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.BrushIconMorph,"name",{value:"BrushIconMorph"}),window.BrushIconMorph.__super__=window.IconMorph.prototype,window.BrushIconMorph=extend(window.BrushIconMorph,window.IconMorph),window.BrushIconMorph.instances=new Set,"function"==typeof window.BrushIconMorph.initStaticConstsAfterClassDefinition&&window.BrushIconMorph.initStaticConstsAfterClassDefinition(),window.CFDegreesConverterIconAppearance=function(t){this.morph=t,CFDegreesConverterIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CFDegreesConverterIconAppearance,"name",{value:"CFDegreesConverterIconAppearance"}),window.CFDegreesConverterIconAppearance.__super__=window.IconAppearance.prototype,window.CFDegreesConverterIconAppearance=extend(window.CFDegreesConverterIconAppearance,window.IconAppearance),window.CFDegreesConverterIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,this.oval(t,67,6.5,13,13),t.fillStyle="rgb(170, 170, 170)",t.fill(),t.beginPath(),t.moveTo(82,16),t.lineTo(82,37),t.moveTo(82,16),t.lineTo(93.5,16),t.moveTo(82,26),t.lineTo(87,26),t.strokeStyle=n,t.lineWidth=7,t.lineCap="round",t.stroke(),this.oval(t,70,9.5,7,7),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(95,16.49),t.bezierCurveTo(95,17.35,94.26,18.06,93.36,18.06),t.lineTo(83.53,18.06),t.bezierCurveTo(83.53,18.06,83.53,20.47,83.53,23.56),t.bezierCurveTo(83.68,23.52,83.84,23.5,84,23.5),t.lineTo(86,23.5),t.bezierCurveTo(87.1,23.5,88,24.4,88,25.5),t.bezierCurveTo(88,26.6,87.1,27.5,86,27.5),t.lineTo(84,27.5),t.bezierCurveTo(83.84,27.5,83.68,27.48,83.53,27.44),t.bezierCurveTo(83.53,32.18,83.53,36.94,83.53,36.94),t.bezierCurveTo(83.53,37.81,82.79,38.52,81.89,38.52),t.bezierCurveTo(80.99,38.52,80.25,37.81,80.25,36.94),t.bezierCurveTo(80.25,36.94,80.25,36.14,80.25,34.86),t.bezierCurveTo(80.25,29.66,80.25,16.49,80.25,16.49),t.bezierCurveTo(80.25,15.62,80.99,14.92,81.89,14.92),t.lineTo(93.36,14.92),t.bezierCurveTo(94.26,14.92,95,15.62,95,16.49),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,2.5,6.5,13,13),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(23.94,40.02),t.bezierCurveTo(16.42,40.02,10.28,33.76,10.28,26.07),t.bezierCurveTo(10.28,18.39,16.42,12.13,23.94,12.13),t.bezierCurveTo(27.56,12.13,32.1,14.34,33.55,16.17),t.bezierCurveTo(35,18,34.15,19.76,33.56,20.36),t.bezierCurveTo(32.99,20.97,31.82,21.91,29.42,21.37),t.bezierCurveTo(27.01,20.84,28.89,18.46,23.94,18.23),t.bezierCurveTo(19,18,16,23,16.32,26.07),t.bezierCurveTo(16.64,29.15,18.09,33.92,23.94,33.92),t.bezierCurveTo(26.76,33.92,27.01,31.56,29.42,30.78),t.bezierCurveTo(31.82,30,32.99,31.19,33.56,31.79),t.bezierCurveTo(34.15,32.39,34.14,35.38,33.55,35.98),t.bezierCurveTo(30.97,38.58,27.56,40.02,23.94,40.02),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(23.64,38.02),t.bezierCurveTo(17.38,38.02,12.28,32.66,12.28,26.07),t.bezierCurveTo(12.28,19.49,17.38,14.13,23.64,14.13),t.bezierCurveTo(26.65,14.13,29.48,15.36,31.63,17.59),t.bezierCurveTo(32.12,18.11,32.13,18.96,31.64,19.47),t.bezierCurveTo(31.16,19.99,30.35,20,29.85,19.48),t.bezierCurveTo(28.19,17.75,25.99,16.79,23.64,16.79),t.bezierCurveTo(18.77,16.79,14.81,20.95,14.81,26.07),t.bezierCurveTo(14.81,31.2,18.77,35.36,23.64,35.36),t.bezierCurveTo(25.98,35.36,28.19,34.41,29.85,32.67),t.bezierCurveTo(30.35,32.16,31.16,32.17,31.64,32.68),t.bezierCurveTo(32.13,33.2,32.12,34.05,31.63,34.56),t.bezierCurveTo(29.48,36.79,26.65,38.02,23.64,38.02),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,5.5,9.5,7,7),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(51.3,2),t.bezierCurveTo(44.58,1.97,38.95,6.05,38.92,12.2),t.lineTo(38.92,64.3),t.bezierCurveTo(34.19,67.67,32,72.85,32,78.71),t.bezierCurveTo(32,88.82,40.17,98,51.34,98),t.bezierCurveTo(62.5,98,70.67,88.82,70.67,78.71),t.bezierCurveTo(70.67,72.84,68.47,67.64,63.72,64.27),t.bezierCurveTo(63.52,45.14,64,30.33,63.69,12.2),t.bezierCurveTo(63.72,6.05,58.09,1.97,51.3,2),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(51.31,4.82),t.bezierCurveTo(45.82,4.79,41.22,8.56,41.19,14.24),t.lineTo(41.19,64.94),t.bezierCurveTo(37.33,68.05,34.78,72.83,34.78,78.24),t.bezierCurveTo(34.78,87.57,42.22,95.18,51.34,95.18),t.bezierCurveTo(60.46,95.18,67.89,87.57,67.89,78.24),t.bezierCurveTo(67.89,72.82,65.33,68.02,61.45,64.91),t.bezierCurveTo(61.29,47.26,61.68,30.98,61.42,14.24),t.bezierCurveTo(61.45,8.56,56.85,4.79,51.31,4.82),t.closePath(),t.moveTo(51.28,8.59),t.bezierCurveTo(54.1,8.56,57.77,10.44,57.74,14.24),t.bezierCurveTo(57.8,31.68,57.77,48.05,57.77,65.76),t.bezierCurveTo(57.77,66.38,58.08,66.98,58.58,67.32),t.bezierCurveTo(61.98,69.69,64.21,73.69,64.21,78.24),t.bezierCurveTo(64.21,85.53,58.47,91.41,51.34,91.41),t.bezierCurveTo(44.2,91.41,38.46,85.53,38.46,78.24),t.bezierCurveTo(38.46,73.71,40.68,69.7,44.07,67.32),t.bezierCurveTo(44.55,66.99,44.86,66.4,44.87,65.79),t.lineTo(44.87,14.24),t.bezierCurveTo(44.9,10.44,47.66,8.56,51.28,8.59),t.closePath(),t.moveTo(47.4,49.18),t.bezierCurveTo(46.76,49.82,46.74,50.5,46.74,50.97),t.lineTo(46.74,70.18),t.bezierCurveTo(44.02,71.81,42.14,74.76,42.14,78.21),t.bezierCurveTo(42.14,83.38,46.28,87.62,51.34,87.62),t.bezierCurveTo(56.39,87.62,60.53,83.38,60.53,78.21),t.bezierCurveTo(60.53,74.77,58.65,71.84,55.93,70.21),t.lineTo(55.93,50.97),t.bezierCurveTo(55.94,50.29,55.55,49.61,54.96,49.29),t.bezierCurveTo(54.37,48.98,53.61,49.03,53.06,49.41),t.bezierCurveTo(51.61,49.96,50.53,48.82,49.38,48.59),t.bezierCurveTo(48.61,48.43,47.98,48.79,47.4,49.18),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(47,16),t.lineTo(56,16),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,23.5),t.lineTo(56,23.5),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,31),t.lineTo(56,31),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,38.5),t.lineTo(56,38.5),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,46),t.lineTo(56,46),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,19.75),t.lineTo(56,19.75),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,27.25),t.lineTo(56,27.25),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,34.75),t.lineTo(56,34.75),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,42.25),t.lineTo(56,42.25),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke()},window.CFDegreesConverterIconAppearance.instances=new Set,"function"==typeof window.CFDegreesConverterIconAppearance.initStaticConstsAfterClassDefinition&&window.CFDegreesConverterIconAppearance.initStaticConstsAfterClassDefinition(),window.CFDegreesConverterIconWdgt=function(t){this.color=t,CFDegreesConverterIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new CFDegreesConverterIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CFDegreesConverterIconWdgt,"name",{value:"CFDegreesConverterIconWdgt"}),window.CFDegreesConverterIconWdgt.__super__=window.IconMorph.prototype,window.CFDegreesConverterIconWdgt=extend(window.CFDegreesConverterIconWdgt,window.IconMorph),window.CFDegreesConverterIconWdgt.instances=new Set,"function"==typeof window.CFDegreesConverterIconWdgt.initStaticConstsAfterClassDefinition&&window.CFDegreesConverterIconWdgt.initStaticConstsAfterClassDefinition(),window.CalculatingNodeIconAppearance=function(t){this.morph=t,CalculatingNodeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CalculatingNodeIconAppearance,"name",{value:"CalculatingNodeIconAppearance"}),window.CalculatingNodeIconAppearance.__super__=window.IconAppearance.prototype,window.CalculatingNodeIconAppearance=extend(window.CalculatingNodeIconAppearance,window.IconAppearance),window.CalculatingNodeIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.rect(20.5,17.5,60,66),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(19.5,26.5),t.lineTo(9.5,26.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(19,72.5),t.lineTo(9,72.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(81,51),t.lineTo(90,51),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(28.53,34.5),t.bezierCurveTo(27.62,34.5,48.5,34.5,48.5,34.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(38.5,23.5),t.lineTo(38.5,45.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(58.5,34.5),t.lineTo(74.5,34.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(29.5,72.5),t.lineTo(45.5,56.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(29.5,56.5),t.lineTo(45.5,72.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(58.5,63.5),t.lineTo(75.5,63.5),t.strokeStyle=e,t.lineWidth=2,t.stroke(),t.beginPath(),t.rect(65.5,54.5,4,4),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(65.5,68.5,4,4),t.fillStyle=e,t.fill(),this.oval(t,88.5,48,6,6),t.fillStyle=e,t.fill(),this.oval(t,6.5,69.5,6,6),t.fillStyle=e,t.fill(),this.oval(t,6.5,23.5,6,6),t.fillStyle=e,t.fill()},window.CalculatingNodeIconAppearance.instances=new Set,"function"==typeof window.CalculatingNodeIconAppearance.initStaticConstsAfterClassDefinition&&window.CalculatingNodeIconAppearance.initStaticConstsAfterClassDefinition(),window.CalculatingNodeIconWdgt=function(t){this.color=t,CalculatingNodeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new CalculatingNodeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CalculatingNodeIconWdgt,"name",{value:"CalculatingNodeIconWdgt"}),window.CalculatingNodeIconWdgt.__super__=window.IconMorph.prototype,window.CalculatingNodeIconWdgt=extend(window.CalculatingNodeIconWdgt,window.IconMorph),window.CalculatingNodeIconWdgt.instances=new Set,"function"==typeof window.CalculatingNodeIconWdgt.initStaticConstsAfterClassDefinition&&window.CalculatingNodeIconWdgt.initStaticConstsAfterClassDefinition(),window.ChangeFontIconAppearance=function(t){this.morph=t,ChangeFontIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ChangeFontIconAppearance,"name",{value:"ChangeFontIconAppearance"}),window.ChangeFontIconAppearance.__super__=window.IconAppearance.prototype,window.ChangeFontIconAppearance=extend(window.ChangeFontIconAppearance,window.IconAppearance),window.ChangeFontIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(75.17,68.88),t.lineTo(64.75,44.1),t.lineTo(54.47,68.88),t.lineTo(75.17,68.88),t.closePath(),t.moveTo(36.32,92),t.lineTo(36.32,90.37),t.bezierCurveTo(38.63,90.11,40.37,89.23,41.53,87.74),t.bezierCurveTo(42.68,86.24,44.67,82.19,47.48,75.56),t.lineTo(66.25,31.4),t.lineTo(68,31.4),t.lineTo(90.42,82.42),t.bezierCurveTo(91.91,85.82,93.1,87.92,94,88.73),t.bezierCurveTo(94.89,89.53,96.39,90.08,98.5,90.37),t.lineTo(98.5,92),t.lineTo(75.61,92),t.lineTo(75.61,90.37),t.bezierCurveTo(78.24,90.14,79.94,89.85,80.7,89.52),t.bezierCurveTo(81.46,89.18,81.85,88.35,81.85,87.03),t.bezierCurveTo(81.85,86.59,81.7,85.82,81.41,84.71),t.bezierCurveTo(81.11,83.59,80.7,82.42,80.18,81.19),t.lineTo(76.44,72.53),t.lineTo(52.89,72.53),t.bezierCurveTo(50.54,78.42,49.14,82.02,48.69,83.32),t.bezierCurveTo(48.23,84.62,48.01,85.66,48.01,86.42),t.bezierCurveTo(48.01,87.94,48.62,89,49.85,89.58),t.bezierCurveTo(50.62,89.93,52.05,90.2,54.16,90.37),t.lineTo(54.16,92),t.lineTo(36.32,92),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(33.67,14.23),t.lineTo(33.51,14.23),t.lineTo(23.36,42.21),t.lineTo(43.65,42.21),t.lineTo(33.67,14.23),t.closePath(),t.moveTo(38.12,7),t.bezierCurveTo(38.12,7,47.47,30.99,54.35,48.63),t.bezierCurveTo(52.82,52.25,51.26,55.92,49.88,59.18),t.bezierCurveTo(48.11,54.3,46.17,48.93,46.17,48.93),t.lineTo(20.84,48.93),t.lineTo(14.13,67),t.lineTo(6,67),t.bezierCurveTo(6,67,22.23,25.22,27.61,11.39),t.bezierCurveTo(28.67,8.64,29.31,7,29.31,7),t.lineTo(38.12,7),t.lineTo(38.12,7),t.closePath(),t.fillStyle=e,t.fill()},window.ChangeFontIconAppearance.instances=new Set,"function"==typeof window.ChangeFontIconAppearance.initStaticConstsAfterClassDefinition&&window.ChangeFontIconAppearance.initStaticConstsAfterClassDefinition(),window.ChangeFontIconWdgt=function(t){this.color=t,ChangeFontIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ChangeFontIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ChangeFontIconWdgt,"name",{value:"ChangeFontIconWdgt"}),window.ChangeFontIconWdgt.__super__=window.IconMorph.prototype,window.ChangeFontIconWdgt=extend(window.ChangeFontIconWdgt,window.IconMorph),window.ChangeFontIconWdgt.instances=new Set,"function"==typeof window.ChangeFontIconWdgt.initStaticConstsAfterClassDefinition&&window.ChangeFontIconWdgt.initStaticConstsAfterClassDefinition(),window.CloseIconAppearance=function(){window.CloseIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CloseIconAppearance,"name",{value:"CloseIconAppearance"}),window.CloseIconAppearance.__super__=window.IconAppearance.prototype,window.CloseIconAppearance=extend(window.CloseIconAppearance,window.IconAppearance),window.CloseIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(100.5,196.5),t.bezierCurveTo(153.91,196.5,197.5,152.91,197.5,99.5),t.bezierCurveTo(197.5,46.09,153.91,2.5,100.5,2.5),t.bezierCurveTo(47.09,2.5,3.5,46.09,3.5,99.5),t.bezierCurveTo(3.5,152.91,47.09,196.5,100.5,196.5),t.closePath(),t.moveTo(100.5,15.1),t.bezierCurveTo(147.11,15.1,184.9,52.89,184.9,99.5),t.bezierCurveTo(184.9,146.11,147.11,183.9,100.5,183.9),t.bezierCurveTo(53.89,183.9,16.1,146.11,16.1,99.5),t.bezierCurveTo(16.1,52.89,53.89,15.1,100.5,15.1),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.moveTo(65.73,134.27),t.bezierCurveTo(66.99,135.53,68.5,136.03,70.27,136.03),t.bezierCurveTo(72.03,136.03,73.54,135.53,74.8,134.27),t.lineTo(100.5,108.32),t.lineTo(126.45,134.27),t.bezierCurveTo(127.71,135.53,129.22,136.03,130.99,136.03),t.bezierCurveTo(132.75,136.03,134.26,135.53,135.52,134.27),t.bezierCurveTo(138.04,131.75,138.04,127.72,135.52,125.45),t.lineTo(109.32,99.5),t.lineTo(135.27,73.55),t.bezierCurveTo(137.79,71.03,137.79,67,135.27,64.73),t.bezierCurveTo(132.75,62.21,128.72,62.21,126.45,64.73),t.lineTo(100.5,90.68),t.lineTo(74.55,64.73),t.bezierCurveTo(72.03,62.21,68,62.21,65.73,64.73),t.bezierCurveTo(63.21,67.25,63.21,71.28,65.73,73.55),t.lineTo(91.68,99.5),t.lineTo(65.73,125.45),t.bezierCurveTo(63.21,127.72,63.21,131.75,65.73,134.27),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.CloseIconAppearance.instances=new Set,"function"==typeof window.CloseIconAppearance.initStaticConstsAfterClassDefinition&&window.CloseIconAppearance.initStaticConstsAfterClassDefinition(),window.CollapseIconAppearance=function(){window.CollapseIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CollapseIconAppearance,"name",{value:"CollapseIconAppearance"}),window.CollapseIconAppearance.__super__=window.IconAppearance.prototype,window.CollapseIconAppearance=extend(window.CollapseIconAppearance,window.IconAppearance),window.CollapseIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(100.5,196.5),t.bezierCurveTo(153.91,196.5,197.5,152.91,197.5,99.5),t.bezierCurveTo(197.5,46.09,153.91,2.5,100.5,2.5),t.bezierCurveTo(47.09,2.5,3.5,46.09,3.5,99.5),t.bezierCurveTo(3.5,152.91,47.09,196.5,100.5,196.5),t.closePath(),t.moveTo(100.5,15.1),t.bezierCurveTo(147.11,15.1,184.9,52.89,184.9,99.5),t.bezierCurveTo(184.9,146.11,147.11,183.9,100.5,183.9),t.bezierCurveTo(53.89,183.9,16.1,146.11,16.1,99.5),t.bezierCurveTo(16.1,52.89,53.89,15.1,100.5,15.1),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.rect(65,107,65,21),t.closePath(),t.fill()},window.CollapseIconAppearance.instances=new Set,"function"==typeof window.CollapseIconAppearance.initStaticConstsAfterClassDefinition&&window.CollapseIconAppearance.initStaticConstsAfterClassDefinition(),window.CollapsedStateIconAppearance=function(t){this.morph=t,CollapsedStateIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(400,400),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CollapsedStateIconAppearance,"name",{value:"CollapsedStateIconAppearance"}),window.CollapsedStateIconAppearance.__super__=window.IconAppearance.prototype,window.CollapsedStateIconAppearance=extend(window.CollapsedStateIconAppearance,window.IconAppearance),window.CollapsedStateIconAppearance.prototype.paintFunction=function(t){return"rgb(0, 0, 0)",t.beginPath(),t.moveTo(44.5,262.42),t.lineTo(204.07,111.5),t.lineTo(360.5,265.5),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=30,t.stroke()},window.CollapsedStateIconAppearance.instances=new Set,"function"==typeof window.CollapsedStateIconAppearance.initStaticConstsAfterClassDefinition&&window.CollapsedStateIconAppearance.initStaticConstsAfterClassDefinition(),window.CollapsedStateIconMorph=function(t){this.color=t,CollapsedStateIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new CollapsedStateIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.CollapsedStateIconMorph,"name",{value:"CollapsedStateIconMorph"}),window.CollapsedStateIconMorph.__super__=window.IconMorph.prototype,window.CollapsedStateIconMorph=extend(window.CollapsedStateIconMorph,window.IconMorph),window.CollapsedStateIconMorph.prototype.colloquialName=function(){return'"Collapsed state" icon'},window.CollapsedStateIconMorph.instances=new Set,"function"==typeof window.CollapsedStateIconMorph.initStaticConstsAfterClassDefinition&&window.CollapsedStateIconMorph.initStaticConstsAfterClassDefinition(),window.ColorPalettePatchProgrammingIconAppearance=function(t){this.morph=t,ColorPalettePatchProgrammingIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ColorPalettePatchProgrammingIconAppearance,"name",{value:"ColorPalettePatchProgrammingIconAppearance"}),window.ColorPalettePatchProgrammingIconAppearance.__super__=window.IconAppearance.prototype,window.ColorPalettePatchProgrammingIconAppearance=extend(window.ColorPalettePatchProgrammingIconAppearance,window.IconAppearance),window.ColorPalettePatchProgrammingIconAppearance.prototype.colorGradient=nil,window.ColorPalettePatchProgrammingIconAppearance.prototype.paintFunction=function(t){var e,n;return n=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),null==this.colorGradient&&(e=function(t){return t.addColorStop(0,"rgb(255, 0, 0)"),t.addColorStop(.15,"rgb(255, 0, 255)"),t.addColorStop(.33,"rgb(0, 0, 255)"),t.addColorStop(.49,"rgb(0, 255, 255)"),t.addColorStop(.67,"rgb(0, 255, 0)"),t.addColorStop(.84,"rgb(255, 255, 0)"),t.addColorStop(1,"rgb(255, 0, 0)"),t},this.colorGradient=e(t.createLinearGradient(79,82,21,82))),t.beginPath(),t.rect(21,19,58,63),t.fillStyle=this.colorGradient,t.fill(),t.beginPath(),t.rect(20.5,17.5,60,66),t.strokeStyle=n,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(81,51),t.lineTo(90,51),t.strokeStyle=n,t.lineWidth=2,t.stroke(),this.oval(t,88.5,48,6,6),t.fillStyle=n,t.fill()},window.ColorPalettePatchProgrammingIconAppearance.instances=new Set,"function"==typeof window.ColorPalettePatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition&&window.ColorPalettePatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition(),window.ColorPalettePatchProgrammingIconWdgt=function(t){this.color=t,ColorPalettePatchProgrammingIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ColorPalettePatchProgrammingIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ColorPalettePatchProgrammingIconWdgt,"name",{value:"ColorPalettePatchProgrammingIconWdgt"}),window.ColorPalettePatchProgrammingIconWdgt.__super__=window.IconMorph.prototype,window.ColorPalettePatchProgrammingIconWdgt=extend(window.ColorPalettePatchProgrammingIconWdgt,window.IconMorph),window.ColorPalettePatchProgrammingIconWdgt.instances=new Set,"function"==typeof window.ColorPalettePatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition&&window.ColorPalettePatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition(),window.DashboardsIconAppearance=function(t){this.morph=t,DashboardsIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DashboardsIconAppearance,"name",{value:"DashboardsIconAppearance"}),window.DashboardsIconAppearance.__super__=window.IconAppearance.prototype,window.DashboardsIconAppearance=extend(window.DashboardsIconAppearance,window.IconAppearance),window.DashboardsIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(87.54,18),t.lineTo(13.57,18),t.bezierCurveTo(10.05,18,7.12,20.67,7.12,23.87),t.lineTo(7,76.13),t.bezierCurveTo(7,79.33,9.94,82,13.46,82),t.lineTo(87.43,82),t.bezierCurveTo(90.95,82,93.88,79.33,93.88,76.13),t.lineTo(94,23.87),t.bezierCurveTo(94,20.67,91.06,18,87.54,18),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(85.84,20),t.lineTo(15.27,20),t.bezierCurveTo(11.91,20,9.11,22.5,9.11,25.5),t.lineTo(9,74.5),t.bezierCurveTo(9,77.5,11.8,80,15.16,80),t.lineTo(85.73,80),t.bezierCurveTo(89.09,80,91.89,77.5,91.89,74.5),t.lineTo(92,25.5),t.bezierCurveTo(92,22.5,89.2,20,85.84,20),t.closePath(),t.moveTo(88.53,74.5),t.bezierCurveTo(88.53,75.9,87.3,77,85.73,77),t.lineTo(15.16,77),t.bezierCurveTo(13.59,77,12.36,75.9,12.36,74.5),t.lineTo(12.47,25.5),t.bezierCurveTo(12.47,24.1,13.7,23,15.27,23),t.lineTo(85.84,23),t.bezierCurveTo(87.41,23,88.64,24.1,88.64,25.5),t.lineTo(88.53,74.5),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(22,27),t.lineTo(23.2,27),t.lineTo(23.2,46.8),t.lineTo(46,46.8),t.lineTo(46,48),t.lineTo(22,48),t.lineTo(22,27),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,35,30,3,3),t.fillStyle=e,t.fill(),this.oval(t,27,40,3,3),t.fillStyle=e,t.fill(),this.oval(t,27,29,3,3),t.fillStyle=e,t.fill(),this.oval(t,31,35,3,3),t.fillStyle=e,t.fill(),this.oval(t,37,35,3,3),t.fillStyle=e,t.fill(),this.oval(t,43,33,3,3),t.fillStyle=e,t.fill(),this.oval(t,43,28,3,3),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(56,27),t.lineTo(57.17,27),t.lineTo(57.17,46.8),t.lineTo(79.41,46.8),t.lineTo(79.41,48),t.lineTo(56,48),t.lineTo(56,27),t.closePath(),t.fillStyle=e,t.fill(),t.save(),t.translate(60.06,23.23),t.beginPath(),t.moveTo(1.4,20.37),t.lineTo(0,19.37),t.lineTo(3.13,13.52),t.bezierCurveTo(4.45,10.81,5.8,9.61,7.17,9.91),t.bezierCurveTo(8.06,10.11,11.22,15.04,12.2,13.83),t.bezierCurveTo(12.63,13.77,17.52,4,17.52,4),t.lineTo(18.94,4.89),t.bezierCurveTo(18.94,4.89,14.09,14.19,13.71,14.8),t.bezierCurveTo(13.25,15.39,12.76,15.74,12.09,15.71),t.bezierCurveTo(11.32,15.77,10.62,15.52,9.55,14.58),t.bezierCurveTo(8.49,13.64,7.55,12.27,6.63,12.1),t.bezierCurveTo(5.71,11.93,4.97,13.58,4.44,14.5),t.lineTo(1.4,20.37),t.closePath(),t.fillStyle=e,t.fill(),t.restore(),t.beginPath(),t.rect(43,55,3,15),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(37,63,4,7),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(32,65,3,5),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(26,63,4,7),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(22,53),t.lineTo(23.2,53),t.lineTo(23.2,72.8),t.lineTo(46,72.8),t.lineTo(46,74),t.lineTo(22,74),t.lineTo(22,53),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(69.37,64.35),t.lineTo(69.37,57.47),t.bezierCurveTo(69.37,57.26,69.2,57.1,69,57.1),t.bezierCurveTo(68.8,57.1,68.63,57.26,68.63,57.47),t.lineTo(68.63,64.36),t.lineTo(62.18,69.09),t.bezierCurveTo(62.02,69.21,61.98,69.44,62.1,69.61),t.bezierCurveTo(62.22,69.78,62.45,69.82,62.62,69.7),t.lineTo(69.01,65.01),t.lineTo(75.76,69.7),t.bezierCurveTo(75.82,69.74,75.89,69.76,75.97,69.76),t.bezierCurveTo(76.09,69.76,76.2,69.71,76.27,69.6),t.bezierCurveTo(76.39,69.43,76.35,69.2,76.18,69.08),t.lineTo(69.37,64.35),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(68.63,54.64),t.lineTo(68.63,55.61),t.bezierCurveTo(68.63,55.81,68.8,55.98,69,55.98),t.bezierCurveTo(69.2,55.98,69.37,55.81,69.37,55.61),t.lineTo(69.37,54.64),t.lineTo(70.36,53.63),t.bezierCurveTo(70.5,53.49,70.5,53.25,70.36,53.11),t.bezierCurveTo(70.22,52.96,69.99,52.96,69.84,53.11),t.lineTo(69,53.96),t.lineTo(68.16,53.11),t.bezierCurveTo(68.02,52.96,67.79,52.96,67.64,53.11),t.bezierCurveTo(67.5,53.26,67.5,53.49,67.64,53.64),t.lineTo(68.63,54.64),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(79.05,70.51),t.lineTo(79.89,69.66),t.bezierCurveTo(80.03,69.51,80.03,69.28,79.89,69.13),t.bezierCurveTo(79.75,68.99,79.52,68.99,79.37,69.13),t.lineTo(78.53,69.98),t.lineTo(77.7,69.13),t.bezierCurveTo(77.55,68.99,77.32,68.99,77.18,69.13),t.bezierCurveTo(77.04,69.28,77.04,69.51,77.18,69.66),t.lineTo(78.02,70.51),t.lineTo(77.18,71.36),t.bezierCurveTo(77.04,71.51,77.04,71.74,77.18,71.89),t.bezierCurveTo(77.25,71.96,77.34,72,77.43,72),t.bezierCurveTo(77.53,72,77.62,71.96,77.7,71.89),t.lineTo(78.53,71.04),t.lineTo(79.37,71.89),t.bezierCurveTo(79.45,71.96,79.54,72,79.63,72),t.bezierCurveTo(79.73,72,79.82,71.96,79.9,71.89),t.bezierCurveTo(80.04,71.75,80.04,71.51,79.9,71.37),t.lineTo(79.05,70.51),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(60.9,69.53),t.bezierCurveTo(60.94,69.44,60.94,69.34,60.9,69.25),t.bezierCurveTo(60.87,69.16,60.79,69.09,60.71,69.05),t.bezierCurveTo(60.66,69.03,60.61,69.02,60.57,69.02),t.lineTo(58.37,69.02),t.bezierCurveTo(58.17,69.02,58,69.19,58,69.39),t.bezierCurveTo(58,69.6,58.17,69.76,58.37,69.76),t.lineTo(59.68,69.76),t.lineTo(58.11,71.36),t.bezierCurveTo(58.08,71.4,58.05,71.44,58.03,71.49),t.bezierCurveTo(57.99,71.58,57.99,71.68,58.03,71.77),t.bezierCurveTo(58.07,71.86,58.14,71.93,58.23,71.97),t.bezierCurveTo(58.27,71.99,58.32,72,58.37,72),t.lineTo(60.57,72),t.bezierCurveTo(60.77,72,60.93,71.83,60.93,71.63),t.bezierCurveTo(60.93,71.42,60.77,71.25,60.57,71.25),t.lineTo(59.25,71.25),t.lineTo(60.82,69.66),t.bezierCurveTo(60.86,69.62,60.89,69.58,60.9,69.53),t.closePath(),t.fillStyle=e,t.fill()},window.DashboardsIconAppearance.instances=new Set,"function"==typeof window.DashboardsIconAppearance.initStaticConstsAfterClassDefinition&&window.DashboardsIconAppearance.initStaticConstsAfterClassDefinition(),window.DashboardsIconWdgt=function(t){this.color=t,DashboardsIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new DashboardsIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DashboardsIconWdgt,"name",{value:"DashboardsIconWdgt"}),window.DashboardsIconWdgt.__super__=window.IconMorph.prototype,window.DashboardsIconWdgt=extend(window.DashboardsIconWdgt,window.IconMorph),window.DashboardsIconWdgt.instances=new Set,"function"==typeof window.DashboardsIconWdgt.initStaticConstsAfterClassDefinition&&window.DashboardsIconWdgt.initStaticConstsAfterClassDefinition(),window.DecreaseFontSizeIconAppearance=function(t){this.morph=t,DecreaseFontSizeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DecreaseFontSizeIconAppearance,"name",{value:"DecreaseFontSizeIconAppearance"}),window.DecreaseFontSizeIconAppearance.__super__=window.IconAppearance.prototype,window.DecreaseFontSizeIconAppearance=extend(window.DecreaseFontSizeIconAppearance,window.IconAppearance),window.DecreaseFontSizeIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(37.91,19.09),t.bezierCurveTo(37.42,17.84,36.06,17,34.52,17),t.bezierCurveTo(32.98,17,31.62,17.84,31.13,19.09),t.lineTo(9.41,74.96),t.bezierCurveTo(8.79,76.56,9.8,78.3,11.67,78.84),t.bezierCurveTo(13.55,79.38,15.56,78.51,16.19,76.9),t.lineTo(20.88,64.84),t.lineTo(47.93,64.84),t.bezierCurveTo(48.01,64.84,48.07,64.8,48.14,64.8),t.lineTo(52.85,76.9),t.bezierCurveTo(53.35,78.19,54.74,79,56.23,79),t.bezierCurveTo(56.61,79,56.99,78.95,57.36,78.84),t.bezierCurveTo(59.23,78.3,60.24,76.57,59.62,74.97),t.lineTo(37.91,19.09),t.closePath(),t.moveTo(23.26,58.71),t.lineTo(34.52,29.74),t.lineTo(45.78,58.71),t.lineTo(23.26,58.71),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(58.44,40.34),t.lineTo(74.97,56.79),t.lineTo(91.5,40.34),t.lineTo(58.44,40.34),t.closePath(),t.fillStyle=e,t.fill()},window.DecreaseFontSizeIconAppearance.instances=new Set,"function"==typeof window.DecreaseFontSizeIconAppearance.initStaticConstsAfterClassDefinition&&window.DecreaseFontSizeIconAppearance.initStaticConstsAfterClassDefinition(),window.DecreaseFontSizeIconWdgt=function(t){this.color=t,DecreaseFontSizeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new DecreaseFontSizeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DecreaseFontSizeIconWdgt,"name",{value:"DecreaseFontSizeIconWdgt"}),window.DecreaseFontSizeIconWdgt.__super__=window.IconMorph.prototype,window.DecreaseFontSizeIconWdgt=extend(window.DecreaseFontSizeIconWdgt,window.IconMorph),window.DecreaseFontSizeIconWdgt.instances=new Set,"function"==typeof window.DecreaseFontSizeIconWdgt.initStaticConstsAfterClassDefinition&&window.DecreaseFontSizeIconWdgt.initStaticConstsAfterClassDefinition(),window.DegreesConverterIconAppearance=function(t){this.morph=t,DegreesConverterIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DegreesConverterIconAppearance,"name",{value:"DegreesConverterIconAppearance"}),window.DegreesConverterIconAppearance.__super__=window.IconAppearance.prototype,window.DegreesConverterIconAppearance=extend(window.DegreesConverterIconAppearance,window.IconAppearance),window.DegreesConverterIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,this.oval(t,67,6.5,13,13),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(82,16),t.lineTo(82,37),t.moveTo(82,16),t.lineTo(93.5,16),t.moveTo(82,26),t.lineTo(87,26),t.strokeStyle=n,t.lineWidth=7,t.lineCap="round",t.stroke(),this.oval(t,70,9.5,7,7),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(95,16.49),t.bezierCurveTo(95,17.35,94.26,18.06,93.36,18.06),t.lineTo(83.53,18.06),t.bezierCurveTo(83.53,18.06,83.53,20.47,83.53,23.56),t.bezierCurveTo(83.68,23.52,83.84,23.5,84,23.5),t.lineTo(86,23.5),t.bezierCurveTo(87.1,23.5,88,24.4,88,25.5),t.bezierCurveTo(88,26.6,87.1,27.5,86,27.5),t.lineTo(84,27.5),t.bezierCurveTo(83.84,27.5,83.68,27.48,83.53,27.44),t.bezierCurveTo(83.53,32.18,83.53,36.94,83.53,36.94),t.bezierCurveTo(83.53,37.81,82.79,38.52,81.89,38.52),t.bezierCurveTo(80.99,38.52,80.25,37.81,80.25,36.94),t.bezierCurveTo(80.25,36.94,80.25,36.14,80.25,34.86),t.bezierCurveTo(80.25,29.66,80.25,16.49,80.25,16.49),t.bezierCurveTo(80.25,15.62,80.99,14.92,81.89,14.92),t.lineTo(93.36,14.92),t.bezierCurveTo(94.26,14.92,95,15.62,95,16.49),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,2.5,6.5,13,13),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(23.94,40.02),t.bezierCurveTo(16.42,40.02,10.28,33.76,10.28,26.07),t.bezierCurveTo(10.28,18.39,16.42,12.13,23.94,12.13),t.bezierCurveTo(27.56,12.13,32.1,14.34,33.55,16.17),t.bezierCurveTo(35,18,34.15,19.76,33.56,20.36),t.bezierCurveTo(32.99,20.97,31.82,21.91,29.42,21.37),t.bezierCurveTo(27.01,20.84,28.89,18.46,23.94,18.23),t.bezierCurveTo(19,18,16,23,16.32,26.07),t.bezierCurveTo(16.64,29.15,18.09,33.92,23.94,33.92),t.bezierCurveTo(26.76,33.92,27.01,31.56,29.42,30.78),t.bezierCurveTo(31.82,30,32.99,31.19,33.56,31.79),t.bezierCurveTo(34.15,32.39,34.14,35.38,33.55,35.98),t.bezierCurveTo(30.97,38.58,27.56,40.02,23.94,40.02),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(23.64,38.02),t.bezierCurveTo(17.38,38.02,12.28,32.66,12.28,26.07),t.bezierCurveTo(12.28,19.49,17.38,14.13,23.64,14.13),t.bezierCurveTo(26.65,14.13,29.48,15.36,31.63,17.59),t.bezierCurveTo(32.12,18.11,32.13,18.96,31.64,19.47),t.bezierCurveTo(31.16,19.99,30.35,20,29.85,19.48),t.bezierCurveTo(28.19,17.75,25.99,16.79,23.64,16.79),t.bezierCurveTo(18.77,16.79,14.81,20.95,14.81,26.07),t.bezierCurveTo(14.81,31.2,18.77,35.36,23.64,35.36),t.bezierCurveTo(25.98,35.36,28.19,34.41,29.85,32.67),t.bezierCurveTo(30.35,32.16,31.16,32.17,31.64,32.68),t.bezierCurveTo(32.13,33.2,32.12,34.05,31.63,34.56),t.bezierCurveTo(29.48,36.79,26.65,38.02,23.64,38.02),t.closePath(),t.fillStyle=e,t.fill(),this.oval(t,5.5,9.5,7,7),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(51.3,2),t.bezierCurveTo(44.58,1.97,38.95,6.05,38.92,12.2),t.lineTo(38.92,64.3),t.bezierCurveTo(34.19,67.67,32,72.85,32,78.71),t.bezierCurveTo(32,88.82,40.17,98,51.34,98),t.bezierCurveTo(62.5,98,70.67,88.82,70.67,78.71),t.bezierCurveTo(70.67,72.84,68.47,67.64,63.72,64.27),t.bezierCurveTo(63.52,45.14,64,30.33,63.69,12.2),t.bezierCurveTo(63.72,6.05,58.09,1.97,51.3,2),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(51.31,4.82),t.bezierCurveTo(45.82,4.79,41.22,8.56,41.19,14.24),t.lineTo(41.19,64.94),t.bezierCurveTo(37.33,68.05,34.78,72.83,34.78,78.24),t.bezierCurveTo(34.78,87.57,42.22,95.18,51.34,95.18),t.bezierCurveTo(60.46,95.18,67.89,87.57,67.89,78.24),t.bezierCurveTo(67.89,72.82,65.33,68.02,61.45,64.91),t.bezierCurveTo(61.29,47.26,61.68,30.98,61.42,14.24),t.bezierCurveTo(61.45,8.56,56.85,4.79,51.31,4.82),t.closePath(),t.moveTo(51.28,8.59),t.bezierCurveTo(54.1,8.56,57.77,10.44,57.74,14.24),t.bezierCurveTo(57.8,31.68,57.77,48.05,57.77,65.76),t.bezierCurveTo(57.77,66.38,58.08,66.98,58.58,67.32),t.bezierCurveTo(61.98,69.69,64.21,73.69,64.21,78.24),t.bezierCurveTo(64.21,85.53,58.47,91.41,51.34,91.41),t.bezierCurveTo(44.2,91.41,38.46,85.53,38.46,78.24),t.bezierCurveTo(38.46,73.71,40.68,69.7,44.07,67.32),t.bezierCurveTo(44.55,66.99,44.86,66.4,44.87,65.79),t.lineTo(44.87,14.24),t.bezierCurveTo(44.9,10.44,47.66,8.56,51.28,8.59),t.closePath(),t.moveTo(47.4,49.18),t.bezierCurveTo(46.76,49.82,46.74,50.5,46.74,50.97),t.lineTo(46.74,70.18),t.bezierCurveTo(44.02,71.81,42.14,74.76,42.14,78.21),t.bezierCurveTo(42.14,83.38,46.28,87.62,51.34,87.62),t.bezierCurveTo(56.39,87.62,60.53,83.38,60.53,78.21),t.bezierCurveTo(60.53,74.77,58.65,71.84,55.93,70.21),t.lineTo(55.93,50.97),t.bezierCurveTo(55.94,50.29,55.55,49.61,54.96,49.29),t.bezierCurveTo(54.37,48.98,53.61,49.03,53.06,49.41),t.bezierCurveTo(51.61,49.96,50.53,48.82,49.38,48.59),t.bezierCurveTo(48.61,48.43,47.98,48.79,47.4,49.18),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(47,16),t.lineTo(56,16),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,23.5),t.lineTo(56,23.5),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,31),t.lineTo(56,31),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,38.5),t.lineTo(56,38.5),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47,46),t.lineTo(56,46),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,19.75),t.lineTo(56,19.75),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,27.25),t.lineTo(56,27.25),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,34.75),t.lineTo(56,34.75),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(51.5,42.25),t.lineTo(56,42.25),t.strokeStyle=e,t.lineWidth=2,t.lineCap="round",t.stroke()},window.DegreesConverterIconAppearance.instances=new Set,"function"==typeof window.DegreesConverterIconAppearance.initStaticConstsAfterClassDefinition&&window.DegreesConverterIconAppearance.initStaticConstsAfterClassDefinition(),window.DegreesConverterIconWdgt=function(t){this.color=t,DegreesConverterIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new DegreesConverterIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DegreesConverterIconWdgt,"name",{value:"DegreesConverterIconWdgt"}),window.DegreesConverterIconWdgt.__super__=window.IconMorph.prototype,window.DegreesConverterIconWdgt=extend(window.DegreesConverterIconWdgt,window.IconMorph),window.DegreesConverterIconWdgt.instances=new Set,"function"==typeof window.DegreesConverterIconWdgt.initStaticConstsAfterClassDefinition&&window.DegreesConverterIconWdgt.initStaticConstsAfterClassDefinition(),window.DestroyIconAppearance=function(t){this.morph=t,DestroyIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DestroyIconAppearance,"name",{value:"DestroyIconAppearance"}),window.DestroyIconAppearance.__super__=window.IconAppearance.prototype,window.DestroyIconAppearance=extend(window.DestroyIconAppearance,window.IconAppearance),window.DestroyIconAppearance.prototype.paintFunction=function(t){var e,n;if(e=this.morph.color.toString(),null!=this.morph.strokeColor&&(n=this.morph.strokeColor.toString()),t.beginPath(),t.moveTo(42.5,4.5),t.lineTo(53.5,29.5),t.lineTo(72.5,9.5),t.lineTo(65.5,35.5),t.lineTo(94.5,34.5),t.lineTo(70.5,51.5),t.lineTo(96.5,72.5),t.lineTo(65.5,66.5),t.lineTo(73.5,87.5),t.lineTo(55.5,73.5),t.lineTo(43.5,96.5),t.lineTo(36.5,67.5),t.lineTo(9.5,77.5),t.lineTo(24.5,59.5),t.lineTo(3.5,56.5),t.lineTo(25.5,48.5),t.lineTo(5.5,25.5),t.lineTo(37.5,32.5),t.lineTo(42.5,4.5),t.closePath(),t.fillStyle=e,t.fill(),null!=n)return t.strokeStyle=n,t.lineWidth=1,t.stroke()},window.DestroyIconAppearance.instances=new Set,"function"==typeof window.DestroyIconAppearance.initStaticConstsAfterClassDefinition&&window.DestroyIconAppearance.initStaticConstsAfterClassDefinition(),window.DestroyIconMorph=function(t){this.color=t,DestroyIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new DestroyIconAppearance(this),this.toolTipMessage="explosion","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.DestroyIconMorph,"name",{value:"DestroyIconMorph"}),window.DestroyIconMorph.__super__=window.IconMorph.prototype,window.DestroyIconMorph=extend(window.DestroyIconMorph,window.IconMorph),window.DestroyIconMorph.prototype.colloquialName=function(){return'"Destroy" icon'},window.DestroyIconMorph.instances=new Set,"function"==typeof window.DestroyIconMorph.initStaticConstsAfterClassDefinition&&window.DestroyIconMorph.initStaticConstsAfterClassDefinition(),window.ElasticWindowIconAppearance=function(t){this.morph=t,ElasticWindowIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ElasticWindowIconAppearance,"name",{value:"ElasticWindowIconAppearance"}),window.ElasticWindowIconAppearance.__super__=window.IconAppearance.prototype,window.ElasticWindowIconAppearance=extend(window.ElasticWindowIconAppearance,window.IconAppearance),window.ElasticWindowIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),this.oval(t,11,11,6,6),t.fillStyle=e,t.fill(),this.oval(t,22,11,6,6),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(5,24),t.lineTo(91,24),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.rect(4,4,88,88),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(82,83),t.lineTo(82,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(80.5,57.65),t.bezierCurveTo(79.09,60.86,77.49,64.5,74.07,64.5),t.bezierCurveTo(70.64,64.5,69.05,60.86,67.64,57.65),t.bezierCurveTo(66.18,54.32,65.09,52.15,63.23,52.15),t.bezierCurveTo(61.38,52.15,60.28,54.32,58.83,57.65),t.bezierCurveTo(57.42,60.86,55.82,64.5,52.4,64.5),t.bezierCurveTo(48.97,64.5,47.38,60.86,45.97,57.65),t.bezierCurveTo(44.51,54.32,43.42,52.15,41.56,52.15),t.bezierCurveTo(39.71,52.15,38.62,54.32,37.16,57.65),t.bezierCurveTo(35.75,60.86,34.16,64.5,30.73,64.5),t.bezierCurveTo(27.31,64.5,25.72,60.86,24.31,57.65),t.bezierCurveTo(22.85,54.32,21.76,52.15,19.9,52.15),t.bezierCurveTo(18.05,52.15,16.96,54.32,15.5,57.65),t.strokeStyle=e,t.lineWidth=3,t.miterLimit=4,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(15,83),t.lineTo(15,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke()},window.ElasticWindowIconAppearance.instances=new Set,"function"==typeof window.ElasticWindowIconAppearance.initStaticConstsAfterClassDefinition&&window.ElasticWindowIconAppearance.initStaticConstsAfterClassDefinition(),window.ElasticWindowIconWdgt=function(t){this.color=t,ElasticWindowIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ElasticWindowIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ElasticWindowIconWdgt,"name",{value:"ElasticWindowIconWdgt"}),window.ElasticWindowIconWdgt.__super__=window.IconMorph.prototype,window.ElasticWindowIconWdgt=extend(window.ElasticWindowIconWdgt,window.IconMorph),window.ElasticWindowIconWdgt.instances=new Set,"function"==typeof window.ElasticWindowIconWdgt.initStaticConstsAfterClassDefinition&&window.ElasticWindowIconWdgt.initStaticConstsAfterClassDefinition(),window.EmptyWindowIconAppearance=function(t){this.morph=t,EmptyWindowIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EmptyWindowIconAppearance,"name",{value:"EmptyWindowIconAppearance"}),window.EmptyWindowIconAppearance.__super__=window.IconAppearance.prototype,window.EmptyWindowIconAppearance=extend(window.EmptyWindowIconAppearance,window.IconAppearance),window.EmptyWindowIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),this.oval(t,11,11,6,6),t.fillStyle=e,t.fill(),this.oval(t,22,11,6,6),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(5,24),t.lineTo(91,24),t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.rect(4,4,88,88),t.strokeStyle=e,t.lineWidth=3.5,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(19,33),t.lineTo(14,33),t.lineTo(14,39),t.strokeStyle=e,t.lineWidth=2.5,t.lineCap="square",t.stroke(),t.beginPath(),t.moveTo(14,45),t.lineTo(14,53),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(14,60),t.bezierCurveTo(14,59.5,14,69,14,69),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(14,77),t.lineTo(14,82),t.lineTo(21,82),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(77,82),t.lineTo(82,82),t.lineTo(82,75),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(82,68),t.lineTo(82,60),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(82,53),t.lineTo(82,44),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(82,38.94),t.bezierCurveTo(82,39.69,82,33,82,33),t.lineTo(75,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(26,33),t.lineTo(38,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(43,33),t.lineTo(53,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(58,33),t.lineTo(70,33),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(26,82),t.lineTo(38,82),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(43,82),t.lineTo(53,82),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.moveTo(58,82),t.lineTo(70,82),t.strokeStyle=e,t.lineWidth=2.5,t.stroke()},window.EmptyWindowIconAppearance.instances=new Set,"function"==typeof window.EmptyWindowIconAppearance.initStaticConstsAfterClassDefinition&&window.EmptyWindowIconAppearance.initStaticConstsAfterClassDefinition(),window.EmptyWindowIconWdgt=function(t){this.color=t,EmptyWindowIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new EmptyWindowIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EmptyWindowIconWdgt,"name",{value:"EmptyWindowIconWdgt"}),window.EmptyWindowIconWdgt.__super__=window.IconMorph.prototype,window.EmptyWindowIconWdgt=extend(window.EmptyWindowIconWdgt,window.IconMorph),window.EmptyWindowIconWdgt.instances=new Set,"function"==typeof window.EmptyWindowIconWdgt.initStaticConstsAfterClassDefinition&&window.EmptyWindowIconWdgt.initStaticConstsAfterClassDefinition(),window.EraserIconAppearance=function(){window.EraserIconAppearance.__super__.constructor.apply(this,arguments),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EraserIconAppearance,"name",{value:"EraserIconAppearance"}),window.EraserIconAppearance.__super__=window.IconAppearance.prototype,window.EraserIconAppearance=extend(window.EraserIconAppearance,window.IconAppearance),window.EraserIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(191.45,32.27),t.bezierCurveTo(190.62,31.18,189.31,30.53,187.94,30.53),t.lineTo(100.04,30.53),t.bezierCurveTo(99.26,30.53,98.5,30.75,97.84,31.16),t.lineTo(97.68,31.02),t.lineTo(23.59,110.15),t.lineTo(22.8,111.05),t.lineTo(22.9,111.15),t.bezierCurveTo(22.74,111.45,22.61,111.75,22.53,112.06),t.lineTo(8.79,163.86),t.bezierCurveTo(8.44,165.19,8.72,166.64,9.55,167.73),t.bezierCurveTo(10.38,168.82,11.69,169.47,13.05,169.47),t.lineTo(100.95,169.47),t.bezierCurveTo(102.36,169.47,103.61,168.87,104.9,167.56),t.lineTo(177.19,90.19),t.bezierCurveTo(177.41,89.96,178.23,88.81,178.46,87.94),t.lineTo(191.72,37.95),t.lineTo(192.21,36.14),t.bezierCurveTo(192.56,34.79,192.29,33.38,191.45,32.27),t.closePath(),t.moveTo(108.95,117.67),t.lineTo(97.57,160.56),t.lineTo(18.8,160.56),t.lineTo(30.18,117.67),t.lineTo(108.95,117.67),t.closePath(),t.moveTo(178.4,39.44),t.lineTo(113.49,108.76),t.lineTo(37.03,108.76),t.lineTo(101.94,39.44),t.lineTo(178.4,39.44),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.EraserIconAppearance.instances=new Set,"function"==typeof window.EraserIconAppearance.initStaticConstsAfterClassDefinition&&window.EraserIconAppearance.initStaticConstsAfterClassDefinition(),window.EraserIconMorph=function(t){this.color=t,EraserIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new EraserIconAppearance(this),this.toolTipMessage="eraser","function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.EraserIconMorph,"name",{value:"EraserIconMorph"}),window.EraserIconMorph.__super__=window.IconMorph.prototype,window.EraserIconMorph=extend(window.EraserIconMorph,window.IconMorph),window.EraserIconMorph.instances=new Set,"function"==typeof window.EraserIconMorph.initStaticConstsAfterClassDefinition&&window.EraserIconMorph.initStaticConstsAfterClassDefinition(),window.ExternalIconAppearance=function(t){this.morph=t,ExternalIconAppearance.__super__.constructor.apply(this,arguments),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalIconAppearance,"name",{value:"ExternalIconAppearance"}),window.ExternalIconAppearance.__super__=window.IconAppearance.prototype,window.ExternalIconAppearance=extend(window.ExternalIconAppearance,window.IconAppearance),window.ExternalIconAppearance.prototype.paintFunction=function(t){var e;return e=this.morph.color,t.beginPath(),t.moveTo(3,66),t.lineTo(15,66),t.lineTo(15,72.56),t.bezierCurveTo(15,80.02,20.97,85.08,28.46,85.08),t.lineTo(71.54,85.08),t.bezierCurveTo(79.03,85.08,85.12,79.02,85.12,71.56),t.lineTo(85.12,27.43),t.bezierCurveTo(85.12,19.97,79.03,13.91,71.54,13.91),t.lineTo(28.46,13.91),t.bezierCurveTo(20.97,13.91,15,18.97,15,26.43),t.lineTo(15,33),t.lineTo(3,33),t.lineTo(3,26.43),t.bezierCurveTo(3,12.46,14.42,2.08,28.46,2.08),t.lineTo(71.54,2.08),t.bezierCurveTo(85.57,2.08,97,13.46,97,27.43),t.lineTo(97,71.56),t.bezierCurveTo(97,85.54,85.57,96.92,71.54,96.92),t.lineTo(28.46,96.92),t.bezierCurveTo(14.42,96.92,3,86.54,3,72.56),t.lineTo(3,66),t.closePath(),t.fillStyle=e.toString(),t.fill(),t.beginPath(),t.moveTo(3.44,43.3),t.lineTo(39.64,43.3),t.lineTo(39.64,24.48),t.lineTo(73.62,49.22),t.lineTo(39.64,73.92),t.lineTo(39.64,55.12),t.lineTo(3.44,55.12),t.lineTo(3.44,43.3),t.closePath(),t.fillStyle=e.toString(),t.fill()},window.ExternalIconAppearance.instances=new Set,"function"==typeof window.ExternalIconAppearance.initStaticConstsAfterClassDefinition&&window.ExternalIconAppearance.initStaticConstsAfterClassDefinition(),window.ExternalIconMorph=function(t){this.color=t,ExternalIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new ExternalIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalIconMorph,"name",{value:"ExternalIconMorph"}),window.ExternalIconMorph.__super__=window.IconMorph.prototype,window.ExternalIconMorph=extend(window.ExternalIconMorph,window.IconMorph),window.ExternalIconMorph.instances=new Set,"function"==typeof window.ExternalIconMorph.initStaticConstsAfterClassDefinition&&window.ExternalIconMorph.initStaticConstsAfterClassDefinition(),window.ExternalLinkIconAppearance=function(t){this.morph=t,ExternalLinkIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalLinkIconAppearance,"name",{value:"ExternalLinkIconAppearance"}),window.ExternalLinkIconAppearance.__super__=window.IconAppearance.prototype,window.ExternalLinkIconAppearance=extend(window.ExternalLinkIconAppearance,window.IconAppearance),window.ExternalLinkIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(54,22),t.lineTo(13.5,22),t.lineTo(13.5,86.5),t.lineTo(78,86.5),t.lineTo(78,46),t.strokeStyle=n,t.lineWidth=16,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(62.33,23.13),t.lineTo(65.3,23.13),t.lineTo(40.31,47.17),t.lineTo(52.82,59.68),t.lineTo(76.98,34.68),t.lineTo(76.98,37.66),t.lineTo(93.2,37.66),t.lineTo(93.2,6.9),t.lineTo(62.33,6.9),t.lineTo(62.33,23.13),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(51,22),t.lineTo(14,22),t.lineTo(14,86),t.lineTo(78,86),t.lineTo(78,49),t.strokeStyle=e,t.lineWidth=11,t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(64.57,20.28),t.lineTo(71.74,20.28),t.lineTo(44.31,47.72),t.lineTo(52.28,55.68),t.lineTo(79.82,28.25),t.lineTo(79.82,35.42),t.lineTo(91.2,35.42),t.lineTo(91.2,8.9),t.lineTo(64.57,8.9),t.lineTo(64.57,20.28),t.closePath(),t.fillStyle=e,t.fill()},window.ExternalLinkIconAppearance.instances=new Set,"function"==typeof window.ExternalLinkIconAppearance.initStaticConstsAfterClassDefinition&&window.ExternalLinkIconAppearance.initStaticConstsAfterClassDefinition(),window.ExternalLinkIconWdgt=function(t){this.color=t,ExternalLinkIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new ExternalLinkIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.ExternalLinkIconWdgt,"name",{value:"ExternalLinkIconWdgt"}),window.ExternalLinkIconWdgt.__super__=window.IconMorph.prototype,window.ExternalLinkIconWdgt=extend(window.ExternalLinkIconWdgt,window.IconMorph),window.ExternalLinkIconWdgt.instances=new Set,"function"==typeof window.ExternalLinkIconWdgt.initStaticConstsAfterClassDefinition&&window.ExternalLinkIconWdgt.initStaticConstsAfterClassDefinition(),window.FizzygumLogoIconAppearance=function(t){this.morph=t,FizzygumLogoIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FizzygumLogoIconAppearance,"name",{value:"FizzygumLogoIconAppearance"}),window.FizzygumLogoIconAppearance.__super__=window.IconAppearance.prototype,window.FizzygumLogoIconAppearance=extend(window.FizzygumLogoIconAppearance,window.IconAppearance),window.FizzygumLogoIconAppearance.prototype.paintFunction=function(t){var e,n;return n="rgb(255, 255, 255)",e=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(98,49.68),t.bezierCurveTo(98,21.6,77.18,3,51.5,3),t.bezierCurveTo(25.82,3,5,23.9,5,49.68),t.bezierCurveTo(5,59.58,10.93,71.63,13.31,76.3),t.bezierCurveTo(15.69,80.98,12.68,88.84,1,95.37),t.bezierCurveTo(1,95.37,46.24,98.63,60.89,94.61),t.bezierCurveTo(75.55,90.59,98,77.77,98,49.68),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(95,49.7),t.bezierCurveTo(95,23.41,75.52,6,51.5,6),t.bezierCurveTo(27.48,6,8,25.57,8,49.7),t.bezierCurveTo(8,58.97,13.54,70.25,15.77,74.62),t.bezierCurveTo(18,79,18.92,87.29,8,93.41),t.bezierCurveTo(8,93.41,46.58,95.53,60.29,91.77),t.bezierCurveTo(74,88,95,76,95,49.7),t.closePath(),t.fillStyle="rgb(255, 0, 0)",t.fill(),this.oval(t,65,29,5,5),t.fillStyle=n,t.fill(),this.oval(t,60,45,9,9),t.fillStyle=n,t.fill(),this.oval(t,53,35,6,6),t.fillStyle=n,t.fill(),this.oval(t,40,45,8,8),t.fillStyle=n,t.fill(),this.oval(t,39,30,6,6),t.fillStyle=n,t.fill(),this.oval(t,28,37,4,4),t.fillStyle=n,t.fill(),this.oval(t,26,52,5,5),t.fillStyle=n,t.fill(),this.oval(t,32,69,4,4),t.fillStyle=n,t.fill(),this.oval(t,50,74,3,3),t.fillStyle=n,t.fill(),this.oval(t,72,56,4,4),t.fillStyle=n,t.fill(),this.oval(t,53,58,4,4),t.fillStyle=n,t.fill(),this.oval(t,62,66,6,6),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(52,17.98),t.lineTo(52,19.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(48,22),t.lineTo(50,22),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(54,22),t.lineTo(56,22),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(52,23.98),t.lineTo(52,25.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(44,60.48),t.lineTo(44,62.48),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(40.5,64),t.lineTo(42.5,64),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(45.5,64),t.lineTo(47.5,64),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(44,65.48),t.lineTo(44,67.48),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(77.5,37.98),t.lineTo(77.5,39.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(73.5,42),t.lineTo(75.5,42),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(79.5,42),t.lineTo(81.5,42),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(77.5,43.98),t.lineTo(77.5,45.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=2,t.lineCap="round",t.stroke()},window.FizzygumLogoIconAppearance.instances=new Set,"function"==typeof window.FizzygumLogoIconAppearance.initStaticConstsAfterClassDefinition&&window.FizzygumLogoIconAppearance.initStaticConstsAfterClassDefinition(),window.FizzygumLogoIconWdgt=function(t){this.color=t,FizzygumLogoIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FizzygumLogoIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FizzygumLogoIconWdgt,"name",{value:"FizzygumLogoIconWdgt"}),window.FizzygumLogoIconWdgt.__super__=window.IconMorph.prototype,window.FizzygumLogoIconWdgt=extend(window.FizzygumLogoIconWdgt,window.IconMorph),window.FizzygumLogoIconWdgt.instances=new Set,"function"==typeof window.FizzygumLogoIconWdgt.initStaticConstsAfterClassDefinition&&window.FizzygumLogoIconWdgt.initStaticConstsAfterClassDefinition(),window.FizzygumLogoWithTextIconAppearance=function(t){this.morph=t,FizzygumLogoWithTextIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FizzygumLogoWithTextIconAppearance,"name",{value:"FizzygumLogoWithTextIconAppearance"}),window.FizzygumLogoWithTextIconAppearance.__super__=window.IconAppearance.prototype,window.FizzygumLogoWithTextIconAppearance=extend(window.FizzygumLogoWithTextIconAppearance,window.IconAppearance),window.FizzygumLogoWithTextIconAppearance.prototype.paintFunction=function(t){var e;return e="rgb(255, 255, 255)",t.fillStyle="rgb(0, 0, 0)",t.font='bold 17px Arial-BoldMT, Arial, "Helvetica Neue", Helvetica, sans-serif',t.textAlign="center",22.1,t.fillText("Fizzygum",51.5,90.95),t.beginPath(),t.moveTo(86.65,39.23),t.bezierCurveTo(86.65,18.83,71.39,5.33,52.57,5.33),t.bezierCurveTo(33.74,5.33,18.48,20.51,18.48,39.23),t.bezierCurveTo(18.48,46.41,22.83,55.16,24.57,58.56),t.bezierCurveTo(26.32,61.95,27.04,68.39,18.48,73.13),t.bezierCurveTo(18.48,73.13,48.71,74.77,59.45,71.85),t.bezierCurveTo(70.2,68.93,86.65,59.63,86.65,39.23),t.closePath(),t.fillStyle="rgb(255, 0, 0)",t.fill(),this.oval(t,63,22,4,4),t.fillStyle=e,t.fill(),this.oval(t,59,35,7,7),t.fillStyle=e,t.fill(),this.oval(t,53,27,5,5),t.fillStyle=e,t.fill(),this.oval(t,43,35,6,6),t.fillStyle=e,t.fill(),this.oval(t,43,23,4,4),t.fillStyle=e,t.fill(),this.oval(t,34,28,3,3),t.fillStyle=e,t.fill(),this.oval(t,33,40,4,4),t.fillStyle=e,t.fill(),this.oval(t,37,54,3,3),t.fillStyle=e,t.fill(),this.oval(t,51,58,2,2),t.fillStyle=e,t.fill(),this.oval(t,68,43,3,3),t.fillStyle=e,t.fill(),this.oval(t,54,45,3,3),t.fillStyle=e,t.fill(),this.oval(t,61,52,4,4),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(52,13.98),t.lineTo(52,15.48),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(49,17),t.lineTo(50.5,17),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(53.5,17),t.lineTo(55,17),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(52,18.48),t.lineTo(52,19.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(46,47.48),t.lineTo(46,48.91),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(43.5,49.99),t.lineTo(44.93,49.99),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(47.07,49.99),t.lineTo(48.5,49.99),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(46,51.05),t.lineTo(46,52.48),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(72.5,30.98),t.lineTo(72.5,32.48),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(69.5,34),t.lineTo(71,34),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(74,34),t.lineTo(75.5,34),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(72.5,35.48),t.lineTo(72.5,36.98),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1.5,t.lineCap="round",t.stroke()},window.FizzygumLogoWithTextIconAppearance.instances=new Set,"function"==typeof window.FizzygumLogoWithTextIconAppearance.initStaticConstsAfterClassDefinition&&window.FizzygumLogoWithTextIconAppearance.initStaticConstsAfterClassDefinition(),window.FizzygumLogoWithTextIconWdgt=function(t){this.color=t,FizzygumLogoWithTextIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FizzygumLogoWithTextIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FizzygumLogoWithTextIconWdgt,"name",{value:"FizzygumLogoWithTextIconWdgt"}),window.FizzygumLogoWithTextIconWdgt.__super__=window.IconMorph.prototype,window.FizzygumLogoWithTextIconWdgt=extend(window.FizzygumLogoWithTextIconWdgt,window.IconMorph),window.FizzygumLogoWithTextIconWdgt.instances=new Set,"function"==typeof window.FizzygumLogoWithTextIconWdgt.initStaticConstsAfterClassDefinition&&window.FizzygumLogoWithTextIconWdgt.initStaticConstsAfterClassDefinition(),window.FloppyDiskIconAppearance=function(t){this.morph=t,FloppyDiskIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FloppyDiskIconAppearance,"name",{value:"FloppyDiskIconAppearance"}),window.FloppyDiskIconAppearance.__super__=window.IconAppearance.prototype,window.FloppyDiskIconAppearance=extend(window.FloppyDiskIconAppearance,window.IconAppearance),window.FloppyDiskIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(8.5,6.5),t.lineTo(78.16,6.5),t.lineTo(92.5,20.83),t.lineTo(92.5,92.5),t.lineTo(8.5,92.5),t.lineTo(8.5,6.5),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(12.23,10.24),t.lineTo(75.7,10.24),t.lineTo(88.77,23.33),t.lineTo(88.77,88.76),t.lineTo(12.23,88.76),t.lineTo(12.23,10.24),t.closePath(),t.strokeStyle=e,t.lineWidth=3.5,t.stroke(),t.beginPath(),t.rect(57.5,16.5,7,13),t.strokeStyle=e,t.lineWidth=2,t.stroke(),this.oval(t,52.5,67.5,4,4),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(32.11,69.71),t.lineTo(48.83,69.71),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.stroke(),t.beginPath(),t.moveTo(32.11,63),t.lineTo(44.65,63),t.strokeStyle=e,t.lineWidth=4,t.lineCap="round",t.stroke(),t.beginPath(),t.rect(27.5,11.5,42,24),t.strokeStyle=e,t.lineWidth=2.5,t.stroke(),t.beginPath(),t.rect(24,53.5,53,35),t.strokeStyle=e,t.lineWidth=2.5,t.stroke()},window.FloppyDiskIconAppearance.instances=new Set,"function"==typeof window.FloppyDiskIconAppearance.initStaticConstsAfterClassDefinition&&window.FloppyDiskIconAppearance.initStaticConstsAfterClassDefinition(),window.FloppyDiskIconWdgt=function(t){this.color=t,FloppyDiskIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FloppyDiskIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FloppyDiskIconWdgt,"name",{value:"FloppyDiskIconWdgt"}),window.FloppyDiskIconWdgt.__super__=window.IconMorph.prototype,window.FloppyDiskIconWdgt=extend(window.FloppyDiskIconWdgt,window.IconMorph),window.FloppyDiskIconWdgt.instances=new Set,"function"==typeof window.FloppyDiskIconWdgt.initStaticConstsAfterClassDefinition&&window.FloppyDiskIconWdgt.initStaticConstsAfterClassDefinition(),window.FloraIconAppearance=function(t){this.morph=t,FloraIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FloraIconAppearance,"name",{value:"FloraIconAppearance"}),window.FloraIconAppearance.__super__=window.IconAppearance.prototype,window.FloraIconAppearance=extend(window.FloraIconAppearance,window.IconAppearance),window.FloraIconAppearance.prototype.paintFunction=function(t){var e;return e="rgb(0, 0, 0)",this.arc(t,101.5,46.5,77,77,193,259,!1),t.strokeStyle=e,t.lineWidth=3,t.stroke(),this.arc(t,25.5,46.5,77,77,281,347,!1),t.strokeStyle=e,t.lineWidth=3,t.stroke(),this.arc(t,71.5,16.5,62,62,357,183,!1),t.strokeStyle=e,t.lineWidth=3,t.stroke(),t.beginPath(),t.moveTo(101.5,73.5),t.lineTo(101.5,110.5),t.strokeStyle=e,t.lineWidth=3,t.stroke(),t.beginPath(),t.moveTo(48.5,108.5),t.lineTo(154.5,108.5),t.lineCap="round",t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.moveTo(47.5,108.5),t.lineTo(54.5,133.5),t.lineTo(150.5,133.5),t.lineTo(154.5,109.5),t.lineCap="round",t.strokeStyle=e,t.lineWidth=4,t.stroke(),t.beginPath(),t.moveTo(57,134),t.lineTo(74,192),t.lineTo(132,192),t.lineTo(147,133),t.strokeStyle=e,t.lineWidth=4,t.stroke(),this.oval(t,99,7,4,4),t.fillStyle=e,t.fill(),this.oval(t,86,19,4,4),t.fillStyle=e,t.fill(),this.oval(t,86,32,4,4),t.fillStyle=e,t.fill(),this.oval(t,99,19,4,4),t.fillStyle=e,t.fill(),this.oval(t,112,19,4,4),t.fillStyle=e,t.fill(),this.oval(t,99,32,4,4),t.fillStyle=e,t.fill(),this.oval(t,112,32,4,4),t.fillStyle=e,t.fill(),this.oval(t,99,44,4,4),t.fillStyle=e,t.fill()},window.FloraIconAppearance.instances=new Set,"function"==typeof window.FloraIconAppearance.initStaticConstsAfterClassDefinition&&window.FloraIconAppearance.initStaticConstsAfterClassDefinition(),window.FloraIconMorph=function(t){this.color=t,FloraIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new FloraIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FloraIconMorph,"name",{value:"FloraIconMorph"}),window.FloraIconMorph.__super__=window.IconMorph.prototype,window.FloraIconMorph=extend(window.FloraIconMorph,window.IconMorph),window.FloraIconMorph.prototype.colloquialName=function(){return"Flora icon"},window.FloraIconMorph.instances=new Set,"function"==typeof window.FloraIconMorph.initStaticConstsAfterClassDefinition&&window.FloraIconMorph.initStaticConstsAfterClassDefinition(),window.FolderIconAppearance=function(t){this.morph=t,FolderIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()};Object.defineProperty(window.FolderIconAppearance,"name",{value:"FolderIconAppearance"}),window.FolderIconAppearance.__super__=window.IconAppearance.prototype,window.FolderIconAppearance=extend(window.FolderIconAppearance,window.IconAppearance),window.FolderIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,t.beginPath(),t.moveTo(89.18,21.7),t.lineTo(44.61,21.7),t.lineTo(44.61,19.44),t.bezierCurveTo(44.61,15.33,40,12,36.11,12),t.lineTo(12.5,12),t.bezierCurveTo(9,12,4,14.89,4,19),t.lineTo(4,79.24),t.bezierCurveTo(4,83.53,6.5,87,10.82,87),t.lineTo(89.18,87),t.bezierCurveTo(93.5,87,97,83.53,97,79.24),t.lineTo(97,29.45),t.bezierCurveTo(97,25.17,93.5,21.7,89.18,21.7),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(87.57,24.63),t.lineTo(42.23,24.63),t.lineTo(42.23,21.63),t.lineTo(42.23,21.63),t.bezierCurveTo(42.23,17.84,39.16,14.77,35.37,14.77),t.lineTo(12.85,14.77),t.lineTo(12.86,14.77),t.bezierCurveTo(9.07,14.77,6,17.84,6,21.63),t.lineTo(6,31.2),t.bezierCurveTo(6,31.29,6,31.38,6,31.51),t.bezierCurveTo(6,31.64,6,31.69,6,31.78),t.lineTo(6,77.68),t.lineTo(6,77.68),t.bezierCurveTo(6,81.63,9.2,84.83,13.15,84.83),t.lineTo(87.57,84.83),t.lineTo(87.57,84.83),t.bezierCurveTo(91.52,84.83,94.72,81.63,94.72,77.68),t.lineTo(94.72,31.77),t.lineTo(94.72,31.78),t.bezierCurveTo(94.72,27.83,91.52,24.63,87.57,24.63),t.closePath(),t.moveTo(12.85,17.27),t.lineTo(35.37,17.27),t.lineTo(35.36,17.27),t.bezierCurveTo(37.8,17.27,39.77,19.24,39.77,21.68),t.lineTo(39.77,24.67),t.lineTo(8.45,24.67),t.lineTo(8.45,21.67),t.lineTo(8.45,21.68),t.bezierCurveTo(8.45,19.24,10.42,17.27,12.86,17.27),t.lineTo(12.85,17.27),t.closePath(),t.moveTo(92.26,77.68),t.lineTo(92.26,77.67),t.bezierCurveTo(92.26,80.27,90.16,82.37,87.56,82.37),t.lineTo(13.14,82.37),t.lineTo(13.15,82.37),t.bezierCurveTo(10.55,82.37,8.45,80.27,8.45,77.67),t.lineTo(8.45,27.08),t.lineTo(87.57,27.08),t.lineTo(87.56,27.08),t.bezierCurveTo(90.16,27.08,92.26,29.18,92.26,31.78),t.lineTo(92.26,77.67),t.lineTo(92.26,77.68),t.closePath(),t.fillStyle=e,t.fill()},window.FolderIconAppearance.instances=new Set,"function"==typeof window.FolderIconAppearance.initStaticConstsAfterClassDefinition&&window.FolderIconAppearance.initStaticConstsAfterClassDefinition(),window.FolderIconWdgt=function(t){this.color=t,FolderIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FolderIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FolderIconWdgt,"name",{value:"FolderIconWdgt"}),window.FolderIconWdgt.__super__=window.IconMorph.prototype,window.FolderIconWdgt=extend(window.FolderIconWdgt,window.IconMorph),window.FolderIconWdgt.instances=new Set,"function"==typeof window.FolderIconWdgt.initStaticConstsAfterClassDefinition&&window.FolderIconWdgt.initStaticConstsAfterClassDefinition(),window.FormatAsCodeIconAppearance=function(t){this.morph=t,FormatAsCodeIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FormatAsCodeIconAppearance,"name",{value:"FormatAsCodeIconAppearance"}),window.FormatAsCodeIconAppearance.__super__=window.IconAppearance.prototype,window.FormatAsCodeIconAppearance=extend(window.FormatAsCodeIconAppearance,window.IconAppearance),window.FormatAsCodeIconAppearance.prototype.paintFunction=function(t){var e,n;return n=WorldMorph.preferencesAndSettings.outlineColorString,e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(60.58,28),t.lineTo(83,50.5),t.lineTo(60.58,73),t.strokeStyle=n,t.lineWidth=10,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(39.42,28),t.lineTo(17,50.5),t.lineTo(39.42,73),t.strokeStyle=n,t.lineWidth=10,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(60.58,28),t.lineTo(83,50.5),t.lineTo(60.58,73),t.strokeStyle=e,t.lineWidth=5,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(39.42,28),t.lineTo(17,50.5),t.lineTo(39.42,73),t.strokeStyle=e,t.lineWidth=5,t.lineCap="round",t.lineJoin="round",t.stroke()},window.FormatAsCodeIconAppearance.instances=new Set,"function"==typeof window.FormatAsCodeIconAppearance.initStaticConstsAfterClassDefinition&&window.FormatAsCodeIconAppearance.initStaticConstsAfterClassDefinition(),window.FormatAsCodeIconWdgt=function(t){this.color=t,FormatAsCodeIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FormatAsCodeIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FormatAsCodeIconWdgt,"name",{value:"FormatAsCodeIconWdgt"}),window.FormatAsCodeIconWdgt.__super__=window.IconMorph.prototype,window.FormatAsCodeIconWdgt=extend(window.FormatAsCodeIconWdgt,window.IconMorph),window.FormatAsCodeIconWdgt.instances=new Set,"function"==typeof window.FormatAsCodeIconWdgt.initStaticConstsAfterClassDefinition&&window.FormatAsCodeIconWdgt.initStaticConstsAfterClassDefinition(),window.FunctionPlotIconAppearance=function(t){this.morph=t,FunctionPlotIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FunctionPlotIconAppearance,"name",{value:"FunctionPlotIconAppearance"}),window.FunctionPlotIconAppearance.__super__=window.IconAppearance.prototype,window.FunctionPlotIconAppearance=extend(window.FunctionPlotIconAppearance,window.IconAppearance),window.FunctionPlotIconAppearance.prototype.paintFunction=function(t){var e;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),t.beginPath(),t.moveTo(7,8),t.lineTo(11.25,8),t.lineTo(11.25,88.76),t.lineTo(92,88.76),t.lineTo(92,93),t.lineTo(7,93),t.lineTo(7,8),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.moveTo(20.06,79.26),t.lineTo(15.23,75.9),t.lineTo(26.06,56.31),t.bezierCurveTo(30.65,47.24,35.32,43.21,40.07,44.24),t.bezierCurveTo(43.14,44.9,54.09,61.41,57.5,57.37),t.bezierCurveTo(58.98,57.16,82.84,11.04,82.84,11.04),t.lineTo(87.75,14.04),t.bezierCurveTo(87.75,14.04,64.04,58.55,62.73,60.59),t.bezierCurveTo(61.13,62.57,59.42,63.75,57.1,63.64),t.bezierCurveTo(54.43,63.84,52,63,48.31,59.85),t.bezierCurveTo(44.62,56.71,41.39,52.14,38.2,51.57),t.bezierCurveTo(35,51,32.45,56.53,30.62,59.61),t.lineTo(20.06,79.26),t.closePath(),t.fillStyle=e,t.fill()},window.FunctionPlotIconAppearance.instances=new Set,"function"==typeof window.FunctionPlotIconAppearance.initStaticConstsAfterClassDefinition&&window.FunctionPlotIconAppearance.initStaticConstsAfterClassDefinition(),window.FunctionPlotIconWdgt=function(t){this.color=t,FunctionPlotIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new FunctionPlotIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.FunctionPlotIconWdgt,"name",{value:"FunctionPlotIconWdgt"}),window.FunctionPlotIconWdgt.__super__=window.IconMorph.prototype,window.FunctionPlotIconWdgt=extend(window.FunctionPlotIconWdgt,window.IconMorph),window.FunctionPlotIconWdgt.instances=new Set,"function"==typeof window.FunctionPlotIconWdgt.initStaticConstsAfterClassDefinition&&window.FunctionPlotIconWdgt.initStaticConstsAfterClassDefinition(),window.GenericObjectIconWdgt=function(t){this.icon=t,GenericObjectIconWdgt.__super__.constructor.call(this),this.objectIcon=new ObjectIconWdgt,this.add(this.objectIcon),null==this.icon&&(this.icon=new SimpleDropletWdgt("icon")),this.rawSetExtent(new Point(95,95)),this.add(this.icon),this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GenericObjectIconWdgt,"name",{value:"GenericObjectIconWdgt"}),window.GenericObjectIconWdgt.__super__=window.Widget.prototype,window.GenericObjectIconWdgt=extend(window.GenericObjectIconWdgt,window.Widget),window.GenericObjectIconWdgt.augmentWith(window.ChildrenStainerMixin,"GenericObjectIconWdgt"),window.GenericObjectIconWdgt.prototype.objectIcon=nil,window.GenericObjectIconWdgt.prototype.widthWithoutSpacing=function(){return Math.min(this.width(),this.height())},window.GenericObjectIconWdgt.prototype.rawResizeToWithoutSpacing=function(){return this.rawSetExtent(new Point(this.widthWithoutSpacing(),this.widthWithoutSpacing())),this.invalidateLayout()},window.GenericObjectIconWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return GenericObjectIconWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.GenericObjectIconWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){return this.rawResizeToWithoutSpacing(),this.rawSetExtent(new Point(t,t)),this.invalidateLayout()},window.GenericObjectIconWdgt.prototype.doLayout=function(t){var e,n,o,i,r;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),n=this.height(),r=this.width(),i=Math.min(r,n),e=(o=this.topLeft()).add(new Point(r/2,n/2)),o=(o=e).subtract(new Point(i/2,i/2)),this.icon.setExtent(new Point(50*i/100,50*i/100).round()),this.icon.fullRawMoveTo(e.subtract(new Point(25*i/100,25*i/100)).round()),this.objectIcon.setExtent(new Point(i,i).round()),this.objectIcon.fullRawMoveTo(o),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.GenericObjectIconWdgt.instances=new Set,"function"==typeof window.GenericObjectIconWdgt.initStaticConstsAfterClassDefinition&&window.GenericObjectIconWdgt.initStaticConstsAfterClassDefinition(),window.GenericPanelIconAppearance=function(t){this.morph=t,GenericPanelIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GenericPanelIconAppearance,"name",{value:"GenericPanelIconAppearance"}),window.GenericPanelIconAppearance.__super__=window.IconAppearance.prototype,window.GenericPanelIconAppearance=extend(window.GenericPanelIconAppearance,window.IconAppearance),window.GenericPanelIconAppearance.prototype.paintFunction=function(t){var e,n;return e=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),n=WorldMorph.preferencesAndSettings.outlineColorString,"rgb(255, 255, 255)","rgb(170, 170, 170)",t.beginPath(),t.moveTo(87.54,18),t.lineTo(13.57,18),t.bezierCurveTo(10.05,18,7.12,20.67,7.12,23.87),t.lineTo(7,76.13),t.bezierCurveTo(7,79.33,9.94,82,13.46,82),t.lineTo(87.43,82),t.bezierCurveTo(90.95,82,93.88,79.33,93.88,76.13),t.lineTo(94,23.87),t.bezierCurveTo(94,20.67,91.06,18,87.54,18),t.closePath(),t.fillStyle=n,t.fill(),t.beginPath(),t.moveTo(85.84,20),t.lineTo(15.27,20),t.bezierCurveTo(11.91,20,9.11,22.5,9.11,25.5),t.lineTo(9,74.5),t.bezierCurveTo(9,77.5,11.8,80,15.16,80),t.lineTo(85.73,80),t.bezierCurveTo(89.09,80,91.89,77.5,91.89,74.5),t.lineTo(92,25.5),t.bezierCurveTo(92,22.5,89.2,20,85.84,20),t.closePath(),t.moveTo(88.53,74.5),t.bezierCurveTo(88.53,75.9,87.3,77,85.73,77),t.lineTo(15.16,77),t.bezierCurveTo(13.59,77,12.36,75.9,12.36,74.5),t.lineTo(12.47,25.5),t.bezierCurveTo(12.47,24.1,13.7,23,15.27,23),t.lineTo(85.84,23),t.bezierCurveTo(87.41,23,88.64,24.1,88.64,25.5),t.lineTo(88.53,74.5),t.closePath(),t.fillStyle=e,t.fill(),t.beginPath(),t.rect(15,30,18,65),t.fillStyle=n,t.fill(),t.beginPath(),t.rect(17.5,40.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(21.5,44.5),t.lineTo(26.5,44.5),t.lineTo(26.5,49.5),t.lineTo(21.5,49.5),t.lineTo(21.5,44.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(17.5,32.5,13,8),t.fillStyle="rgb(170, 170, 170)",t.fill(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(17.5,53.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(21.5,57.5),t.lineTo(26.5,57.5),t.lineTo(26.5,62.5),t.lineTo(21.5,62.5),t.lineTo(21.5,57.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(17.5,66.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(21.5,70.5),t.lineTo(26.5,70.5),t.lineTo(26.5,75.5),t.lineTo(21.5,75.5),t.lineTo(21.5,70.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(17.5,79.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(21.5,83.5),t.lineTo(26.5,83.5),t.lineTo(26.5,88.5),t.lineTo(21.5,88.5),t.lineTo(21.5,83.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(19.5,36.5),t.lineTo(28.5,36.5),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(69,3,17.5,53),t.fillStyle=n,t.fill(),t.beginPath(),t.rect(71.5,13.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(75.5,17.5),t.lineTo(80.5,17.5),t.lineTo(80.5,22.5),t.lineTo(75.5,22.5),t.lineTo(75.5,17.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(71.5,5.5,13,8),t.fillStyle="rgb(170, 170, 170)",t.fill(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(71.5,26.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(75.5,30.5),t.lineTo(80.5,30.5),t.lineTo(80.5,35.5),t.lineTo(75.5,35.5),t.lineTo(75.5,30.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.rect(71.5,39.5,13,13),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(75.5,43.5),t.lineTo(80.5,43.5),t.lineTo(80.5,48.5),t.lineTo(75.5,48.5),t.lineTo(75.5,43.5),t.closePath(),t.strokeStyle=e,t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(73.5,9.5),t.lineTo(82.5,9.5),t.strokeStyle="rgb(255, 255, 255)",t.lineWidth=1,t.stroke()},window.GenericPanelIconAppearance.instances=new Set,"function"==typeof window.GenericPanelIconAppearance.initStaticConstsAfterClassDefinition&&window.GenericPanelIconAppearance.initStaticConstsAfterClassDefinition(),window.GenericPanelIconWdgt=function(t){this.color=t,GenericPanelIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new GenericPanelIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GenericPanelIconWdgt,"name",{value:"GenericPanelIconWdgt"}),window.GenericPanelIconWdgt.__super__=window.IconMorph.prototype,window.GenericPanelIconWdgt=extend(window.GenericPanelIconWdgt,window.IconMorph),window.GenericPanelIconWdgt.instances=new Set,"function"==typeof window.GenericPanelIconWdgt.initStaticConstsAfterClassDefinition&&window.GenericPanelIconWdgt.initStaticConstsAfterClassDefinition(),window.GenericShortcutIconWdgt=function(t){this.icon=t,GenericShortcutIconWdgt.__super__.constructor.call(this),null==this.icon&&(this.icon=new SimpleDropletWdgt("icon")),this.rawSetExtent(new Point(95,95)),this.add(this.icon),this.referenceArrowIcon=new ShortcutArrowIconWdgt,this.add(this.referenceArrowIcon),this.invalidateLayout(),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GenericShortcutIconWdgt,"name",{value:"GenericShortcutIconWdgt"}),window.GenericShortcutIconWdgt.__super__=window.Widget.prototype,window.GenericShortcutIconWdgt=extend(window.GenericShortcutIconWdgt,window.Widget),window.GenericShortcutIconWdgt.augmentWith(window.ChildrenStainerMixin,"GenericShortcutIconWdgt"),window.GenericShortcutIconWdgt.prototype.referenceArrowIcon=nil,window.GenericShortcutIconWdgt.prototype.widthWithoutSpacing=function(){return Math.min(this.width(),this.height())},window.GenericShortcutIconWdgt.prototype.rawResizeToWithoutSpacing=function(){return this.rawSetExtent(new Point(this.widthWithoutSpacing(),this.widthWithoutSpacing())),this.invalidateLayout()},window.GenericShortcutIconWdgt.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return GenericShortcutIconWdgt.__super__.initialiseDefaultWindowContentLayoutSpec.apply(this,arguments),this.layoutSpecDetails.canSetHeightFreely=!1},window.GenericShortcutIconWdgt.prototype.rawSetWidthSizeHeightAccordingly=function(t){return this.rawResizeToWithoutSpacing(),this.rawSetExtent(new Point(t,t)),this.invalidateLayout()},window.GenericShortcutIconWdgt.prototype.doLayout=function(t){var e,n,o,i;return null==t&&(null!=this.desiredExtent?(t=this.desiredExtent,this.desiredExtent=nil):t=this.extent(),null!=this.desiredPosition?(t=new Rectangle(this.desiredPosition).setBoundsWidthAndHeight(t),this.desiredPosition=nil):t=new Rectangle(this.position()).setBoundsWidthAndHeight(t)),this.isCollapsed()?(this.layoutIsValid=!0,void this.notifyChildrenThatParentHasReLayouted()):(this.rawSetBounds(t),trackChanges.push(!1),e=this.height(),i=this.width(),o=Math.min(i,e),n=(n=(n=this.topLeft()).add(new Point(i/2,e/2))).subtract(new Point(o/2,o/2)),this.icon.setExtent(new Point(o,o).round()),this.icon.fullRawMoveTo(n.round()),this.referenceArrowIcon.setExtent(new Point(3*o/10,3*o/10).round()),this.referenceArrowIcon.fullRawMoveTo(n.add(new Point(0,7*o/10)).round()),trackChanges.pop(),this.fullChanged(),this.layoutIsValid=!0,this.notifyChildrenThatParentHasReLayouted(),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.alignmentOfMorphIDsMechanism?world.alignIDsOfNextMorphsInSystemTests():void 0)},window.GenericShortcutIconWdgt.instances=new Set,"function"==typeof window.GenericShortcutIconWdgt.initStaticConstsAfterClassDefinition&&window.GenericShortcutIconWdgt.initStaticConstsAfterClassDefinition(),window.GrayscalePalettePatchProgrammingIconAppearance=function(t){this.morph=t,GrayscalePalettePatchProgrammingIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),this.specificationSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GrayscalePalettePatchProgrammingIconAppearance,"name",{value:"GrayscalePalettePatchProgrammingIconAppearance"}),window.GrayscalePalettePatchProgrammingIconAppearance.__super__=window.IconAppearance.prototype,window.GrayscalePalettePatchProgrammingIconAppearance=extend(window.GrayscalePalettePatchProgrammingIconAppearance,window.IconAppearance),window.GrayscalePalettePatchProgrammingIconAppearance.prototype.grayscaleGradient=nil,window.GrayscalePalettePatchProgrammingIconAppearance.prototype.paintFunction=function(t){var e,n;return n=null!=this.ownColorInsteadOfWidgetColor?this.ownColorInsteadOfWidgetColor.toString():this.morph.color.toString(),null==this.grayscaleGradient&&(e=function(t){return t.addColorStop(0,"rgb(0, 0, 0)"),t.addColorStop(.81,"rgb(255, 255, 255)"),t},this.grayscaleGradient=e(t.createLinearGradient(79,82,21,82))),t.beginPath(),t.rect(21,19,58,63),t.fillStyle=this.grayscaleGradient,t.fill(),t.beginPath(),t.rect(20.5,17.5,60,66),t.strokeStyle=n,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.stroke(),t.beginPath(),t.moveTo(81,51),t.lineTo(90,51),t.strokeStyle=n,t.lineWidth=2,t.stroke(),this.oval(t,88.5,48,6,6),t.fillStyle=n,t.fill()},window.GrayscalePalettePatchProgrammingIconAppearance.instances=new Set,"function"==typeof window.GrayscalePalettePatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition&&window.GrayscalePalettePatchProgrammingIconAppearance.initStaticConstsAfterClassDefinition(),window.GrayscalePalettePatchProgrammingIconWdgt=function(t){this.color=t,GrayscalePalettePatchProgrammingIconWdgt.__super__.constructor.apply(this,arguments),this.appearance=new GrayscalePalettePatchProgrammingIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.GrayscalePalettePatchProgrammingIconWdgt,"name",{value:"GrayscalePalettePatchProgrammingIconWdgt"}),window.GrayscalePalettePatchProgrammingIconWdgt.__super__=window.IconMorph.prototype,window.GrayscalePalettePatchProgrammingIconWdgt=extend(window.GrayscalePalettePatchProgrammingIconWdgt,window.IconMorph),window.GrayscalePalettePatchProgrammingIconWdgt.instances=new Set,"function"==typeof window.GrayscalePalettePatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition&&window.GrayscalePalettePatchProgrammingIconWdgt.initStaticConstsAfterClassDefinition(),window.HeartIconAppearance=function(t){this.morph=t,HeartIconAppearance.__super__.constructor.apply(this,arguments),this.preferredSize=new Point(100,100),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.HeartIconAppearance,"name",{value:"HeartIconAppearance"}),window.HeartIconAppearance.__super__=window.IconAppearance.prototype,window.HeartIconAppearance=extend(window.HeartIconAppearance,window.IconAppearance),window.HeartIconAppearance.prototype.paintFunction=function(t){return"rgb(0, 0, 0)",t.strokeStyle="rgb(0, 0, 0)",t.fillStyle="rgb(0, 0, 0)",this.arc(t,11,21,99,99,136,326,!1),t.lineWidth=8,t.stroke(),this.arc(t,91,21,99,99,214,46,!1),t.lineWidth=8,t.stroke(),this.oval(t,98,41,4,4),t.fill(),t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(23,103),t.lineTo(93,178),t.lineWidth=8,t.stroke(),t.beginPath(),t.moveTo(178,103),t.lineTo(107,179),t.lineWidth=8,t.stroke(),this.arc(t,87.5,154.5,26,26,26,143,!1),t.lineWidth=7.5,t.stroke(),this.arc(t,33.5,44,53,54,181,273,!1),t.lineWidth=10,t.stroke(),this.oval(t,57,40,8.5,8.5),t.fill(),t.lineWidth=1,t.stroke(),this.oval(t,29.5,66,8.5,8.5),t.fill(),t.lineWidth=1,t.stroke()},window.HeartIconAppearance.instances=new Set,"function"==typeof window.HeartIconAppearance.initStaticConstsAfterClassDefinition&&window.HeartIconAppearance.initStaticConstsAfterClassDefinition(),window.HeartIconMorph=function(t){this.color=t,HeartIconMorph.__super__.constructor.apply(this,arguments),this.appearance=new HeartIconAppearance(this),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.HeartIconMorph,"name",{value:"HeartIconMorph"}),window.HeartIconMorph.__super__=window.IconMorph.prototype,window.HeartIconMorph=extend(window.HeartIconMorph,window.IconMorph),window.HeartIconMorph.prototype.colloquialName=function(){return"Heart icon"},window.HeartIconMorph.instances=new Set,"function"==typeof window.HeartIconMorph.initStaticConstsAfterClassDefinition&&window.HeartIconMorph.initStaticConstsAfterClassDefinition(),window.SliderButtonMorph=function(){SliderButtonMorph.__super__.constructor.apply(this,arguments),this.isLockingToPanels=!1,this.color=this.normalColor,this.noticesTransparentClick=!0,this.alpha=.4,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SliderButtonMorph,"name",{value:"SliderButtonMorph"}),window.SliderButtonMorph.__super__=window.CircleBoxMorph.prototype,window.SliderButtonMorph=extend(window.SliderButtonMorph,window.CircleBoxMorph),window.SliderButtonMorph.prototype.highlightColor=new Color(110,110,110),window.SliderButtonMorph.prototype.pressColor=new Color(100,100,100),window.SliderButtonMorph.prototype.normalColor=Color.BLACK,window.SliderButtonMorph.prototype.state=0,window.SliderButtonMorph.prototype.STATE_NORMAL=0,window.SliderButtonMorph.prototype.STATE_HIGHLIGHTED=1,window.SliderButtonMorph.prototype.STATE_PRESSED=2,window.SliderButtonMorph.prototype.detachesWhenDragged=function(){return!(this.parent instanceof SliderMorph)},window.SliderButtonMorph.prototype.reLayout=function(){var t,e,n,o,i;if(SliderButtonMorph.__super__.reLayout.call(this),null!=this.parent)return i=this.parent.value,isNaN(i)&&(i=0),"vertical"===this.parent.autoOrientation()?(e=this.parent.width()-2,t=Math.max(e,Math.round(this.parent.height()*this.parent.ratio())),this.silentRawSetExtent(new Point(e,t)),n=1,o=Math.max(0,Math.min(Math.round((i-this.parent.start)*this.parent.unitSize()),this.parent.height()-this.height())),this.parent.smallestValueIsAtBottomEnd&&(o=this.parent.height()-(o+this.height()))):(t=this.parent.height()-2,e=Math.max(t,Math.round(this.parent.width()*this.parent.ratio())),this.silentRawSetExtent(new Point(e,t)),o=1,n=Math.max(0,Math.min(Math.round((i-this.parent.start)*this.parent.unitSize()),this.parent.width()-this.width()))),this.silentFullRawMoveTo(new Point(n,o).add(this.parent.position())),this.notifyChildrenThatParentHasReLayouted()},window.SliderButtonMorph.prototype.grabsToParentWhenDragged=function(){return!(this.parent instanceof SliderMorph)&&SliderButtonMorph.__super__.grabsToParentWhenDragged.apply(this,arguments)},window.SliderButtonMorph.prototype.nonFloatDragging=function(t,e,n){var o,i,r,s;if(this.offset=e.subtract(t),world.hand.mouseButton&&this.visibleBasedOnIsVisibleProperty()&&!this.isCollapsed()&&(s=this.position(),"vertical"===this.parent.autoOrientation()?(i=this.left(),r=Math.max(Math.min(this.offset.y,this.parent.bottom()-this.height()),this.parent.top())):(r=this.top(),i=Math.max(Math.min(this.offset.x,this.parent.right()-this.width()),this.parent.left())),o=new Point(i,r),!s.equals(o)))return this.fullRawMoveTo(o),this.parent.updateValue()},window.SliderButtonMorph.prototype.endOfNonFloatDrag=function(){if(this.state!==this.STATE_NORMAL)return this.state=this.STATE_NORMAL,this.color=this.normalColor,this.changed()},window.SliderButtonMorph.prototype.setHiglightedColor=function(){if(this.state!==this.STATE_HIGHLIGHTED)return this.state=this.STATE_HIGHLIGHTED,this.color=this.highlightColor,this.changed()},window.SliderButtonMorph.prototype.setNormalColor=function(){if(this.state!==this.STATE_NORMAL)return this.state=this.STATE_NORMAL,this.color=this.normalColor,this.changed()},window.SliderButtonMorph.prototype.setPressedColor=function(){if(this.state!==this.STATE_PRESSED)return this.state=this.STATE_PRESSED,this.color=this.pressColor,this.changed()},window.SliderButtonMorph.prototype.mouseMove=function(){if(this.state!==this.STATE_PRESSED&&!world.hand.isThisPointerDraggingSomething())return this.setHiglightedColor()},window.SliderButtonMorph.prototype.mouseEnter=function(){if(!world.hand.isThisPointerDraggingSomething())return this.setHiglightedColor()},window.SliderButtonMorph.prototype.mouseLeave=function(){if(!world.hand.isThisPointerDraggingSomething())return this.setNormalColor()},window.SliderButtonMorph.prototype.mouseDownLeft=function(t){return this.bringToForeground(),this.setPressedColor()},window.SliderButtonMorph.prototype.mouseClickLeft=function(){return this.bringToForeground(),this.setHiglightedColor()},window.SliderButtonMorph.instances=new Set,"function"==typeof window.SliderButtonMorph.initStaticConstsAfterClassDefinition&&window.SliderButtonMorph.initStaticConstsAfterClassDefinition(),window.SliderMorph=function(t=1,e=100,n=50,o=10,i=Color.BLACK,r=!1){this.start=t,this.stop=e,this.value=n,this.size=o,this.color=i,this.smallestValueIsAtBottomEnd=r,this.button=new SliderButtonMorph,SliderMorph.__super__.constructor.call(this,this.alpha=.1),this.silentRawSetExtent(new Point(20,100)),this.silentAdd(this.button),"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.SliderMorph,"name",{value:"SliderMorph"}),window.SliderMorph.__super__=window.CircleBoxMorph.prototype,window.SliderMorph=extend(window.SliderMorph,window.CircleBoxMorph),window.SliderMorph.augmentWith(window.ControllerMixin,"SliderMorph"),window.SliderMorph.prototype.target=nil,window.SliderMorph.prototype.action=nil,window.SliderMorph.prototype.start=nil,window.SliderMorph.prototype.stop=nil,window.SliderMorph.prototype.value=nil,window.SliderMorph.prototype.size=nil,window.SliderMorph.prototype.offset=nil,window.SliderMorph.prototype.button=nil,window.SliderMorph.prototype.argumentToAction=nil,window.SliderMorph.prototype.smallestValueIsAtBottomEnd=!1,window.SliderMorph.prototype.idealRatioWidthToHeight=1/4,window.SliderMorph.prototype.colloquialName=function(){return"slider"},window.SliderMorph.prototype.initialiseDefaultVerticalStackLayoutSpec=function(){if(!(this.layoutSpecDetails instanceof VerticalStackLayoutSpec))return this.layoutSpecDetails=new VerticalStackLayoutSpec(0)},window.SliderMorph.prototype.iHaveBeenAddedTo=function(t,e){return this.reLayout(),null!=this.button&&this.button instanceof SliderButtonMorph&&this.button.reLayout(),this.changed()},window.SliderMorph.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return this.breakNumberOfRawMovesAndResizesCaches(),SliderMorph.__super__.rawSetExtent.call(this,t),this.button.reLayout()},window.SliderMorph.prototype.initialiseDefaultWindowContentLayoutSpec=function(){return this.layoutSpecDetails=new WindowContentLayoutSpec(PreferredSize.THIS_ONE_I_HAVE_NOW,PreferredSize.THIS_ONE_I_HAVE_NOW,0),this.layoutSpecDetails.resizerCanOverlapContents=!1},window.SliderMorph.prototype.rangeSize=function(){return this.stop-this.start},window.SliderMorph.prototype.ratio=function(){return this.size/this.rangeSize()},window.SliderMorph.prototype.unitSize=function(){return null!=this.button&&this.button instanceof SliderButtonMorph?"vertical"===this.autoOrientation()?(this.height()-this.button.height())/this.rangeSize():(this.width()-this.button.width())/this.rangeSize():1},window.SliderMorph.prototype.setValue=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.value=Number(t),this.updateTarget(),this.reLayout(),this.button.reLayout(),this.changed()},window.SliderMorph.prototype.updateValue=function(){var t,e;if(e="vertical"===this.autoOrientation()?this.smallestValueIsAtBottomEnd?this.bottom()-this.button.bottom():this.button.top()-this.top():this.button.left()-this.left(),t=Math.round(e/this.unitSize()+this.start),this.value!==t)return this.setValue(t,nil,nil)},window.SliderMorph.prototype.bang=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,this.updateTarget()},window.SliderMorph.prototype.updateTarget=function(){this.action&&""!==this.action&&this.target[this.action].call(this.target,this.value,this.argumentToAction,this.connectionsCalculationToken)},window.SliderMorph.prototype.reactToTargetConnection=function(){return this.updateTarget()},window.SliderMorph.prototype.addMorphSpecificMenuEntries=function(t,e){return SliderMorph.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),e.addMenuItem("show value",!0,this,"showValue","display a dialog box\nshowing the selected number"),e.addMenuItem("floor...",!0,this,(function(){return this.prompt(e.title+"\nfloor:",this.setStart,this.start.toString(),nil,0,this.stop-this.size,!0)}),"set the minimum value\nwhich can be selected"),e.addMenuItem("ceiling...",!0,this,(function(){return this.prompt(e.title+"\nceiling:",this.setStop,this.stop.toString(),nil,this.start+this.size,100*this.size,!0)}),"set the maximum value\nwhich can be selected"),e.addMenuItem("button size...",!0,this,(function(){return this.prompt(e.title+"\nbutton size:",this.setSize,this.size.toString(),nil,1,this.stop-this.start,!0)}),"set the range\ncovered by\nthe slider button"),e.addLine(),world.isIndexPage?e.addMenuItem("connect to ➜",!0,this,"openTargetSelector","connect to\nanother widget"):e.addMenuItem("set target",!0,this,"openTargetSelector","choose another morph\nwhose numerical property\n will be controlled by this one")},window.SliderMorph.prototype.showValue=function(){return this.inform(this.value)},window.SliderMorph.prototype.userSetStart=function(t){return this.start=Math.max(t,this.stop)},window.SliderMorph.prototype.updateSpecs=function(t,e,n,o){return null!=t&&(this.start=t),null!=e&&(this.stop=e),null!=n&&(this.value=n),null!=o&&(this.size=o),this.reLayout(),this.button.reLayout(),this.parent!==this.target?this.changed():this.parent.fullChanged()},window.SliderMorph.prototype.setStart=function(t){var e,n;return"number"==typeof(n=null!=t.getValue?t.getValue():t)?this.start=Math.min(Math.max(n,0),this.stop-this.size):(e=parseFloat(n),isNaN(e)||(this.start=Math.min(Math.max(e,0),this.stop-this.size))),this.value=Math.max(this.value,this.start),this.updateTarget(),this.reLayout(),this.button.reLayout(),this.changed()},window.SliderMorph.prototype.setStop=function(t){var e,n;return"number"==typeof(n=null!=t.getValue?t.getValue():t)?this.stop=Math.max(n,this.start+this.size):(e=parseFloat(n),isNaN(e)||(this.stop=Math.max(e,this.start+this.size))),this.value=Math.min(this.value,this.stop),this.updateTarget(),this.reLayout(),this.button.reLayout(),this.changed()},window.SliderMorph.prototype.mouseDownLeft=function(t){return this.button.parent===this&&(this.parent instanceof ScrollPanelWdgt||this.parent instanceof PromptMorph)?(world.hand.nonFloatDragWdgtFarAwayToHere(this.button,t),this.button.setPressedColor()):this.escalateEvent("mouseDownLeft",t)},window.SliderMorph.prototype.setSize=function(t){var e,n;return"number"==typeof(n=null!=t.getValue?t.getValue():t)?this.size=Math.min(Math.max(n,1),this.stop-this.start):(e=parseFloat(n),isNaN(e)||(this.size=Math.min(Math.max(e,1),this.stop-this.start))),this.value=Math.min(this.value,this.stop-this.size),this.reLayout(),this.button.reLayout(),this.changed()},window.SliderMorph.prototype.openTargetPropertySelector=function(t,e,n){var o,i,r,s,a,l;for([a,o]=n.numericalSetters(),s=new MenuMorph(this,!1,this,!0,!0,"choose target property:"),i=r=0,l=a.length;0<=l?r<l:r>l;i=0<=l?++r:--r)s.addMenuItem(a[i],!0,this,"setTargetAndActionWithOnesPickedFromMenu",nil,nil,nil,nil,nil,n,o[i]);return 0===a.length&&(s=new MenuMorph(this,!1,this,!0,!0,"no target properties available")),s.popUpAtHand()},window.SliderMorph.prototype.stringSetters=function(t,e){return[t,e]=SliderMorph.__super__.stringSetters.call(this,t,e),t.push("bang!","value"),e.push("bang","setValue"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.SliderMorph.prototype.numericalSetters=function(t,e){return[t,e]=SliderMorph.__super__.numericalSetters.call(this,t,e),t.push("bang!","value","start","stop","size"),e.push("bang","setValue","setStart","setStop","setSize"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.SliderMorph.prototype.colorSetters=function(t,e){return[t,e]=SliderMorph.__super__.colorSetters.call(this,t,e),t.push("bang!"),e.push("bang"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.SliderMorph.instances=new Set,"function"==typeof window.SliderMorph.initStaticConstsAfterClassDefinition&&window.SliderMorph.initStaticConstsAfterClassDefinition(),window.StringFieldMorph=function(t="",e=100,n=12,o="sans-serif",i=!1,r=!1,s=!1){this.defaultContents=t,this.minTextWidth=e,this.fontSize=n,this.fontStyle=o,this.isBold=i,this.isItalic=r,this.isNumeric=s,StringFieldMorph.__super__.constructor.call(this),this.color=Color.WHITE,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StringFieldMorph,"name",{value:"StringFieldMorph"}),window.StringFieldMorph.__super__=window.PanelWdgt.prototype,window.StringFieldMorph=extend(window.StringFieldMorph,window.PanelWdgt),window.StringFieldMorph.prototype.defaultContents=nil,window.StringFieldMorph.prototype.minTextWidth=nil,window.StringFieldMorph.prototype.fontSize=nil,window.StringFieldMorph.prototype.fontStyle=nil,window.StringFieldMorph.prototype.isBold=nil,window.StringFieldMorph.prototype.isItalic=nil,window.StringFieldMorph.prototype.isNumeric=nil,window.StringFieldMorph.prototype.text=nil,window.StringFieldMorph.prototype.isEditable=!0,window.StringFieldMorph.prototype.rawSetWidth=function(t){return StringFieldMorph.__super__.rawSetWidth.apply(this,arguments),this.text.rawSetWidth(t)},window.StringFieldMorph.prototype.calculateAndUpdateExtent=function(){var t,e;return e=this.text?this.getValue():this.defaultContents,t=new StringMorph(e,this.fontSize,this.fontStyle,this.isBold,this.isItalic,this.isNumeric),this.rawSetWidth(Math.max(this.minTextWidth,t.width()))},window.StringFieldMorph.prototype.reLayout=function(){var t;return StringFieldMorph.__super__.reLayout.call(this),t=this.text?this.getValue():this.defaultContents,null==this.text&&(this.text=new StringMorph(t,this.fontSize,this.fontStyle,this.isBold,this.isItalic,this.isNumeric),this.text.isNumeric=this.isNumeric,this.text.isEditable=this.isEditable,this.text.enableSelecting(),this.add(this.text)),this.text.fullRawMoveTo(this.position()),this.silentRawSetExtent(new Point(Math.max(this.width(),this.minTextWidth),this.text.height())),this.notifyChildrenThatParentHasReLayouted()},window.StringFieldMorph.prototype.getValue=function(){return this.text.text},window.StringFieldMorph.prototype.mouseClickLeft=function(t){return this.bringToForeground(),this.isEditable?this.text.edit():this.escalateEvent("mouseClickLeft",t)},window.StringFieldMorph.instances=new Set,"function"==typeof window.StringFieldMorph.initStaticConstsAfterClassDefinition&&window.StringFieldMorph.initStaticConstsAfterClassDefinition(),window.StringFieldWdgt2=function(t="",e=100,n=12,o="sans-serif",i=!1,r=!1,s=!1){this.defaultContents=t,this.minTextWidth=e,this.fontSize=n,this.fontStyle=o,this.isBold=i,this.isItalic=r,this.isNumeric=s,StringFieldWdgt2.__super__.constructor.call(this),this.color=Color.WHITE,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StringFieldWdgt2,"name",{value:"StringFieldWdgt2"}),window.StringFieldWdgt2.__super__=window.PanelWdgt.prototype,window.StringFieldWdgt2=extend(window.StringFieldWdgt2,window.PanelWdgt),window.StringFieldWdgt2.prototype.defaultContents=nil,window.StringFieldWdgt2.prototype.minTextWidth=nil,window.StringFieldWdgt2.prototype.fontSize=nil,window.StringFieldWdgt2.prototype.fontStyle=nil,window.StringFieldWdgt2.prototype.isBold=nil,window.StringFieldWdgt2.prototype.isItalic=nil,window.StringFieldWdgt2.prototype.isNumeric=nil,window.StringFieldWdgt2.prototype.text=nil,window.StringFieldWdgt2.prototype.isEditable=!0,window.StringFieldWdgt2.prototype.rawSetWidth=function(t){return StringFieldWdgt2.__super__.rawSetWidth.apply(this,arguments),this.text.rawSetWidth(300)},window.StringFieldWdgt2.prototype.calculateAndUpdateExtent=function(){var t,e;return e=this.text?this.getValue():this.defaultContents,(t=new StringMorph2(e,this.fontSize,this.fontStyle,this.isBold,this.isItalic,!1,this.isNumeric)).fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.rawSetWidth(Math.max(this.minTextWidth,t.width()))},window.StringFieldWdgt2.prototype.reLayout=function(){var t;return StringFieldWdgt2.__super__.reLayout.call(this),t=this.text?this.getValue():this.defaultContents,null==this.text&&(this.text=new StringMorph2(t,this.fontSize,this.fontStyle,this.isBold,this.isItalic,!1,this.isNumeric),this.text.isNumeric=this.isNumeric,this.text.isEditable=this.isEditable,this.text.enableSelecting(),this.text.fittingSpecWhenBoundsTooSmall=FittingSpecTextInSmallerBounds.SCALEDOWN,this.add(this.text)),this.text.fullRawMoveTo(this.position().add(new Point(5,2))),this.text.rawSetExtent(new Point(300,18)),this.silentRawSetExtent(new Point(this.width(),18)),this.notifyChildrenThatParentHasReLayouted()},window.StringFieldWdgt2.prototype.getValue=function(){return this.text.text},window.StringFieldWdgt2.prototype.mouseClickLeft=function(t){return this.bringToForeground(),this.isEditable?this.text.edit():this.escalateEvent("mouseClickLeft",t)},window.StringFieldWdgt2.instances=new Set,"function"==typeof window.StringFieldWdgt2.initStaticConstsAfterClassDefinition&&window.StringFieldWdgt2.initStaticConstsAfterClassDefinition(),window.StringMorph=function(t=(""===text?"":"StringMorph"),e=12,n="sans-serif",o=!1,i=!1,r=!1,s=Color.BLACK,a=""){this.text=t,this.fontSize=e,this.fontStyle=n,this.isBold=o,this.isItalic=i,this.isNumeric=r,this.color=s,this.fontName=a,StringMorph.__super__.constructor.call(this),this.noticesTransparentClick=!0,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.StringMorph,"name",{value:"StringMorph"}),window.StringMorph.__super__=window.Widget.prototype,window.StringMorph=extend(window.StringMorph,window.Widget),window.StringMorph.augmentWith(window.BackBufferMixin,"StringMorph"),window.StringMorph.prototype.text="",window.StringMorph.prototype.fontSize=nil,window.StringMorph.prototype.fontName=nil,window.StringMorph.prototype.fontStyle=nil,window.StringMorph.prototype.isBold=nil,window.StringMorph.prototype.isItalic=nil,window.StringMorph.prototype.isEditable=!1,window.StringMorph.prototype.isNumeric=nil,window.StringMorph.prototype.isPassword=!1,window.StringMorph.prototype.isShowingBlanks=!1,window.StringMorph.prototype.blanksColor=new Color(180,140,140),window.StringMorph.prototype.isScrollable=!0,window.StringMorph.prototype.currentlySelecting=!1,window.StringMorph.prototype.startMark=nil,window.StringMorph.prototype.endMark=nil,window.StringMorph.prototype.markedTextColor=Color.WHITE,window.StringMorph.prototype.markedBackgoundColor=new Color(60,60,120),window.StringMorph.prototype.setText=function(t,e,n,o){if(o||n!==this.connectionsCalculationToken)return this.connectionsCalculationToken=null==n?world.makeNewConnectionsCalculationToken():n,null!=e&&(t=e.text.text),t+="",this.text!==t?(this.text=t,this.reLayout(),this.changed()):void 0},window.StringMorph.prototype.actualFontSizeUsedInRendering=function(){return this.fontSize},window.StringMorph.prototype.toString=function(){var t;return t=StringMorph.__super__.toString.call(this),"undefined"!=typeof Automator&&null!==Automator&&Automator.state!==Automator.IDLE&&Automator.hidingOfMorphsContentExtractInLabels?t:t+' ("'+this.text.slice(0,30).replace(/(?:\r\n|\r|\n)/g,"↵")+'...")'},window.StringMorph.prototype.getTextDescription=function(){return null!=this.textDescription?this.textDescription+" (adhoc description of string)":this.text.replace(/#\d*/,"").slice(0,30)+" (content of string)"},window.StringMorph.prototype.password=function(t,e){var n,o,i;for(n="",o=0,i=e;0<=i?o<i:o>i;0<=i?++o:--o)n+=t;return n},window.StringMorph.prototype.buildCanvasFontProperty=function(){var t;return t="",this.isBold&&(t+="bold "),this.isItalic&&(t+="italic "),t+this.fontSize+"px "+(this.fontName?this.fontName+", ":"")+this.fontStyle},window.StringMorph.prototype.widthOfText=function(t=this.text){return t=this.isPassword?this.password("*",t.length):t,world.canvasContextForTextMeasurements.font=this.buildCanvasFontProperty(),Math.ceil(Math.max(world.canvasContextForTextMeasurements.measureText(t).width,1))},window.StringMorph.prototype.reLayout=function(){var t;return StringMorph.__super__.reLayout.call(this),t=this.widthOfText(this.text),this.silentRawSetExtent(new Point(t,fontHeight(this.fontSize))),this.notifyChildrenThatParentHasReLayouted()},window.StringMorph.prototype.reflowText=function(){return this.reLayout()},window.StringMorph.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c;if(r=this.extent().toString()+"-"+this.isPassword+"-"+this.isShowingBlanks+"-"+this.buildCanvasFontProperty()+"-"+this.alignment+"-"+this.color.toString()+"-"+hashCode(this.text)+"-"+this.startMark+"-"+this.endMark+"-"+this.markedBackgoundColor.toString(),null!=(i=world.cacheForImmutableBackBuffers.get(r)))return i;for(p=this.isPassword?this.password("*",this.text.length):this.text,c=this.widthOfText(this.text),(e=(t=newCanvas(new Point(c,this.height()).scaleBy(ceilPixelRatio))).getContext("2d")).useLogicalPixelsUntilRestore(),e.font=this.buildCanvasFontProperty(),e.textAlign="left",e.textBaseline="bottom",e.fillStyle=this.color.toString(),this.isShowingBlanks?this.renderWithBlanks(e,0,fontHeight(this.fontSize)):e.fillText(p,0,fontHeight(this.fontSize)),s=a=d=Math.min(this.startMark,this.endMark),h=Math.max(this.startMark,this.endMark);d<=h?a<h:a>h;s=d<=h?++a:--a)l=this.slotCoordinates(s).subtract(this.position()),n=p.charAt(s),e.fillStyle=this.markedBackgoundColor.toString(),e.fillRect(l.x,l.y,Math.ceil(e.measureText(n).width)+1,fontHeight(this.fontSize)),e.fillStyle=this.markedTextColor.toString(),e.fillText(n,l.x,fontHeight(this.fontSize));return o=[t,e],world.cacheForImmutableBackBuffers.set(r,o),o},window.StringMorph.prototype.renderWithBlanks=function(t,e=0,n){var o,i,r,s,a,l;return r=function(){return t.drawImage(o,Math.round(e),0),e+=a},a=Math.ceil(t.measureText(" ").width),i=(o=newCanvas(new Point(a,this.height()).scaleBy(ceilPixelRatio))).getContext("2d"),l=this.text.split(" "),s=!0,i.fillStyle=this.blanksColor.toString(),i.arc(a/2,o.height/2,a/2,degreesToRadians(0),degreesToRadians(360)),i.fill(),l.forEach((function(o){if(s||r(),s=!1,""!==o)return t.fillText(o,e,n),e+=Math.ceil(t.measureText(o).width)}))},window.StringMorph.prototype.slotCoordinates=function(t){var e,n,o,i,r;return n=this.isPassword?this.password("*",this.text.length):this.text,t!==(e=Math.min(Math.max(t,0),n.length))&&alert("something wrong - slot is out of range"),t=e,i=Math.ceil(this.widthOfText(n.substring(0,t))),o=this.left()+i,r=this.top(),new Point(o,r)},window.StringMorph.prototype.slotAt=function(t){var e,n,o;for(o=this.isPassword?this.password("*",this.text.length):this.text,n=0,e=0;t.x-this.left()>e;)if(e+=Math.ceil(this.widthOfText(o[n])),(n+=1)===o.length&&Math.ceil(this.widthOfText(o))-Math.ceil(this.widthOfText(o[n-1]))/2<t.x-this.left())return n;return n-1},window.StringMorph.prototype.upFrom=function(t){return this.startOfLine()},window.StringMorph.prototype.downFrom=function(t){return this.endOfLine()},window.StringMorph.prototype.startOfLine=function(){return 0},window.StringMorph.prototype.endOfLine=function(){return this.text.length},window.StringMorph.prototype.fontSizePopup=function(t){return this.prompt(t.parent.title+"\nfont\nsize:",this,"setFontSize",this.fontSize.toString(),nil,6,500,!0)},window.StringMorph.prototype.addMorphSpecificMenuEntries=function(t,e){return StringMorph.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),e.addMenuItem("edit",!0,this,"edit"),e.addMenuItem("font size...",!0,this,"fontSizePopup","set this String's\nfont point size"),"serif"!==this.fontStyle&&e.addMenuItem("serif",!0,this,"setSerif"),"sans-serif"!==this.fontStyle&&e.addMenuItem("sans-serif",!0,this,"setSansSerif"),this.isBold?e.addMenuItem("normal weight",!0,this,"toggleWeight"):e.addMenuItem("bold",!0,this,"toggleWeight"),this.isItalic?e.addMenuItem("normal style",!0,this,"toggleItalic"):e.addMenuItem("italic",!0,this,"toggleItalic"),this.isShowingBlanks?e.addMenuItem("hide blanks",!0,this,"toggleShowBlanks"):e.addMenuItem("show blanks",!0,this,"toggleShowBlanks"),this.isPassword?e.addMenuItem("show characters",!0,this,"toggleIsPassword"):e.addMenuItem("hide characters",!0,this,"toggleIsPassword")},window.StringMorph.prototype.toggleShowBlanks=function(){return this.isShowingBlanks=!this.isShowingBlanks,this.reLayout(),this.changed()},window.StringMorph.prototype.toggleWeight=function(){return this.isBold=!this.isBold,this.reLayout(),this.changed()},window.StringMorph.prototype.toggleItalic=function(){return this.isItalic=!this.isItalic,this.reLayout(),this.changed()},window.StringMorph.prototype.toggleIsPassword=function(){return this.isPassword=!this.isPassword,this.reLayout(),this.changed()},window.StringMorph.prototype.setSerif=function(){return this.fontStyle="serif",this.reLayout(),this.changed()},window.StringMorph.prototype.setSansSerif=function(){return this.fontStyle="sans-serif",this.reLayout(),this.changed()},window.StringMorph.prototype.setFontSize=function(t,e){var n,o;return"number"==typeof(o=null!=(null!=e?e.getValue:void 0)?e.getValue():t)?this.fontSize=Math.round(Math.min(Math.max(o,4),500)):(n=parseFloat(o),isNaN(n)||(this.fontSize=Math.round(Math.min(Math.max(n,4),500)))),this.reLayout(),this.changed()},window.StringMorph.prototype.numericalSetters=function(t,e){return[t,e]=StringMorph.__super__.numericalSetters.call(this,t,e),t.push("alpha 0-100","font size","text"),e.push("setAlphaScaled","setFontSize","setText"),this.deduplicateSettersAndSortByMenuEntryString(t,e)},window.StringMorph.prototype.edit=function(){return world.edit(this)},window.StringMorph.prototype.selection=function(){var t,e;return t=Math.min(this.startMark,this.endMark),e=Math.max(this.startMark,this.endMark),this.text.slice(t,e)},window.StringMorph.prototype.firstSelectedSlot=function(){return null==this.startMark||null==this.endMark?nil:Math.min(this.startMark,this.endMark)},window.StringMorph.prototype.lastSelectedSlot=function(){return null==this.startMark||null==this.endMark?nil:Math.max(this.startMark,this.endMark)},window.StringMorph.prototype.clearSelection=function(){return this.currentlySelecting=!1,this.startMark=nil,this.endMark=nil,this.changed()},window.StringMorph.prototype.setEndMark=function(t){return this.endMark=t,this.changed()},window.StringMorph.prototype.selectBetween=function(t,e){return this.startMark=Math.min(t,e),this.endMark=Math.max(t,e),this.changed()},window.StringMorph.prototype.deleteSelection=function(){var t,e,n;return n=this.text,t=Math.min(this.startMark,this.endMark),e=Math.max(this.startMark,this.endMark),this.text=n.slice(0,t)+n.slice(e),this.changed(),this.clearSelection()},window.StringMorph.prototype.selectAll=function(){return this.startMark=0,this.endMark=this.text.length,this.changed()},window.StringMorph.prototype.mouseClickLeft=function(t,e,n,o,i,r,s,a,l){var d;return this.bringToForeground(),d=world.caret,this.isEditable?(this.currentlySelecting||this.edit(),d&&d.gotoPos(t),world.caret.gotoPos(t),this.currentlySelecting=!0):this.escalateEvent("mouseClickLeft",t,e,n,o,i,r,s,a,l)},window.StringMorph.prototype.enableSelecting=function(){return this.mouseDownLeft=function(t){if(this.clearSelection(),this.isEditable&&!this.grabsToParentWhenDragged())return this.edit(),world.caret.gotoPos(t),this.startMark=this.slotAt(t),this.endMark=this.startMark,this.currentlySelecting=!0},this.mouseMove=function(t){var e;return this.isEditable&&this.currentlySelecting?(e=this.slotAt(t))!==this.endMark?(this.endMark=e,this.changed()):void 0:this.disableSelecting()}},window.StringMorph.prototype.disableSelecting=function(){return this.clearSelection(),this.mouseDownLeft=StringMorph.prototype.mouseDownLeft,delete this.mouseMove},window.StringMorph.instances=new Set,"function"==typeof window.StringMorph.initStaticConstsAfterClassDefinition&&window.StringMorph.initStaticConstsAfterClassDefinition(),window.TextMorph=function(t="TextMorph",e=12,n="sans-serif",o=!1,i=!1,r="left",s=0,a="",l=new Point(0,0),d=nil){this.text=t,this.fontSize=e,this.fontStyle=n,this.isBold=o,this.isItalic=i,this.alignment=r,this.maxTextWidth=s,this.fontName=a,this.shadowOffset=l,this.shadowColor=d,TextMorph.__super__.constructor.call(this,this.text,this.fontSize,this.fontStyle,this.isBold,this.isItalic,nil,this.shadowOffset,this.shadowColor,nil,this.fontName),this.markedTextColor=Color.WHITE,this.markedBackgoundColor=new Color(60,60,120),this.color=Color.BLACK,this.noticesTransparentClick=!0,"function"==typeof this.registerThisInstance&&this.registerThisInstance()},Object.defineProperty(window.TextMorph,"name",{value:"TextMorph"}),window.TextMorph.__super__=window.StringMorph.prototype,window.TextMorph=extend(window.TextMorph,window.StringMorph),window.TextMorph.prototype.words=[],window.TextMorph.prototype.lines=[],window.TextMorph.prototype.lineSlots=[],window.TextMorph.prototype.alignment=nil,window.TextMorph.prototype.maxTextWidth=nil,window.TextMorph.prototype.maxLineWidth=0,window.TextMorph.prototype.backgroundColor=nil,window.TextMorph.prototype.receiver=nil,window.TextMorph.prototype.breakTextIntoLines=function(){var t,e,n,o,i;return o=this.text.split("\n"),t=newCanvas(),(e=t.getContext("2d")).useLogicalPixelsUntilRestore(),n="",i=0,e.font=this.buildCanvasFontProperty(),this.maxLineWidth=0,this.lines=[],this.lineSlots=[0],this.words=[],o.forEach(t=>(this.words=this.words.concat(t.split(" ")),this.words.push("\n"))),this.words.forEach(t=>{var o;return"\n"===t?(this.lines.push(n),this.lineSlots.push(i),this.maxLineWidth=Math.max(this.maxLineWidth,Math.ceil(e.measureText(n).width)),n=""):(this.maxTextWidth>0?(o=n+t+" ",Math.ceil(e.measureText(o).width)>this.maxTextWidth?(this.lines.push(n),this.lineSlots.push(i),this.maxLineWidth=Math.max(this.maxLineWidth,Math.ceil(e.measureText(n).width)),n=t+" "):n=o):n=n+t+" ",i+=t.length+1)})},window.TextMorph.prototype.reLayout=function(){var t,e,n;return TextMorph.__super__.reLayout.call(this),newCanvas().getContext("2d").font=this.buildCanvasFontProperty(),this.breakTextIntoLines(),n=Math.abs(this.shadowOffset.x),e=Math.abs(this.shadowOffset.y),t=this.lines.length*(Math.ceil(fontHeight(this.fontSize))+e),0===this.maxTextWidth?this.silentRawSetExtent(new Point(this.maxLineWidth+n,t)):this.silentRawSetExtent(new Point(this.maxTextWidth+n,t)),this.notifyChildrenThatParentHasReLayouted()},window.TextMorph.prototype.createRefreshOrGetBackBuffer=function(){var t,e,n,o,i,r,s,a,l,d,h,p,c,w,u,g,f,T,y,S,C,m,W,P,I,b;if(r=this.extent().toString()+"-"+this.buildCanvasFontProperty()+"-"+this.alignment+"-"+(null!=(f=this.backgroundColor)?f.toString():void 0)+"-"+this.color.toString()+"-"+hashCode(this.text)+"-"+this.startMark+"-"+this.endMark+"-"+this.markedBackgoundColor.toString(),null!=(i=world.cacheForImmutableBackBuffers.get(r)))return i;if(e=(t=newCanvas()).getContext("2d"),W=Math.abs(this.shadowOffset.x),m=Math.abs(this.shadowOffset.y),t.width=this.width()*ceilPixelRatio,t.height=this.height()*ceilPixelRatio,e.useLogicalPixelsUntilRestore(),e.font=this.buildCanvasFontProperty(),e.textAlign="left",e.textBaseline="bottom",this.backgroundColor&&(e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.width(),this.height())),this.shadowColor)for(w=Math.max(this.shadowOffset.x,0),u=Math.max(this.shadowOffset.y,0),e.fillStyle=this.shadowColor.toString(),s=0,a=0,h=(T=this.lines).length;a<h;a++)c=T[a],P=Math.ceil(e.measureText(c).width)+W,I=function(){switch(this.alignment){case"right":return this.width()-P;case"center":return(this.width()-P)/2;default:return 0}}.call(this),b=(s+1)*(Math.ceil(fontHeight(this.fontSize))+m)-m,s++,e.fillText(c,I+w,b+u);for(w=Math.abs(Math.min(this.shadowOffset.x,0)),u=Math.abs(Math.min(this.shadowOffset.y,0)),e.fillStyle=this.color.toString(),s=0,l=0,p=(y=this.lines).length;l<p;l++)c=y[l],P=Math.ceil(e.measureText(c).width)+W,I=function(){switch(this.alignment){case"right":return this.width()-P;case"center":return(this.width()-P)/2;default:return 0}}.call(this),b=(s+1)*(Math.ceil(fontHeight(this.fontSize))+m)-m,s++,e.fillText(c,I+w,b+u);for(s=d=S=Math.min(this.startMark,this.endMark),C=Math.max(this.startMark,this.endMark);S<=C?d<C:d>C;s=S<=C?++d:--d)g=this.slotCoordinates(s).subtract(this.position()),n=this.text.charAt(s),e.fillStyle=this.markedBackgoundColor.toString(),e.fillRect(g.x,g.y,Math.ceil(e.measureText(n).width)+1,Math.ceil(fontHeight(this.fontSize))),e.fillStyle=this.markedTextColor.toString(),e.fillText(n,g.x,g.y+Math.ceil(fontHeight(this.fontSize)));return o=[t,e],world.cacheForImmutableBackBuffers.set(r,o),o},window.TextMorph.prototype.rawSetExtent=function(t){if(!t.equals(this.extent()))return this.breakNumberOfRawMovesAndResizesCaches(),this.maxTextWidth=Math.max(t.x,0),this.reLayout(),this.changed()},window.TextMorph.prototype.slotRowAndColumn=function(t){var e,n,o,i,r,s,a;for(o=0,a=n=0,r=this.lines.length;0<=r?n<r:n>r;a=0<=r?++n:--n)for(o=this.lineSlots[a],e=i=0,s=this.lines[a].length;0<=s?i<s:i>s;e=0<=s?++i:--i){if(o===t)return[a,e];o+=1}return[this.lines.length-1,this.lines[this.lines.length-1].length-1]},window.TextMorph.prototype.slotCoordinates=function(t){var e,n,o,i,r,s,a;return[o,n]=this.slotRowAndColumn(t),e=Math.abs(this.shadowOffset.y),a=o*(Math.ceil(fontHeight(this.fontSize))+e),r=Math.ceil(this.backBufferContext.measureText(this.lines[o].substring(0,n)).width),i=this.left()+r,s=this.top()+a,new Point(i,s)},window.TextMorph.prototype.slotAt=function(t){var e,n,o,i;for(e=0,o=0,n=0,i=Math.abs(this.shadowOffset.y);t.y-this.top()>(Math.ceil(fontHeight(this.fontSize))+i)*o;)o+=1;for(o=Math.max(o,1);t.x-this.left()>e;)e+=Math.ceil(this.backBufferContext.measureText(this.lines[o-1][n]).width),n+=1;return this.lineSlots[Math.max(o-1,0)]+n-1},window.TextMorph.prototype.upFrom=function(t){var e,n,o;return[o,n]=this.slotRowAndColumn(t),o<1?t:(e=this.lines[o-1]).length<n-1?this.lineSlots[o-1]+e.length:this.lineSlots[o-1]+n},window.TextMorph.prototype.downFrom=function(t){var e,n,o;return[o,n]=this.slotRowAndColumn(t),o>this.lines.length-2?t:(e=this.lines[o+1]).length<n-1?this.lineSlots[o+1]+e.length:this.lineSlots[o+1]+n},window.TextMorph.prototype.startOfLine=function(t){return this.lineSlots[this.slotRowAndColumn(t).y]},window.TextMorph.prototype.endOfLine=function(t){return this.startOfLine(t)+this.lines[this.slotRowAndColumn(t).y].length-1},window.TextMorph.prototype.addMorphSpecificMenuEntries=function(t,e){return TextMorph.__super__.addMorphSpecificMenuEntries.apply(this,arguments),e.addLine(),"left"!==this.alignment&&e.addMenuItem("align left",!0,this,"setAlignmentToLeft"),"right"!==this.alignment&&e.addMenuItem("align right",!0,this,"setAlignmentToRight"),"center"!==this.alignment&&e.addMenuItem("align center",!0,this,"setAlignmentToCenter"),e.addMenuItem("run contents",!0,this,"doContents")},window.TextMorph.prototype.setAlignmentToLeft=function(){return this.alignment="left",this.reLayout(),this.changed()},window.TextMorph.prototype.setAlignmentToRight=function(){return this.alignment="right",this.reLayout(),this.changed()},window.TextMorph.prototype.setAlignmentToCenter=function(){return this.alignment="center",this.reLayout(),this.changed()},window.TextMorph.prototype.evaluationMenu=function(){var t;return t=this.buildHierarchyMenu(),this.text.length>0&&(t.prependLine(),t.prependMenuItem("select all",!0,this,"selectAllAndEdit"),t.prependMenuItem("do all",!0,this,"doAll")),""!==this.selection().replace(/^\s\s*/,"").replace(/\s\s*$/,"")&&(t.prependLine(),t.prependMenuItem("inspect selection",!0,this,"inspectSelection","evaluate the\nselected expression\nand inspect the result"),t.prependMenuItem("show selection",!0,this,"showSelection","evaluate the\nselected expression\nand show the result"),t.prependMenuItem("do selection",!0,this,"doSelection","evaluate the\nselected expression")),t},window.TextMorph.prototype.selectAllAndEdit=function(){return this.edit(),this.selectAll()},window.TextMorph.prototype.doAll=function(){return this.edit(),this.selectAll(),this.doSelection(),this.clearSelection()},window.TextMorph.prototype.setReceiver=function(t){return this.receiver=t,this.overridingContextMenu=this.evaluationMenu},window.TextMorph.prototype.doSelection=function(){return this.receiver.evaluateString(this.selection()),this.edit()},window.TextMorph.prototype.doContents=function(){return null!=this.receiver?this.receiver.evaluateString(this.text):this.evaluateString(this.text)},window.TextMorph.prototype.showSelection=function(){var t;if(null!=(t=this.receiver.evaluateString(this.selection())))return this.inform(t)},window.TextMorph.prototype.inspectSelection=function(){var t;if(null!=(t=this.receiver.evaluateString(this.selection())))return this.spawnInspector(t)},window.TextMorph.instances=new Set,"function"==typeof window.TextMorph.initStaticConstsAfterClassDefinition&&window.TextMorph.initStaticConstsAfterClassDefinition();