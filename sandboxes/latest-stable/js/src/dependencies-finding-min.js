var extractDependenciesFromDependenciesMap,extractDependenciesFromSource,findLoadOrder,goodMatch,visit;visit=function(dependenciesMap,theClass,loadOrder){var key;if(dependenciesMap.has(theClass))for(key of dependenciesMap.get(theClass))loadOrder.has(key)||visit(dependenciesMap,key,loadOrder);return loadOrder.add(theClass)},extractDependenciesFromDependenciesMap=function(dependenciesMap){var key,loadOrder;for(key of(loadOrder=new Set,dependenciesMap.keys()))visit(dependenciesMap,key,loadOrder);return srcLoadCompileDebugWrites&&console.log("loadOrder: "+loadOrder),loadOrder},goodMatch=function(theMatch,currentClass){var ref;return null!=theMatch&&theMatch[1]!==currentClass&&"Set"!==(ref=theMatch[1])&&"Array"!==ref&&"Map"!==ref},extractDependenciesFromSource=function(){var CLASS_USE_IN_CLASS_DECLARATION,CONSTRUCTION_IN_CLASS_DECLARATION,EXTENDS,REQUIRES,REQUIRES_MIXIN,allSources,dependenciesMap,eachFile,eachLine,fileDependenciesSet,i,j,len,len1,lines,matches;for(dependenciesMap=new Map,REQUIRES=/\sREQUIRES\s*(\w+)/,EXTENDS=/\sextends\s*(\w+)/,/\s*class\s+(\w+)/,REQUIRES_MIXIN=/\s*@augmentWith\s+(\w+)/,/'''/,CONSTRUCTION_IN_CLASS_DECLARATION=/^\s\s@?[a-zA-Z_$][0-9a-zA-Z_$]*\s*:\s*new\s*([a-zA-Z_$][0-9a-zA-Z_$]*)/,CLASS_USE_IN_CLASS_DECLARATION=/^\s\s@?[a-zA-Z_$][0-9a-zA-Z_$]*\s*:\s*([A-Z][0-9a-zA-Z_$]*)/,i=0,len=(allSources=Object.keys(window).filter((function(eachSourceFile){return eachSourceFile.endsWith("_coffeSource")}))).length;i<len;i++)if("Class"!==(eachFile=(eachFile=allSources[i]).replace("_coffeSource",""))&&"Mixin"!==eachFile)for(srcLoadCompileDebugWrites&&console.log(eachFile+" - "),fileDependenciesSet=new Set,j=0,len1=(lines=window[eachFile+"_coffeSource"].split("\n")).length;j<len1;j++)eachLine=lines[j],fileDependenciesSet.add("globalFunctions"),matches=eachLine.match(EXTENDS),goodMatch(matches,eachFile)&&(fileDependenciesSet.add(matches[1]),srcLoadCompileDebugWrites&&console.log(eachFile+" extends "+matches[1])),matches=eachLine.match(REQUIRES),goodMatch(matches,eachFile)&&(fileDependenciesSet.add(matches[1]),srcLoadCompileDebugWrites&&console.log(eachFile+" requires "+matches[1])),matches=eachLine.match(REQUIRES_MIXIN),goodMatch(matches,eachFile)&&(fileDependenciesSet.add(matches[1]),srcLoadCompileDebugWrites&&console.log(eachFile+" requires the mixin"+matches[1])),matches=eachLine.match(CONSTRUCTION_IN_CLASS_DECLARATION),goodMatch(matches,eachFile)&&(fileDependenciesSet.add(matches[1]),srcLoadCompileDebugWrites&&console.log(eachFile+" has construction in class declaration "+matches[1])),matches=eachLine.match(CLASS_USE_IN_CLASS_DECLARATION),goodMatch(matches,eachFile)&&(fileDependenciesSet.add(matches[1]),srcLoadCompileDebugWrites&&console.log(eachFile+" has class use in class declaration "+matches[1])),dependenciesMap.set(eachFile,fileDependenciesSet);return dependenciesMap},findLoadOrder=function(){var dependenciesMap;return dependenciesMap=extractDependenciesFromSource(),extractDependenciesFromDependenciesMap(dependenciesMap)};