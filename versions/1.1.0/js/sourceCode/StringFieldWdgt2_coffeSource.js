// Generated by CoffeeScript 1.12.7
window.StringFieldWdgt2_coffeSource = '# Like StringFieldMorph, but it uses the StringMorph2\n\n# REQUIRES StringMorph2\n\nclass StringFieldWdgt2 extends PanelWdgt\n\n  defaultContents: nil\n  minTextWidth: nil\n  fontSize: nil\n  fontStyle: nil\n  isBold: nil\n  isItalic: nil\n  isNumeric: nil\n  text: nil\n  isEditable: true\n\n  constructor: (\n      @defaultContents = "",\n      @minTextWidth = 100,\n      @fontSize = 12,\n      @fontStyle = "sans-serif",\n      @isBold = false,\n      @isItalic = false,\n      @isNumeric = false\n      ) ->\n    super()\n    @color = new Color 255, 255, 255\n\n  rawSetWidth: (newWidth)->\n    super\n    @text.rawSetWidth 300\n\n\n  calculateAndUpdateExtent: ->\n    txt = (if @text then @getValue() else @defaultContents)\n    text = new StringMorph2 txt, @fontSize, @fontStyle, @isBold, @isItalic, false, @isNumeric\n    text.fittingSpecWhenBoundsTooSmall = FittingSpecTextInSmallerBounds.SCALEDOWN   \n    #console.log "text morph extent: " + text.text + " : " + text.extent()\n    @rawSetWidth Math.max @minTextWidth, text.width()\n    #console.log "string field morph extent: " + @extent()\n\n  reLayout: ->\n    super()\n    txt = (if @text then @getValue() else @defaultContents)\n    if !@text?\n      @text = new StringMorph2(txt, @fontSize, @fontStyle, @isBold, @isItalic, false, @isNumeric)\n      @text.isNumeric = @isNumeric # for whichever reason...\n      @text.isEditable = @isEditable\n      @text.enableSelecting() \n      @text.fittingSpecWhenBoundsTooSmall = FittingSpecTextInSmallerBounds.SCALEDOWN\n      @add @text\n    @text.fullRawMoveTo @position().add new Point 5,2\n    @text.rawSetExtent new Point 300, 18\n    @silentRawSetExtent new Point @width(), 18\n    @notifyChildrenThatParentHasReLayouted()\n\n  \n  getValue: ->\n    @text.text\n  \n  mouseClickLeft: (pos)->\n    @bringToForeground()\n    if @isEditable\n      @text.edit()\n    else\n      @escalateEvent \'mouseClickLeft\', pos\n  \n  ';
